{"version":3,"file":"mika_chunk_TV.bundle.js","mappings":"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M,oCAGNC,KAAM,sCACNC,OAAQ,uCAET,CACCF,MAAM,sBACNC,KAAK,2BACLC,OAAO,8BAER,CACCF,MAAM,qBACNC,KAAK,4BACLC,OAAO,0BAER,CACCF,MAAM,sBACNC,KAAK,0BACLC,OAAO,2BAER,CACCF,MAAM,iBACNC,KAAK,iBACLC,OAAO,qBAER,CACCF,MAAM,gBACNC,KAAK,oBACLC,OAAO,qBAER,CACCF,MAAM,6BACNC,KAAK,6BACLC,OAAO,qBAER,CACCF,MAAM,iBACNC,KAAK,iBACLC,OAAO,qBAER,CACCF,MAAM,qBACNC,KAAK,qBACLE,SAAS,sBACTC,UAAU,uBACVF,OAAO,yBAER,CACCF,MAAM,sBACNC,KAAK,0BACLE,SAAS,0BACTC,UAAU,0BACVF,OAAO,qBAER,CACCF,MAAM,mBACNC,KAAK,0BACLC,OAAO,wBAER,CACCF,MAAM,sBACNC,KAAK,0BACLC,OAAO,2BAER,CACCG,aAAa,EACbL,MAAM,gBACNC,KAAK,gBACLC,OAAO,qBAER,CACCF,MAAM,eACNC,KAAK,wBACLC,OAAO,yBAER,CACCF,MAAM,qBACNC,KAAK,4BACLC,OAAO,0BAER,CACCF,MAAM,iBACNC,KAAK,qBACLC,OAAO,sBAER,CACCF,MAAM,sBACNC,KAAK,mBACLC,OAAO,0BAER,CACCF,MAAM,mBACNC,KAAK,uBACLC,OAAO,wBAER,CACCF,MAAM,iBACNC,KAAK,iBACLC,OAAO,qBAER,CACCF,MAAM,gBACNC,KAAK,oBACLC,OAAO,qBAER,CACCF,MAAM,gBACNC,KAAK,gBACLC,OAAO,qBAER,CACCF,MAAM,sBACNC,KAAK,0BACLC,OAAO,2BAER,CACCF,MAAM,qBACNC,KAAK,yBACLC,OAAO,0BAER,CACCF,MAAM,gBACNC,KAAK,oBACLC,OAAO,qBAER,CACCF,MAAM,gBACNC,KAAK,gBACLC,OAAO,qBAER,CACCF,MAAM,mBACNC,KAAK,CAAC,2BAA2B,0BACjCE,SAAS,CAAC,2BAA2B,0BACrCC,UAAU,CAAC,2BAA2B,0BACtCF,OAAO,qBAER,CACCF,MAAM,qBACNC,KAAK,yBACLC,OAAO,0BAER,CACCF,MAAM,oBACNC,KAAK,wBACLC,OAAO,yBAER,CACCF,MAAM,gBACNC,KAAK,CAAC,sBAAsB,sBAC5BC,OAAO,qBAER,CACCF,MAAM,gBACNC,KAAK,gBACLC,OAAO,qBAER,CACCF,MAAM,mBACNC,KAAK,mBACLC,OAAO,wBAER,CACCF,MAAM,qBACNC,KAAK,0BACLE,SAAS,0BACTC,UAAU,0BACVF,OAAO,0BACN,CACDF,MAAM,0BACNC,KAAK,0BACLC,OAAO,+BACN,CACDF,MAAM,mBACNC,KAAK,oBACLE,SAAS,oBACTC,UAAU,oBACVF,OAAO,wBACN,CACDF,MAAM,oBACNC,KAAK,oBACLC,OAAO,yBACN,CACDF,MAAM,qBACNC,KAAK,qBACLC,OAAO,0BACN,CACDF,MAAM,kBACNC,KAAK,kBACLC,OAAO,uBACN,CACDF,MAAM,uBACNC,KAAK,qBACLC,OAAO,0BACN,CACDF,MAAM,oBACNC,KAAK,uBACLC,OAAO,wBACN,CACDF,MAAM,wBACNC,KAAK,8BACLC,OAAO,+BACN,CACDF,MAAM,6BACNC,KAAK,6BACLC,OAAO,iCACN,CACDF,MAAM,oBACNC,KAAK,oBACLC,OAAO,yBACN,CACDF,MAAM,0BACNC,KAAK,6BACLC,OAAO,8BACN,CACDF,MAAM,kCACNC,KAAK,mCACLC,OAAO,oCACN,CACDF,MAAM,kCACNC,KAAK,gCACLC,OAAO,8BACN,CACDF,MAAM,mCACNC,KAAK,mCACLC,OAAO,uCAER,CACCF,MAAM,wBACNC,KAAK,8BACLC,OAAO,gCAER,CACCF,MAAM,wBACNC,KAAK,uBACLC,OAAO,4BAER,CACCF,MAAM,gDACNC,KAAK,mDACLC,OAAO,yDAER,CACCF,MAAM,4EACNC,KAAK,0DACLC,OAAO,2DAER,CACCF,MAAM,sDACNC,KAAK,CAAC,4CAA4C,+CAClDC,OAAO,+CAER,CACCF,MAAM,0CACNC,KAAK,iDACLE,SAAS,+CACTC,UAAU,gDACVF,OAAO,0CAER,CACCF,MAAM,sCACNC,KAAK,4CACLC,OAAO,0CAER,CACCF,MAAM,0CACNC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","sources":["webpack://_kuroMi/./src/mikaTV.jsx","webpack://_kuroMi/./src/mmd/extra/mmdExtLoader.js","webpack://_kuroMi/./src/mmd/filelists.js","webpack://_kuroMi/./src/mmd/camera.ts","webpack://_kuroMi/./src/mmd/imageSrc.ts","webpack://_kuroMi/./src/mmd/light.ts","webpack://_kuroMi/./src/mmd/loader.ts","webpack://_kuroMi/./src/mmd/mika.ts","webpack://_kuroMi/./src/mmd/rainEffect.ts","webpack://_kuroMi/./src/mmd/renderer.ts","webpack://_kuroMi/./src/mmd/sceneMain.ts","webpack://_kuroMi/./src/mikaTV.scss","webpack://_kuroMi/./src/mikaTV.scss?fe26"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport ReactDOM from 'react-dom'\r\nimport MikaMMd from \"./mmd/mika\";\r\nimport './mikaTV.scss'\r\nimport { imgLoad, imgRestart, imgArrow } from './mmd/imageSrc'\r\nimport { recommandList } from './mmd/filelists'\r\nimport axios from 'axios'\r\n\r\nfunction mikaTV(props) {\r\n\t// console.log(ReactDOM)\r\n  const currentMod = useRef(null)\r\n  const [initMod,setInitMod] = useState(false)\r\n  const [isInHide,setIsInHide] = useState(false)\r\n  const [initDance,setInitDance] = useState(false)\r\n  const [initBreak,setInitBreak] = useState(false)\r\n  \r\n  const afterDance = useCallback(()=>{\r\n\t  setInitDance(false)\r\n\t  setInitBreak(true)\r\n\t  // startDance();\r\n  },[])\r\n  useEffect(()=>{\r\n\tif(props.show) {\r\n\t\tdocument.getElementById('mikaScreen').setAttribute('class','');\r\n\t\ttry {\r\n\t\t\tvar canvas = document.createElement('canvas');\r\n\t\t\tvar gl = canvas.getContext('webgl');  //  canvas.getContext('experimental-webgl');\r\n\t\t\t\r\n\t\t\tvar debugInfo = gl.getExtension('WEBGL_debug_renderer_info');\r\n\t\t\t\r\n\t\t\tconst displayInfo = {\r\n\t\t\t\tbrand: gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL),\r\n\t\t\t\ttype: gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL)\r\n\t\t\t}\r\n\t\t\taxios.post('http://franxxdaryl.site:1919/mikadisplayinfo', displayInfo).then(async function(res) {\r\n\t\t\t                //  Promise\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tawait axios.request({\r\n\t\t\t\t\t\t\t\t\tmethod: \"GET\",\r\n\t\t\t\t\t\t\t\t\theaders: { 'Content-Type':'application/json;charset=utf-8'},\r\n\t\t\t\t\t\t\t\t\turl: \"http://franxxdaryl.site/displayInfo.json?\"+(new Date().getTime())\r\n\t\t\t\t\t\t\t\t})\t\r\n\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t            })\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t\twindow._currentHotDance = {};\r\n\t\tsetTimeout(()=>{\r\n\t\t\tcurrentMod.current = new MikaMMd(true,false, afterDance);\r\n\t\t\t// currentMod.current.render()\r\n\t\t\t// currentMod.current.pending()\r\n\t\t\t// css3 \r\n\t\t},500)\r\n\t\tsetInitMod(props.show)\r\n\t}\r\n  },[props.show])\r\n\r\n  const startDance = useCallback((needReload=false)=>{\r\n\t  if(window._animateNeedPause === true ) return\r\n\t  if(!initDance){\r\n\t\t  document.getElementById('mikaScreen').setAttribute('class','');\r\n\t\t  currentMod.current.destroy()\r\n\t\t  currentMod.current = null;\r\n\t\t  window._currentHotDance = needReload ? window._currentHotDance : {};\r\n\t\t  currentMod.current = new MikaMMd(false,true, afterDance, needReload);\r\n\t\t  setInitBreak(false)\r\n\t\t  // currentMod.current.reRender();\r\n\t  }\r\n\t  setInitDance(true)\r\n  },[currentMod, initDance])\r\n  const beginThis = (e)=> {\r\n\t  window._currentHotDance = e;\r\n\t  startDance(true)\r\n  }\r\n  const closeTV = useCallback(()=>{\r\n\t  window._currentHotDance = {};\r\n\t  currentMod.current.destroy();\r\n\t  currentMod.current.reloadAmmo().then(res=>{})\r\n\t  const {onClose} = props;\r\n\t  onClose?.() || (()=>{})()\r\n\t  currentMod.current = null;\r\n  \t  setInitDance(false);\r\n\t  setInitBreak(false)\r\n\t  setIsInHide(true)\r\n\t  setTimeout(()=>{\r\n\t  \tsetInitMod(false)\r\n\t\tsetIsInHide(false)\r\n\t  },500)\r\n\t  \r\n  },[currentMod, initDance])\r\n  const recommands = recommandList;\n  return (\n    <div className={`mikaRoot ${initMod ? 'inShow' : 'hide' } ${isInHide ? 'inHide' : ''}`}>\n\t  <div id='mikaStage'>\r\n\t  </div>\r\n\t  <div id='rainroot'></div>\r\n\t  {initBreak && <div id='breakScreen'>\r\n\t\t\t<div className='breakTitle'>.*.  .*.</div>\r\n\t\t\t<div className='breakStep'>.. : ..</div>\r\n\t\t\t<div className='breakContent'>\r\n\t\t\t\t<div className='breakItem' onClick={()=>{startDance(true)}}><img src={imgRestart}></img></div>\r\n\t\t\t\t<div className='breakItem' onClick={()=>{startDance(false)}}><img src={imgLoad}></img></div>\r\n\t\t\t</div>\r\n\t\t\t<div className='topList'>\r\n\t\t\t\t<div className='topTitle'>  </div>\r\n\t\t\t\t<div className='topContent'>{\r\n\t\t\t\t\trecommands.map((info)=>(\r\n\t\t\t\t\t<div key={info.name} onClick={(event)=>{beginThis(info)}}>\r\n\t\t\t\t\t\t<span>{info.name}  {info.actor}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t}</div>\r\n\t\t\t</div>\r\n\t\t  </div>\r\n\t  }\r\n\t  <div id='mikaScreen' style={{'background-color':\"rgb(44 42 42)\",'backgroundImage':\"url('http://all.franxxdaryl.site/dist/snow.gif')\"}}>\r\n\t  {\r\n\t\t  !initDance\r\n\t\t\t?\r\n\t\t\t<>\r\n\t\t\t\t<span style={{\"--i\":\"1\"}}></span>\r\n\t\t\t\t<span style={{\"--i\":\"2\"}}></span>\r\n\t\t\t\t<span style={{\"--i\":\"3\"}}></span>\r\n\t\t\t\t<span style={{\"--i\":\"4\"}}></span>\r\n\t\t\t\t<span style={{\"--i\":\"5\"}}></span>\r\n\t\t\t\t<span style={{\"--i\":\"6\"}}>...</span>\r\n\t\t\t\t<span style={{\"--i\":\"7\"}}></span>\r\n\t\t\t\t<span style={{\"--i\":\"8\"}}></span>\r\n\t\t\t\t<span style={{\"--i\":\"9\"}}></span>\r\n\t\t\t\t<span style={{\"--i\":\"10\"}}></span>\r\n\t\t\t\t<span style={{\"--i\":\"11\"}}>~</span>\r\n\t\t\t</>\r\n\t\t\t:\r\n\t\t\t<>\r\n\t\t\t\t<span style={{\"--i\":\"0\"}}></span>\r\n\t\t\t\t<span style={{\"--i\":\"1\"}}></span>\r\n\t\t\t\t<span style={{\"--i\":\"2\"}}></span>\r\n\t\t\t\t<span style={{\"--i\":\"3\"}}></span>\r\n\t\t\t\t<span style={{\"--i\":\"4\"}}>...</span>\r\n\t\t\t\t<span style={{\"--i\":\"5\"}}></span>\r\n\t\t\t\t<span style={{\"--i\":\"6\"}}></span>\r\n\t\t\t\t<span style={{\"--i\":\"7\"}}></span>\r\n\t\t\t\t<span style={{\"--i\":\"8\"}}></span>\r\n\t\t\t\t<span style={{\"--i\":\"9\"}}></span>\r\n\t\t\t\t<span style={{\"--i\":\"10\"}}>~</span>\r\n\t\t\t\t<div className='actionInfo'>\r\n\t\t\t\t\t<div className='actionTitle'>\r\n\t\t\t\t\t..*  *..\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='actionContent'><div className='actionTopic'>:</div> <div id='actionInfoModel'></div></div>\r\n\t\t\t\t\t<div className='actionContent'><div className='actionTopic'>:</div> <div id='actionInfoMusic'></div></div>\r\n\t\t\t\t\t<div className='actionContent'><div className='actionTopic'>:</div> <div id='actionInfoMotion'></div></div>\r\n\t\t\t\t\t<div className='actionContent'><div className='actionTopic'>:</div> <div id='actionInfoStage'></div></div>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t\t\r\n\t\t}\r\n\t  </div>\r\n\t  <div id='mikaStageShell'></div>\r\n\t  <span id='mikaLogo'>IK T<div className='mikaSwiss'></div></span>\r\n\t  <span id='mikaButton' className={`${initDance ? 'playing' : 'pending' }`} onClick={()=>{startDance(false)}}>\r\n\t\t{!initDance && <span className='mikatootip hide'> ~ </span>}\r\n\t\t<img src='http://all.franxxdaryl.site/dist/play.png' />\r\n\t  </span>\r\n\t  <img id='mikaRing' onClick={closeTV} src='http://all.franxxdaryl.site/dist/ring.png'></img>\r\n    </div>\n  );\n}\n\r\n\r\n// window._initMikaTV_ = (root, _React, _ReactDOM)=>{\r\n// \twindow.React2 = _React;\r\n\t\r\n// \tconsole.log(window.React2 === window.React3)\r\n// \tconst childCmpt = _React.createElement(mikaTV, {show:true}, '');\r\n// \t_ReactDOM.render(childCmpt ,root)\r\n// }\r\nexport default mikaTV;\n","import {\n\tAddOperation,\n\tAnimationClip,\n\tBone,\n\tBufferGeometry,\n\tColor,\n\tCustomBlending,\n\tTangentSpaceNormalMap,\n\tDoubleSide,\n\tDstAlphaFactor,\n\tEuler,\n\tFileLoader,\n\tFloat32BufferAttribute,\n\tFrontSide,\n\tInterpolant,\n\tLoader,\n\tLoaderUtils,\n\tUniformsUtils,\n\tShaderMaterial,\n\tMultiplyOperation,\n\tNearestFilter,\n\tNumberKeyframeTrack,\n\tOneMinusSrcAlphaFactor,\n\tQuaternion,\n\tQuaternionKeyframeTrack,\n\tRepeatWrapping,\n\tSkeleton,\n\tSkinnedMesh,\n\tSrcAlphaFactor,\n\tSRGBColorSpace,\n\tTextureLoader,\n\tUint16BufferAttribute,\n\tVector3,\n\tVectorKeyframeTrack,\n\tRGB_S3TC_DXT1_Format,\n\tRGB_PVRTC_4BPPV1_Format,\n\tRGB_PVRTC_2BPPV1_Format,\n\tRGB_ETC1_Format,\n\tRGB_ETC2_Format,\r\n\tNoBlending,\r\n\tNormalBlending,\r\n\tAdditiveBlending,\r\n\tSubtractiveBlending,\r\n\tMultiplyBlending\n} from 'three';\nimport { MMDToonShader } from 'three/examples/jsm/shaders/MMDToonShader.js';\nimport { TGALoader } from 'three/examples/jsm/loaders/TGALoader.js';\nimport { MMDParser } from 'three/examples/jsm/libs/mmdparser.module.js';\n\r\nconst worker = new Worker(\"./mmdWorker.js\");\r\n\n/**\n * Dependencies\n *  - mmd-parser https://github.com/takahirox/mmd-parser\n *  - TGALoader\n *  - OutlineEffect\n *\n * MMDLoader creates Three.js Objects from MMD resources as\n * PMD, PMX, VMD, and VPD files.\n *\n * PMD/PMX is a model data format, VMD is a motion data format\n * VPD is a posing data format used in MMD(Miku Miku Dance).\n *\n * MMD official site\n *  - https://sites.google.com/view/evpvp/\n *\n * PMD, VMD format (in Japanese)\n *  - http://blog.goo.ne.jp/torisu_tetosuki/e/209ad341d3ece2b1b4df24abf619d6e4\n *\n * PMX format\n *  - https://gist.github.com/felixjones/f8a06bd48f9da9a4539f\n *\n * TODO\n *  - light motion in vmd support.\n *  - SDEF support.\n *  - uv/material/bone morphing support.\n *  - more precise grant skinning support.\n *  - shadow support.\n */\n\n/**\n * @param {THREE.LoadingManager} manager\n */\nclass MMDLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.loader = new FileLoader( this.manager );\n\n\t\tthis.parser = null; // lazy generation\n\t\tthis.meshBuilder = new MeshBuilder( this.manager );\n\t\tthis.animationBuilder = new AnimationBuilder();\n\n\t}\n\n\t/**\n\t * @param {string} animationPath\n\t * @return {MMDLoader}\n\t */\n\tsetAnimationPath( animationPath ) {\n\n\t\tthis.animationPath = animationPath;\n\t\treturn this;\n\n\t}\n\n\t// Load MMD assets as Three.js Object\n\n\t/**\n\t * Loads Model file (.pmd or .pmx) as a SkinnedMesh.\n\t *\n\t * @param {string} url - url to Model(.pmd or .pmx) file\n\t * @param {function} onLoad\n\t * @param {function} onProgress\n\t * @param {function} onError\n\t */\r\n\tparseBuffer(bufferObj, onLoad){\r\n\t\tconst parser = this._getParser();\r\n\t\tconst mmd = /.pmd/.test(bufferObj.url) ? parser.parsePmd( bufferObj.buffer, true ) : parser.parsePmx( bufferObj.buffer, true )\r\n\t\t\r\n\t\tconst builder = this.meshBuilder.setCrossOrigin( this.crossOrigin );\r\n\t\t\r\n\t\tlet resourcePath;\r\n\t\t\r\n\t\tif ( this.resourcePath !== '' ) {\r\n\t\t\r\n\t\t\tresourcePath = this.resourcePath;\r\n\t\t\r\n\t\t} else if ( this.path !== '' ) {\r\n\t\t\r\n\t\t\tresourcePath = this.path;\r\n\t\t\r\n\t\t} else {\r\n\t\t\r\n\t\t\tresourcePath = LoaderUtils.extractUrlBase( bufferObj.url );\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\tconst result = builder.build(mmd, resourcePath, ()=>{}, ()=>{} );\r\n\t\t\r\n\t\tonLoad(result)\r\n\t}\n\tload( url, onLoad, onProgress=()=>{}, onError=()=>{} ) {\n\n\t\tconst builder = this.meshBuilder.setCrossOrigin( this.crossOrigin );\n\n\t\t// resource path\n\n\t\tlet resourcePath;\n\n\t\tif ( this.resourcePath !== '' ) {\n\n\t\t\tresourcePath = this.resourcePath;\n\n\t\t} else if ( this.path !== '' ) {\n\n\t\t\tresourcePath = this.path;\n\n\t\t} else {\n\n\t\t\tresourcePath = LoaderUtils.extractUrlBase( url );\n\n\t\t}\n\n\t\tconst modelExtension = this._extractExtension( url ).toLowerCase();\n\n\t\t// Should I detect by seeing header?\n\t\tif ( modelExtension !== 'pmd' && modelExtension !== 'pmx' ) {\n\n\t\t\tif ( onError ) onError( new Error( 'THREE.MMDLoader: Unknown model file extension .' + modelExtension + '.' ) );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis[ modelExtension === 'pmd' ? 'loadPMD' : 'loadPMX' ]( url, function ( data ) {\n\t\t\tconst result = builder.build( data, resourcePath, onProgress, onError );\r\n\t\t\tonLoad(result);\n\t\t}, onProgress, onError );\n\n\t}\n\n\t/**\n\t * Loads Motion file(s) (.vmd) as a AnimationClip.\n\t * If two or more files are specified, they'll be merged.\n\t *\n\t * @param {string|Array<string>} url - url(s) to animation(.vmd) file(s)\n\t * @param {SkinnedMesh|THREE.Camera} object - tracks will be fitting to this object\n\t * @param {function} onLoad\n\t * @param {function} onProgress\n\t * @param {function} onError\n\t */\n\tloadAnimation( url, object, onLoad, onProgress, onError ) {\n\n\t\tconst builder = this.animationBuilder;\n\n\t\tthis.loadVMD( url, function ( vmd ) {\n\n\t\t\tonLoad( object.isCamera\n\t\t\t\t? builder.buildCameraAnimation( vmd )\n\t\t\t\t: builder.build( vmd, object ) );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\t/**\n\t * Loads mode file and motion file(s) as an object containing\n\t * a SkinnedMesh and a AnimationClip.\n\t * Tracks of AnimationClip are fitting to the model.\n\t *\n\t * @param {string} modelUrl - url to Model(.pmd or .pmx) file\n\t * @param {string|Array{string}} vmdUrl - url(s) to animation(.vmd) file\n\t * @param {function} onLoad\n\t * @param {function} onProgress\n\t * @param {function} onError\n\t */\n\tloadWithAnimation( modelUrl, vmdUrl, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tthis.load( modelUrl, function ( mesh ) {\n\n\t\t\tscope.loadAnimation( vmdUrl, mesh, function ( animation ) {\n\n\t\t\t\tonLoad( {\n\t\t\t\t\tmesh: mesh,\n\t\t\t\t\tanimation: animation\n\t\t\t\t} );\n\n\t\t\t}, onProgress, onError );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\t// Load MMD assets as Object data parsed by MMDParser\n\n\t/**\n\t * Loads .pmd file as an Object.\n\t *\n\t * @param {string} url - url to .pmd file\n\t * @param {function} onLoad\n\t * @param {function} onProgress\n\t * @param {function} onError\n\t */\n\tloadPMD( url, onLoad, onProgress, onError ) {\n\n\t\tconst parser = this._getParser();\n\n\t\tthis.loader\n\t\t\t.setMimeType( undefined )\n\t\t\t.setPath( this.path )\n\t\t\t.setResponseType( 'arraybuffer' )\n\t\t\t.setRequestHeader( this.requestHeader )\n\t\t\t.setWithCredentials( this.withCredentials )\n\t\t\t.load( url, function ( buffer ) {\n\t\t\t\tconst mmd = parser.parsePmd( buffer, true )\r\n\t\t\t\tonLoad(mmd);\r\n\t\t\t\tworker.postMessage({\r\n\t\t\t\t\t command: \"stageObjSave\",\r\n\t\t\t\t\t scenceObj: {buffer, url}\r\n\t\t\t\t\t});\n\t\t\t\t// try {\n\n\t\t\t\t// \tonLoad( parser.parsePmd( buffer, true ) );\n\n\t\t\t\t// } catch ( e ) {\n\n\t\t\t\t// \tif ( onError ) onError( e );\n\n\t\t\t\t// }\n\n\t\t\t}, onProgress, onError );\n\n\t}\n\n\t/**\n\t * Loads .pmx file as an Object.\n\t *\n\t * @param {string} url - url to .pmx file\n\t * @param {function} onLoad\n\t * @param {function} onProgress\n\t * @param {function} onError\n\t */\n\tloadPMX( url, onLoad, onProgress, onError ) {\n\t\tconst parser = this._getParser();\n\n\t\tthis.loader\n\t\t\t.setMimeType( undefined )\n\t\t\t.setPath( this.path )\n\t\t\t.setResponseType( 'arraybuffer' )\n\t\t\t.setRequestHeader( this.requestHeader )\n\t\t\t.setWithCredentials( this.withCredentials )\n\t\t\t.load( url, function ( buffer ) {\n\t\t\t\tconst mmd = parser.parsePmx( buffer, true )\r\n\t\t\t\t\r\n\t\t\t\tonLoad(mmd);\r\n\t\t\t    worker.postMessage({\r\n\t\t\t\t     command: \"stageObjSave\",\r\n \t\t\t\t\t scenceObj: {buffer, url}\r\n \t\t\t\t    });\r\n\t\t\t}, onProgress, onError );\n\n\t}\n\n\t/**\n\t * Loads .vmd file as an Object. If two or more files are specified\n\t * they'll be merged.\n\t *\n\t * @param {string|Array<string>} url - url(s) to .vmd file(s)\n\t * @param {function} onLoad\n\t * @param {function} onProgress\n\t * @param {function} onError\n\t */\n\tloadVMD( url, onLoad, onProgress, onError ) {\n\n\t\tconst urls = Array.isArray( url ) ? url : [ url ];\n\n\t\tconst vmds = [];\n\t\tconst vmdNum = urls.length;\n\n\t\tconst parser = this._getParser();\n\n\t\tthis.loader\n\t\t\t.setMimeType( undefined )\n\t\t\t.setPath( this.animationPath )\n\t\t\t.setResponseType( 'arraybuffer' )\n\t\t\t.setRequestHeader( this.requestHeader )\n\t\t\t.setWithCredentials( this.withCredentials );\n\n\t\tfor ( let i = 0, il = urls.length; i < il; i ++ ) {\n\n\t\t\tthis.loader.load( urls[ i ], function ( buffer ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\tvmds.push( parser.parseVmd( buffer, true ) );\n\n\t\t\t\t\tif ( vmds.length === vmdNum ) onLoad( parser.mergeVmds( vmds ) );\n\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\tif ( onError ) onError( e );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Loads .vpd file as an Object.\n\t *\n\t * @param {string} url - url to .vpd file\n\t * @param {boolean} isUnicode\n\t * @param {function} onLoad\n\t * @param {function} onProgress\n\t * @param {function} onError\n\t */\n\tloadVPD( url, isUnicode, onLoad, onProgress, onError ) {\n\n\t\tconst parser = this._getParser();\n\n\t\tthis.loader\n\t\t\t.setMimeType( isUnicode ? undefined : 'text/plain; charset=shift_jis' )\n\t\t\t.setPath( this.animationPath )\n\t\t\t.setResponseType( 'text' )\n\t\t\t.setRequestHeader( this.requestHeader )\n\t\t\t.setWithCredentials( this.withCredentials )\n\t\t\t.load( url, function ( text ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\tonLoad( parser.parseVpd( text, true ) );\n\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\tif ( onError ) onError( e );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t}\n\n\t// private methods\n\n\t_extractExtension( url ) {\n\n\t\tconst index = url.lastIndexOf( '.' );\n\t\treturn index < 0 ? '' : url.slice( index + 1 );\n\n\t}\n\n\t_getParser() {\n\n\t\tif ( this.parser === null ) {\n\n\t\t\tthis.parser = new MMDParser.Parser();\n\n\t\t}\n\n\t\treturn this.parser;\n\n\t}\n\n}\n\n// Utilities\n\n/*\n\t * base64 encoded defalut toon textures toon00.bmp - toon10.bmp.\n\t * We don't need to request external toon image files.\n\t */\nconst DEFAULT_TOON_TEXTURES = [\n\t'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAL0lEQVRYR+3QQREAAAzCsOFfNJPBJ1XQS9r2hsUAAQIECBAgQIAAAQIECBAgsBZ4MUx/ofm2I/kAAAAASUVORK5CYII=',\n\t'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAN0lEQVRYR+3WQREAMBACsZ5/bWiiMvgEBTt5cW37hjsBBAgQIECAwFwgyfYPCCBAgAABAgTWAh8aBHZBl14e8wAAAABJRU5ErkJggg==',\n\t'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAOUlEQVRYR+3WMREAMAwDsYY/yoDI7MLwIiP40+RJklfcCCBAgAABAgTqArfb/QMCCBAgQIAAgbbAB3z/e0F3js2cAAAAAElFTkSuQmCC',\n\t'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAN0lEQVRYR+3WQREAMBACsZ5/B5ilMvgEBTt5cW37hjsBBAgQIECAwFwgyfYPCCBAgAABAgTWAh81dWyx0gFwKAAAAABJRU5ErkJggg==',\n\t'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAOklEQVRYR+3WoREAMAwDsWb/UQtCy9wxTOQJ/oQ8SXKKGwEECBAgQIBAXeDt7f4BAQQIECBAgEBb4AOz8Hzx7WLY4wAAAABJRU5ErkJggg==',\n\t'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABPUlEQVRYR+1XwW7CMAy1+f9fZOMysSEOEweEOPRNdm3HbdOyIhAcklPrOs/PLy9RygBALxzcCDQFmgJNgaZAU6Ap0BR4PwX8gsRMVLssMRH5HcpzJEaWL7EVg9F1IHRlyqQohgVr4FGUlUcMJSjcUlDw0zvjeun70cLWmneoyf7NgBTQSniBTQQSuJAZsOnnaczjIMb5hCiuHKxokCrJfVnrctyZL0PkJAJe1HMil4nxeyi3Ypfn1kX51jpPvo/JeCNC4PhVdHdJw2XjBR8brF8PEIhNVn12AgP7uHsTBguBn53MUZCqv7Lp07Pn5k1Ro+uWmUNn7D+M57rtk7aG0Vo73xyF/fbFf0bPJjDXngnGocDTdFhygZjwUQrMNrDcmZlQT50VJ/g/UwNyHpu778+yW+/ksOz/BFo54P4AsUXMfRq7XWsAAAAASUVORK5CYII=',\n\t'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACMElEQVRYR+2Xv4pTQRTGf2dubhLdICiii2KnYKHVolhauKWPoGAnNr6BD6CvIVaihYuI2i1ia0BY0MZGRHQXjZj/mSPnnskfNWiWZUlzJ5k7M2cm833nO5Mziej2DWWJRUoCpQKlAntSQCqgw39/iUWAGmh37jrRnVsKlgpiqmkoGVABA7E57fvY+pJDdgKqF6HzFCSADkDq+F6AHABtQ+UMVE5D7zXod7fFNhTEckTbj5XQgHzNN+5tQvc5NG7C6BNkp6D3EmpXHDR+dQAjFLchW3VS9rlw3JBh+B7ys5Cf9z0GW1C/7P32AyBAOAz1q4jGliIH3YPuBnSfQX4OGreTIgEYQb/pBDtPnEQ4CivXYPAWBk13oHrB54yA9QuSn2H4AcKRpEILDt0BUzj+RLR1V5EqjD66NPRBVpLcQwjHoHYJOhsQv6U4mnzmrIXJCFr4LDwm/xBUoboG9XX4cc9VKdYoSA2yk5NQLJaKDUjTBoveG3Z2TElTxwjNK4M3LEZgUdDdruvcXzKBpStgp2NPiWi3ks9ZXxIoFVi+AvHLdc9TqtjL3/aYjpPlrzOcEnK62Szhimdd7xX232zFDTgtxezOu3WNMRLjiKgjtOhHVMd1loynVHvOgjuIIJMaELEqhJAV/RCSLbWTcfPFakFgFlALTRRvx+ok6Hlp/Q+v3fmx90bMyUzaEAhmM3KvHlXTL5DxnbGf/1M8RNNACLL5MNtPxP/mypJAqcDSFfgFhpYqWUzhTEAAAAAASUVORK5CYII=',\n\t'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAL0lEQVRYR+3QQREAAAzCsOFfNJPBJ1XQS9r2hsUAAQIECBAgQIAAAQIECBAgsBZ4MUx/ofm2I/kAAAAASUVORK5CYII=',\n\t'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAL0lEQVRYR+3QQREAAAzCsOFfNJPBJ1XQS9r2hsUAAQIECBAgQIAAAQIECBAgsBZ4MUx/ofm2I/kAAAAASUVORK5CYII=',\n\t'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAL0lEQVRYR+3QQREAAAzCsOFfNJPBJ1XQS9r2hsUAAQIECBAgQIAAAQIECBAgsBZ4MUx/ofm2I/kAAAAASUVORK5CYII=',\n\t'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAL0lEQVRYR+3QQREAAAzCsOFfNJPBJ1XQS9r2hsUAAQIECBAgQIAAAQIECBAgsBZ4MUx/ofm2I/kAAAAASUVORK5CYII='\n];\n\nconst NON_ALPHA_CHANNEL_FORMATS = [\n\tRGB_S3TC_DXT1_Format,\n\tRGB_PVRTC_4BPPV1_Format,\n\tRGB_PVRTC_2BPPV1_Format,\n\tRGB_ETC1_Format,\n\tRGB_ETC2_Format\n];\n\n// Builders. They build Three.js object from Object data parsed by MMDParser.\n\n/**\n * @param {THREE.LoadingManager} manager\n */\nclass MeshBuilder {\n\n\tconstructor( manager ) {\n\n\t\tthis.crossOrigin = 'anonymous';\n\t\tthis.geometryBuilder = new GeometryBuilder();\n\t\tthis.materialBuilder = new MaterialBuilder( manager );\n\n\t}\n\n\t/**\n\t * @param {string} crossOrigin\n\t * @return {MeshBuilder}\n\t */\n\tsetCrossOrigin( crossOrigin ) {\n\n\t\tthis.crossOrigin = crossOrigin;\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * @param {Object} data - parsed PMD/PMX data\n\t * @param {string} resourcePath\n\t * @param {function} onProgress\n\t * @param {function} onError\n\t * @return {SkinnedMesh}\n\t */\n\tbuild( data, resourcePath, onProgress, onError ) {\n\n\t\tconst geometry = this.geometryBuilder.build( data );\n\t\tconst material = this.materialBuilder\n\t\t\t.setCrossOrigin( this.crossOrigin )\n\t\t\t.setResourcePath( resourcePath )\n\t\t\t.build( data, geometry, onProgress, onError );\n\n\t\tconst mesh = new SkinnedMesh( geometry, material );\n\n\t\tconst skeleton = new Skeleton( initBones( mesh ) );\n\t\tmesh.bind( skeleton );\n\n\t\t// console.log( mesh ); // for console debug\n\n\t\treturn mesh;\n\n\t}\n\n}\n\n// TODO: Try to remove this function\n\nfunction initBones( mesh ) {\n\n\tconst geometry = mesh.geometry;\n\n\tconst bones = [];\n\n\tif ( geometry && geometry.bones !== undefined ) {\n\n\t\t// first, create array of 'Bone' objects from geometry data\n\n\t\tfor ( let i = 0, il = geometry.bones.length; i < il; i ++ ) {\n\n\t\t\tconst gbone = geometry.bones[ i ];\n\n\t\t\t// create new 'Bone' object\n\n\t\t\tconst bone = new Bone();\n\t\t\tbones.push( bone );\n\n\t\t\t// apply values\n\n\t\t\tbone.name = gbone.name;\n\t\t\tbone.position.fromArray( gbone.pos );\n\t\t\tbone.quaternion.fromArray( gbone.rotq );\n\t\t\tif ( gbone.scl !== undefined ) bone.scale.fromArray( gbone.scl );\n\n\t\t}\n\n\t\t// second, create bone hierarchy\n\n\t\tfor ( let i = 0, il = geometry.bones.length; i < il; i ++ ) {\n\n\t\t\tconst gbone = geometry.bones[ i ];\n\n\t\t\tif ( ( gbone.parent !== - 1 ) && ( gbone.parent !== null ) && ( bones[ gbone.parent ] !== undefined ) ) {\n\n\t\t\t\t// subsequent bones in the hierarchy\n\n\t\t\t\tbones[ gbone.parent ].add( bones[ i ] );\n\n\t\t\t} else {\n\n\t\t\t\t// topmost bone, immediate child of the skinned mesh\n\n\t\t\t\tmesh.add( bones[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// now the bones are part of the scene graph and children of the skinned mesh.\n\t// let's update the corresponding matrices\n\n\tmesh.updateMatrixWorld( true );\n\n\treturn bones;\n\n}\n\n//\n\nclass GeometryBuilder {\n\n\t/**\n\t * @param {Object} data - parsed PMD/PMX data\n\t * @return {BufferGeometry}\n\t */\n\tbuild( data ) {\n\n\t\t// for geometry\n\t\tconst positions = [];\n\t\tconst uvs = [];\n\t\tconst normals = [];\n\n\t\tconst indices = [];\n\n\t\tconst groups = [];\n\n\t\tconst bones = [];\n\t\tconst skinIndices = [];\n\t\tconst skinWeights = [];\n\n\t\tconst morphTargets = [];\n\t\tconst morphPositions = [];\n\n\t\tconst iks = [];\n\t\tconst grants = [];\n\n\t\tconst rigidBodies = [];\n\t\tconst constraints = [];\n\n\t\t// for work\n\t\tlet offset = 0;\n\t\tconst boneTypeTable = {};\n\n\t\t// positions, normals, uvs, skinIndices, skinWeights\n\n\t\tfor ( let i = 0; i < data.metadata.vertexCount; i ++ ) {\n\n\t\t\tconst v = data.vertices[ i ];\n\n\t\t\tfor ( let j = 0, jl = v.position.length; j < jl; j ++ ) {\n\n\t\t\t\tpositions.push( v.position[ j ] );\n\n\t\t\t}\n\n\t\t\tfor ( let j = 0, jl = v.normal.length; j < jl; j ++ ) {\n\n\t\t\t\tnormals.push( v.normal[ j ] );\n\n\t\t\t}\n\n\t\t\tfor ( let j = 0, jl = v.uv.length; j < jl; j ++ ) {\n\n\t\t\t\tuvs.push( v.uv[ j ] );\n\n\t\t\t}\n\n\t\t\tfor ( let j = 0; j < 4; j ++ ) {\n\n\t\t\t\tskinIndices.push( v.skinIndices.length - 1 >= j ? v.skinIndices[ j ] : 0.0 );\n\n\t\t\t}\n\n\t\t\tfor ( let j = 0; j < 4; j ++ ) {\n\n\t\t\t\tskinWeights.push( v.skinWeights.length - 1 >= j ? v.skinWeights[ j ] : 0.0 );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 0; i < data.metadata.faceCount; i ++ ) {\n\n\t\t\tconst face = data.faces[ i ];\n\n\t\t\tfor ( let j = 0, jl = face.indices.length; j < jl; j ++ ) {\n\n\t\t\t\tindices.push( face.indices[ j ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// groups\n\n\t\tfor ( let i = 0; i < data.metadata.materialCount; i ++ ) {\n\n\t\t\tconst material = data.materials[ i ];\n\n\t\t\tgroups.push( {\n\t\t\t\toffset: offset * 3,\n\t\t\t\tcount: material.faceCount * 3\n\t\t\t} );\n\n\t\t\toffset += material.faceCount;\n\n\t\t}\n\n\t\t// bones\n\n\t\tfor ( let i = 0; i < data.metadata.rigidBodyCount; i ++ ) {\n\n\t\t\tconst body = data.rigidBodies[ i ];\n\t\t\tlet value = boneTypeTable[ body.boneIndex ];\n\n\t\t\t// keeps greater number if already value is set without any special reasons\n\t\t\tvalue = value === undefined ? body.type : Math.max( body.type, value );\n\n\t\t\tboneTypeTable[ body.boneIndex ] = value;\n\n\t\t}\n\n\t\tfor ( let i = 0; i < data.metadata.boneCount; i ++ ) {\n\n\t\t\tconst boneData = data.bones[ i ];\n\n\t\t\tconst bone = {\n\t\t\t\tindex: i,\n\t\t\t\ttransformationClass: boneData.transformationClass,\n\t\t\t\tparent: boneData.parentIndex,\n\t\t\t\tname: boneData.name,\n\t\t\t\tpos: boneData.position.slice( 0, 3 ),\n\t\t\t\trotq: [ 0, 0, 0, 1 ],\n\t\t\t\tscl: [ 1, 1, 1 ],\n\t\t\t\trigidBodyType: boneTypeTable[ i ] !== undefined ? boneTypeTable[ i ] : - 1\n\t\t\t};\n\n\t\t\tif ( bone.parent !== - 1 ) {\n\n\t\t\t\tbone.pos[ 0 ] -= data.bones[ bone.parent ].position[ 0 ];\n\t\t\t\tbone.pos[ 1 ] -= data.bones[ bone.parent ].position[ 1 ];\n\t\t\t\tbone.pos[ 2 ] -= data.bones[ bone.parent ].position[ 2 ];\n\n\t\t\t}\n\n\t\t\tbones.push( bone );\n\n\t\t}\n\n\t\t// iks\n\n\t\t// TODO: remove duplicated codes between PMD and PMX\n\t\tif ( data.metadata.format === 'pmd' ) {\n\n\t\t\tfor ( let i = 0; i < data.metadata.ikCount; i ++ ) {\n\n\t\t\t\tconst ik = data.iks[ i ];\n\n\t\t\t\tconst param = {\n\t\t\t\t\ttarget: ik.target,\n\t\t\t\t\teffector: ik.effector,\n\t\t\t\t\titeration: ik.iteration,\n\t\t\t\t\tmaxAngle: ik.maxAngle * 4,\n\t\t\t\t\tlinks: []\n\t\t\t\t};\n\n\t\t\t\tfor ( let j = 0, jl = ik.links.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst link = {};\n\t\t\t\t\tlink.index = ik.links[ j ].index;\n\t\t\t\t\tlink.enabled = true;\n\n\t\t\t\t\tif ( data.bones[ link.index ].name.indexOf( '' ) >= 0 ) {\n\n\t\t\t\t\t\tlink.limitation = new Vector3( 1.0, 0.0, 0.0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tparam.links.push( link );\n\n\t\t\t\t}\n\n\t\t\t\tiks.push( param );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tfor ( let i = 0; i < data.metadata.boneCount; i ++ ) {\n\n\t\t\t\tconst ik = data.bones[ i ].ik;\n\n\t\t\t\tif ( ik === undefined ) continue;\n\n\t\t\t\tconst param = {\n\t\t\t\t\ttarget: i,\n\t\t\t\t\teffector: ik.effector,\n\t\t\t\t\titeration: ik.iteration,\n\t\t\t\t\tmaxAngle: ik.maxAngle,\n\t\t\t\t\tlinks: []\n\t\t\t\t};\n\n\t\t\t\tfor ( let j = 0, jl = ik.links.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst link = {};\n\t\t\t\t\tlink.index = ik.links[ j ].index;\n\t\t\t\t\tlink.enabled = true;\n\n\t\t\t\t\tif ( ik.links[ j ].angleLimitation === 1 ) {\n\n\t\t\t\t\t\t// Revert if rotationMin/Max doesn't work well\n\t\t\t\t\t\t// link.limitation = new Vector3( 1.0, 0.0, 0.0 );\n\n\t\t\t\t\t\tconst rotationMin = ik.links[ j ].lowerLimitationAngle;\n\t\t\t\t\t\tconst rotationMax = ik.links[ j ].upperLimitationAngle;\n\n\t\t\t\t\t\t// Convert Left to Right coordinate by myself because\n\t\t\t\t\t\t// MMDParser doesn't convert. It's a MMDParser's bug\n\n\t\t\t\t\t\tconst tmp1 = - rotationMax[ 0 ];\n\t\t\t\t\t\tconst tmp2 = - rotationMax[ 1 ];\n\t\t\t\t\t\trotationMax[ 0 ] = - rotationMin[ 0 ];\n\t\t\t\t\t\trotationMax[ 1 ] = - rotationMin[ 1 ];\n\t\t\t\t\t\trotationMin[ 0 ] = tmp1;\n\t\t\t\t\t\trotationMin[ 1 ] = tmp2;\n\n\t\t\t\t\t\tlink.rotationMin = new Vector3().fromArray( rotationMin );\n\t\t\t\t\t\tlink.rotationMax = new Vector3().fromArray( rotationMax );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tparam.links.push( link );\n\n\t\t\t\t}\n\n\t\t\t\tiks.push( param );\n\n\t\t\t\t// Save the reference even from bone data for efficiently\n\t\t\t\t// simulating PMX animation system\n\t\t\t\tbones[ i ].ik = param;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// grants\n\n\t\tif ( data.metadata.format === 'pmx' ) {\n\n\t\t\t// bone index -> grant entry map\n\t\t\tconst grantEntryMap = {};\n\n\t\t\tfor ( let i = 0; i < data.metadata.boneCount; i ++ ) {\n\n\t\t\t\tconst boneData = data.bones[ i ];\n\t\t\t\tconst grant = boneData.grant;\n\n\t\t\t\tif ( grant === undefined ) continue;\n\n\t\t\t\tconst param = {\n\t\t\t\t\tindex: i,\n\t\t\t\t\tparentIndex: grant.parentIndex,\n\t\t\t\t\tratio: grant.ratio,\n\t\t\t\t\tisLocal: grant.isLocal,\n\t\t\t\t\taffectRotation: grant.affectRotation,\n\t\t\t\t\taffectPosition: grant.affectPosition,\n\t\t\t\t\ttransformationClass: boneData.transformationClass\n\t\t\t\t};\n\n\t\t\t\tgrantEntryMap[ i ] = { parent: null, children: [], param: param, visited: false };\n\n\t\t\t}\n\n\t\t\tconst rootEntry = { parent: null, children: [], param: null, visited: false };\n\n\t\t\t// Build a tree representing grant hierarchy\n\n\t\t\tfor ( const boneIndex in grantEntryMap ) {\n\n\t\t\t\tconst grantEntry = grantEntryMap[ boneIndex ];\n\t\t\t\tconst parentGrantEntry = grantEntryMap[ grantEntry.parentIndex ] || rootEntry;\n\n\t\t\t\tgrantEntry.parent = parentGrantEntry;\n\t\t\t\tparentGrantEntry.children.push( grantEntry );\n\n\t\t\t}\n\n\t\t\t// Sort grant parameters from parents to children because\n\t\t\t// grant uses parent's transform that parent's grant is already applied\n\t\t\t// so grant should be applied in order from parents to children\n\n\t\t\tfunction traverse( entry ) {\n\n\t\t\t\tif ( entry.param ) {\n\n\t\t\t\t\tgrants.push( entry.param );\n\n\t\t\t\t\t// Save the reference even from bone data for efficiently\n\t\t\t\t\t// simulating PMX animation system\n\t\t\t\t\tbones[ entry.param.index ].grant = entry.param;\n\n\t\t\t\t}\n\n\t\t\t\tentry.visited = true;\n\n\t\t\t\tfor ( let i = 0, il = entry.children.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst child = entry.children[ i ];\n\n\t\t\t\t\t// Cut off a loop if exists. (Is a grant loop invalid?)\n\t\t\t\t\tif ( ! child.visited ) traverse( child );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttraverse( rootEntry );\n\n\t\t}\n\n\t\t// morph\n\n\t\tfunction updateAttributes( attribute, morph, ratio ) {\n\n\t\t\tfor ( let i = 0; i < morph.elementCount; i ++ ) {\n\n\t\t\t\tconst element = morph.elements[ i ];\n\n\t\t\t\tlet index;\n\n\t\t\t\tif ( data.metadata.format === 'pmd' ) {\n\n\t\t\t\t\tindex = data.morphs[ 0 ].elements[ element.index ].index;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tindex = element.index;\n\n\t\t\t\t}\n\n\t\t\t\tattribute.array[ index * 3 + 0 ] += element.position[ 0 ] * ratio;\n\t\t\t\tattribute.array[ index * 3 + 1 ] += element.position[ 1 ] * ratio;\n\t\t\t\tattribute.array[ index * 3 + 2 ] += element.position[ 2 ] * ratio;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let i = 0; i < data.metadata.morphCount; i ++ ) {\n\n\t\t\tconst morph = data.morphs[ i ];\n\t\t\tconst params = { name: morph.name };\n\n\t\t\tconst attribute = new Float32BufferAttribute( data.metadata.vertexCount * 3, 3 );\n\t\t\tattribute.name = morph.name;\n\n\t\t\tfor ( let j = 0; j < data.metadata.vertexCount * 3; j ++ ) {\n\n\t\t\t\tattribute.array[ j ] = positions[ j ];\n\n\t\t\t}\n\n\t\t\tif ( data.metadata.format === 'pmd' ) {\n\n\t\t\t\tif ( i !== 0 ) {\n\n\t\t\t\t\tupdateAttributes( attribute, morph, 1.0 );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( morph.type === 0 ) { // group\n\n\t\t\t\t\tfor ( let j = 0; j < morph.elementCount; j ++ ) {\n\n\t\t\t\t\t\tconst morph2 = data.morphs[ morph.elements[ j ].index ];\n\t\t\t\t\t\tconst ratio = morph.elements[ j ].ratio;\n\n\t\t\t\t\t\tif ( morph2.type === 1 ) {\n\n\t\t\t\t\t\t\tupdateAttributes( attribute, morph2, ratio );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// TODO: implement\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( morph.type === 1 ) { // vertex\n\n\t\t\t\t\tupdateAttributes( attribute, morph, 1.0 );\n\n\t\t\t\t} else if ( morph.type === 2 ) { // bone\n\n\t\t\t\t\t// TODO: implement\n\n\t\t\t\t} else if ( morph.type === 3 ) { // uv\n\n\t\t\t\t\t// TODO: implement\n\n\t\t\t\t} else if ( morph.type === 4 ) { // additional uv1\n\n\t\t\t\t\t// TODO: implement\n\n\t\t\t\t} else if ( morph.type === 5 ) { // additional uv2\n\n\t\t\t\t\t// TODO: implement\n\n\t\t\t\t} else if ( morph.type === 6 ) { // additional uv3\n\n\t\t\t\t\t// TODO: implement\n\n\t\t\t\t} else if ( morph.type === 7 ) { // additional uv4\n\n\t\t\t\t\t// TODO: implement\n\n\t\t\t\t} else if ( morph.type === 8 ) { // material\n\n\t\t\t\t\t// TODO: implement\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmorphTargets.push( params );\n\t\t\tmorphPositions.push( attribute );\n\n\t\t}\n\n\t\t// rigid bodies from rigidBodies field.\n\n\t\tfor ( let i = 0; i < data.metadata.rigidBodyCount; i ++ ) {\n\n\t\t\tconst rigidBody = data.rigidBodies[ i ];\n\t\t\tconst params = {};\n\n\t\t\tfor ( const key in rigidBody ) {\n\n\t\t\t\tparams[ key ] = rigidBody[ key ];\n\n\t\t\t}\n\n\t\t\t/*\n\t\t\t\t * RigidBody position parameter in PMX seems global position\n\t\t\t\t * while the one in PMD seems offset from corresponding bone.\n\t\t\t\t * So unify being offset.\n\t\t\t\t */\n\t\t\tif ( data.metadata.format === 'pmx' ) {\n\n\t\t\t\tif ( params.boneIndex !== - 1 ) {\n\n\t\t\t\t\tconst bone = data.bones[ params.boneIndex ];\n\t\t\t\t\tparams.position[ 0 ] -= bone.position[ 0 ];\n\t\t\t\t\tparams.position[ 1 ] -= bone.position[ 1 ];\n\t\t\t\t\tparams.position[ 2 ] -= bone.position[ 2 ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\trigidBodies.push( params );\n\n\t\t}\n\n\t\t// constraints from constraints field.\n\n\t\tfor ( let i = 0; i < data.metadata.constraintCount; i ++ ) {\n\n\t\t\tconst constraint = data.constraints[ i ];\n\t\t\tconst params = {};\n\n\t\t\tfor ( const key in constraint ) {\n\n\t\t\t\tparams[ key ] = constraint[ key ];\n\n\t\t\t}\n\n\t\t\tconst bodyA = rigidBodies[ params.rigidBodyIndex1 ];\n\t\t\tconst bodyB = rigidBodies[ params.rigidBodyIndex2 ];\n\n\t\t\t// Refer to http://www20.atpages.jp/katwat/wp/?p=4135\n\t\t\tif ( bodyA.type !== 0 && bodyB.type === 2 ) {\n\n\t\t\t\tif ( bodyA.boneIndex !== - 1 && bodyB.boneIndex !== - 1 &&\n\t\t\t\t\t     data.bones[ bodyB.boneIndex ].parentIndex === bodyA.boneIndex ) {\n\n\t\t\t\t\tbodyB.type = 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconstraints.push( params );\n\n\t\t}\n\n\t\t// build BufferGeometry.\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\t\tgeometry.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tgeometry.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\t\tgeometry.setAttribute( 'skinIndex', new Uint16BufferAttribute( skinIndices, 4 ) );\n\t\tgeometry.setAttribute( 'skinWeight', new Float32BufferAttribute( skinWeights, 4 ) );\n\t\tgeometry.setIndex( indices );\n\n\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\tgeometry.addGroup( groups[ i ].offset, groups[ i ].count, i );\n\n\t\t}\n\n\t\tgeometry.bones = bones;\n\n\t\tgeometry.morphTargets = morphTargets;\n\t\tgeometry.morphAttributes.position = morphPositions;\n\t\tgeometry.morphTargetsRelative = false;\n\n\t\tgeometry.userData.MMD = {\n\t\t\tbones: bones,\n\t\t\tiks: iks,\n\t\t\tgrants: grants,\n\t\t\trigidBodies: rigidBodies,\n\t\t\tconstraints: constraints,\n\t\t\tformat: data.metadata.format\n\t\t};\n\n\t\tgeometry.computeBoundingSphere();\n\n\t\treturn geometry;\n\n\t}\n\n}\n\n//\n\n/**\n * @param {THREE.LoadingManager} manager\n */\nclass MaterialBuilder {\n\n\tconstructor( manager ) {\n\n\t\tthis.manager = manager;\n\n\t\tthis.textureLoader = new TextureLoader( this.manager );\n\t\tthis.tgaLoader = null; // lazy generation\n\n\t\tthis.crossOrigin = 'anonymous';\n\t\tthis.resourcePath = undefined;\n\n\t}\n\n\t/**\n\t * @param {string} crossOrigin\n\t * @return {MaterialBuilder}\n\t */\n\tsetCrossOrigin( crossOrigin ) {\n\n\t\tthis.crossOrigin = crossOrigin;\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * @param {string} resourcePath\n\t * @return {MaterialBuilder}\n\t */\n\tsetResourcePath( resourcePath ) {\n\n\t\tthis.resourcePath = resourcePath;\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * @param {Object} data - parsed PMD/PMX data\n\t * @param {BufferGeometry} geometry - some properties are dependend on geometry\n\t * @param {function} onProgress\n\t * @param {function} onError\n\t * @return {Array<MMDToonMaterial>}\n\t */\n\tbuild( data, geometry /*, onProgress, onError */ ) {\n\n\t\tconst materials = [];\n\n\t\tconst textures = {};\n\n\t\tthis.textureLoader.setCrossOrigin( this.crossOrigin );\n\n\t\t// materials\n\n\t\tfor ( let i = 0; i < data.metadata.materialCount; i ++ ) {\n\n\t\t\tconst material = data.materials[ i ];\n\n\t\t\tconst params = { userData: { MMD: {} } };\n\n\t\t\tif ( material.name !== undefined ) params.name = material.name;\n\n\t\t\t/*\n\t\t\t\t * Color\n\t\t\t\t *\n\t\t\t\t * MMD         MMDToonMaterial\n\t\t\t\t * ambient  -  emissive * a\n\t\t\t\t *               (a = 1.0 without map texture or 0.2 with map texture)\n\t\t\t\t *\n\t\t\t\t * MMDToonMaterial doesn't have ambient. Set it to emissive instead.\n\t\t\t\t * It'll be too bright if material has map texture so using coef 0.2.\n\t\t\t\t */\n\t\t\tparams.diffuse = new Color().setRGB(\n\t\t\t\tmaterial.diffuse[ 0 ],\n\t\t\t\tmaterial.diffuse[ 1 ],\n\t\t\t\tmaterial.diffuse[ 2 ],\n\t\t\t\tSRGBColorSpace\n\t\t\t);\n\t\t\tparams.opacity = material.diffuse[ 3 ];\n\t\t\tparams.specular = new Color().setRGB( ...material.specular, SRGBColorSpace );\n\t\t\tparams.shininess = material.shininess;\n\t\t\tparams.emissive = new Color().setRGB( ...material.ambient, SRGBColorSpace );\n\t\t\tparams.transparent = params.opacity !== 1.0;\n\n\t\t\t//\n\n\t\t\tparams.fog = true;\n\t\t\t// \n\t\t\t// CustomBlending\n\t\t\t// NoBlending\r\n\t\t\t// NormalBlending\r\n\t\t\t// AdditiveBlending\r\n\t\t\t// SubtractiveBlending\r\n\t\t\t// MultiplyBlending\n\t\t\tparams.blending = CustomBlending;\n\t\t\tparams.blendSrc = SrcAlphaFactor;\n\t\t\tparams.blendDst = OneMinusSrcAlphaFactor;\n\t\t\tparams.blendSrcAlpha = SrcAlphaFactor;\n\t\t\tparams.blendDstAlpha = DstAlphaFactor;\n\n\t\t\t// side\n\n\t\t\tif ( data.metadata.format === 'pmx' && ( material.flag & 0x1 ) === 1 ) {\n\n\t\t\t\tparams.side = DoubleSide;\n\n\t\t\t} else {\n\n\t\t\t\tparams.side = params.opacity === 1.0 ? FrontSide : DoubleSide;\n\n\t\t\t}\n\n\t\t\tif ( data.metadata.format === 'pmd' ) {\n\n\t\t\t\t// map, matcap\n\n\t\t\t\tif ( material.fileName ) {\n\n\t\t\t\t\tconst fileName = material.fileName;\n\t\t\t\t\tconst fileNames = fileName.split( '*' );\n\n\t\t\t\t\t// fileNames[ 0 ]: mapFileName\n\t\t\t\t\t// fileNames[ 1 ]: matcapFileName( optional )\n\n\t\t\t\t\tparams.map = this._loadTexture( fileNames[ 0 ], textures );\n\n\t\t\t\t\tif ( fileNames.length > 1 ) {\n\n\t\t\t\t\t\tconst extension = fileNames[ 1 ].slice( - 4 ).toLowerCase();\n\n\t\t\t\t\t\tparams.matcap = this._loadTexture(\n\t\t\t\t\t\t\tfileNames[ 1 ],\n\t\t\t\t\t\t\ttextures\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tparams.matcapCombine = extension === '.sph'\n\t\t\t\t\t\t\t? MultiplyOperation\n\t\t\t\t\t\t\t: AddOperation;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// gradientMap\n\n\t\t\t\tconst toonFileName = ( material.toonIndex === - 1 )\n\t\t\t\t\t? 'toon00.bmp'\n\t\t\t\t\t: data.toonTextures[ material.toonIndex ].fileName;\n\n\t\t\t\tparams.gradientMap = this._loadTexture(\n\t\t\t\t\ttoonFileName,\n\t\t\t\t\ttextures,\n\t\t\t\t\t{\n\t\t\t\t\t\tisToonTexture: true,\n\t\t\t\t\t\tisDefaultToonTexture: this._isDefaultToonTexture( toonFileName )\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\t// parameters for OutlineEffect\n\n\t\t\t\tparams.userData.outlineParameters = {\n\t\t\t\t\tthickness: material.edgeFlag === 1 ? 0.003 : 0.0,\n\t\t\t\t\tcolor: [ 0, 0, 0 ],\n\t\t\t\t\talpha: 1.0,\n\t\t\t\t\tvisible: material.edgeFlag === 1\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\t// map\n\n\t\t\t\tif ( material.textureIndex !== - 1 ) {\n\n\t\t\t\t\tparams.map = this._loadTexture( data.textures[ material.textureIndex ], textures );\n\n\t\t\t\t\t// Since PMX spec don't have standard to list map files except color map and env map,\n\t\t\t\t\t// we need to save file name for further mapping, like matching normal map file names after model loaded.\n\t\t\t\t\t// ref: https://gist.github.com/felixjones/f8a06bd48f9da9a4539f#texture\n\t\t\t\t\tparams.userData.MMD.mapFileName = data.textures[ material.textureIndex ];\n\n\t\t\t\t}\n\n\t\t\t\t// matcap TODO: support m.envFlag === 3\n\n\t\t\t\tif ( material.envTextureIndex !== - 1 && ( material.envFlag === 1 || material.envFlag == 2 ) ) {\n\n\t\t\t\t\tparams.matcap = this._loadTexture(\n\t\t\t\t\t\tdata.textures[ material.envTextureIndex ],\n\t\t\t\t\t\ttextures\n\t\t\t\t\t);\n\n\t\t\t\t\t// Same as color map above, keep file name in userData for further usage.\n\t\t\t\t\tparams.userData.MMD.matcapFileName = data.textures[ material.envTextureIndex ];\n\n\t\t\t\t\tparams.matcapCombine = material.envFlag === 1\n\t\t\t\t\t\t? MultiplyOperation\n\t\t\t\t\t\t: AddOperation;\n\n\t\t\t\t}\n\n\t\t\t\t// gradientMap\n\n\t\t\t\tlet toonFileName, isDefaultToon;\n\n\t\t\t\tif ( material.toonIndex === - 1 || material.toonFlag !== 0 ) {\n\n\t\t\t\t\ttoonFileName = 'toon' + ( '0' + ( material.toonIndex + 1 ) ).slice( - 2 ) + '.bmp';\n\t\t\t\t\tisDefaultToon = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttoonFileName = data.textures[ material.toonIndex ];\n\t\t\t\t\tisDefaultToon = false;\n\n\t\t\t\t}\n\n\t\t\t\tparams.gradientMap = this._loadTexture(\n\t\t\t\t\ttoonFileName,\n\t\t\t\t\ttextures,\n\t\t\t\t\t{\n\t\t\t\t\t\tisToonTexture: true,\n\t\t\t\t\t\tisDefaultToonTexture: isDefaultToon\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\t// parameters for OutlineEffect\r\n\t\t\t\tparams.userData.outlineParameters = {\n\t\t\t\t\tthickness: material.edgeSize / 300, // TODO: better calculation?\n\t\t\t\t\tcolor: material.edgeColor.slice( 0, 3 ),\n\t\t\t\t\talpha: material.edgeColor[ 3 ],\n\t\t\t\t\tvisible: ( material.flag & 0x10 ) !== 0 && material.edgeSize > 0.0\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tif ( params.map !== undefined ) {\n\n\t\t\t\tif ( ! params.transparent ) {\n\n\t\t\t\t\tthis._checkImageTransparency( params.map, geometry, i );\n\n\t\t\t\t}\n\n\t\t\t\tparams.emissive.multiplyScalar( 0.2 );\n\n\t\t\t}\n\n\t\t\tmaterials.push( new MMDToonMaterial( params ) );\n\n\t\t}\n\n\t\tif ( data.metadata.format === 'pmx' ) {\n\n\t\t\t// set transparent true if alpha morph is defined.\n\n\t\t\tfunction checkAlphaMorph( elements, materials ) {\n\n\t\t\t\tfor ( let i = 0, il = elements.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst element = elements[ i ];\n\n\t\t\t\t\tif ( element.index === - 1 ) continue;\n\n\t\t\t\t\tconst material = materials[ element.index ];\n\n\t\t\t\t\tif ( material.opacity !== element.diffuse[ 3 ] ) {\n\n\t\t\t\t\t\tmaterial.transparent = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0, il = data.morphs.length; i < il; i ++ ) {\n\n\t\t\t\tconst morph = data.morphs[ i ];\n\t\t\t\tconst elements = morph.elements;\n\n\t\t\t\tif ( morph.type === 0 ) {\n\n\t\t\t\t\tfor ( let j = 0, jl = elements.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tconst morph2 = data.morphs[ elements[ j ].index ];\n\n\t\t\t\t\t\tif ( morph2.type !== 8 ) continue;\n\n\t\t\t\t\t\tcheckAlphaMorph( morph2.elements, materials );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( morph.type === 8 ) {\n\n\t\t\t\t\tcheckAlphaMorph( elements, materials );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\t\treturn materials;\n\n\t}\n\n\t// private methods\n\n\t_getTGALoader() {\n\n\t\tif ( this.tgaLoader === null ) {\n\n\t\t\tif ( TGALoader === undefined ) {\n\n\t\t\t\tthrow new Error( 'THREE.MMDLoader: Import TGALoader' );\n\n\t\t\t}\n\n\t\t\tthis.tgaLoader = new TGALoader( this.manager );\n\n\t\t}\n\n\t\treturn this.tgaLoader;\n\n\t}\n\n\t_isDefaultToonTexture( name ) {\n\n\t\tif ( name.length !== 10 ) return false;\n\n\t\treturn /toon(10|0[0-9])\\.bmp/.test( name );\n\n\t}\n\n\t_loadTexture( filePath, textures, params, onProgress, onError ) {\n\n\t\tparams = params || {};\n\n\t\tconst scope = this;\n\n\t\tlet fullPath;\n\n\t\tif ( params.isDefaultToonTexture === true ) {\n\n\t\t\tlet index;\n\n\t\t\ttry {\n\n\t\t\t\tindex = parseInt( filePath.match( /toon([0-9]{2})\\.bmp$/ )[ 1 ] );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tconsole.warn( 'THREE.MMDLoader: ' + filePath + ' seems like a '\n\t\t\t\t\t\t+ 'not right default texture path. Using toon00.bmp instead.' );\n\n\t\t\t\tindex = 0;\n\n\t\t\t}\n\n\t\t\tfullPath = DEFAULT_TOON_TEXTURES[ index ];\n\n\t\t} else {\n\n\t\t\tfullPath = this.resourcePath + filePath;\n\n\t\t}\n\n\t\tif ( textures[ fullPath ] !== undefined ) return textures[ fullPath ];\n\n\t\tlet loader = this.manager.getHandler( fullPath );\n\n\t\tif ( loader === null ) {\n\n\t\t\tloader = ( filePath.slice( - 4 ).toLowerCase() === '.tga' )\n\t\t\t\t? this._getTGALoader()\n\t\t\t\t: this.textureLoader;\n\n\t\t}\n\n\t\tconst texture = loader.load( fullPath, function ( t ) {\n\n\t\t\t// MMD toon texture is Axis-Y oriented\n\t\t\t// but Three.js gradient map is Axis-X oriented.\n\t\t\t// So here replaces the toon texture image with the rotated one.\n\t\t\tif ( params.isToonTexture === true ) {\n\n\t\t\t\tt.image = scope._getRotatedImage( t.image );\n\n\t\t\t\tt.magFilter = NearestFilter;\n\t\t\t\tt.minFilter = NearestFilter;\n\n\t\t\t}\n\n\t\t\tt.flipY = false;\n\t\t\tt.wrapS = RepeatWrapping;\n\t\t\tt.wrapT = RepeatWrapping;\n\t\t\tt.colorSpace = SRGBColorSpace;\n\n\t\t\tfor ( let i = 0; i < texture.readyCallbacks.length; i ++ ) {\n\n\t\t\t\ttexture.readyCallbacks[ i ]( texture );\n\n\t\t\t}\n\n\t\t\tdelete texture.readyCallbacks;\n\n\t\t}, onProgress, onError );\n\n\t\ttexture.readyCallbacks = [];\n\n\t\ttextures[ fullPath ] = texture;\n\n\t\treturn texture;\n\n\t}\n\n\t_getRotatedImage( image ) {\n\n\t\tconst canvas = document.createElement( 'canvas' );\n\t\tconst context = canvas.getContext( '2d' );\n\n\t\tconst width = image.width;\n\t\tconst height = image.height;\n\n\t\tcanvas.width = width;\n\t\tcanvas.height = height;\n\n\t\tcontext.clearRect( 0, 0, width, height );\n\t\tcontext.translate( width / 2.0, height / 2.0 );\n\t\tcontext.rotate( 0.5 * Math.PI ); // 90.0 * Math.PI / 180.0\n\t\tcontext.translate( - width / 2.0, - height / 2.0 );\n\t\tcontext.drawImage( image, 0, 0 );\n\n\t\treturn context.getImageData( 0, 0, width, height );\n\n\t}\n\n\t// Check if the partial image area used by the texture is transparent.\n\t_checkImageTransparency( map, geometry, groupIndex ) {\n\n\t\tmap.readyCallbacks.push( function ( texture ) {\n\n\t\t\t// Is there any efficient ways?\n\t\t\tfunction createImageData( image ) {\n\n\t\t\t\tconst canvas = document.createElement( 'canvas' );\n\t\t\t\tcanvas.width = image.width;\n\t\t\t\tcanvas.height = image.height;\n\n\t\t\t\tconst context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0 );\n\n\t\t\t\treturn context.getImageData( 0, 0, canvas.width, canvas.height );\n\n\t\t\t}\n\n\t\t\tfunction detectImageTransparency( image, uvs, indices ) {\n\n\t\t\t\tconst width = image.width;\n\t\t\t\tconst height = image.height;\n\t\t\t\tconst data = image.data;\n\t\t\t\tconst threshold = 253;\n\n\t\t\t\tif ( data.length / ( width * height ) !== 4 ) return false;\n\n\t\t\t\tfor ( let i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t\t\tconst centerUV = { x: 0.0, y: 0.0 };\n\n\t\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\tconst index = indices[ i * 3 + j ];\n\t\t\t\t\t\tconst uv = { x: uvs[ index * 2 + 0 ], y: uvs[ index * 2 + 1 ] };\n\n\t\t\t\t\t\tif ( getAlphaByUv( image, uv ) < threshold ) return true;\n\n\t\t\t\t\t\tcenterUV.x += uv.x;\n\t\t\t\t\t\tcenterUV.y += uv.y;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcenterUV.x /= 3;\n\t\t\t\t\tcenterUV.y /= 3;\n\n\t\t\t\t\tif ( getAlphaByUv( image, centerUV ) < threshold ) return true;\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\t/*\n\t\t\t\t * This method expects\n\t\t\t\t *   texture.flipY = false\n\t\t\t\t *   texture.wrapS = RepeatWrapping\n\t\t\t\t *   texture.wrapT = RepeatWrapping\n\t\t\t\t * TODO: more precise\n\t\t\t\t */\n\t\t\tfunction getAlphaByUv( image, uv ) {\n\n\t\t\t\tconst width = image.width;\n\t\t\t\tconst height = image.height;\n\n\t\t\t\tlet x = Math.round( uv.x * width ) % width;\n\t\t\t\tlet y = Math.round( uv.y * height ) % height;\n\n\t\t\t\tif ( x < 0 ) x += width;\n\t\t\t\tif ( y < 0 ) y += height;\n\n\t\t\t\tconst index = y * width + x;\n\n\t\t\t\treturn image.data[ index * 4 + 3 ];\n\n\t\t\t}\n\n\t\t\tif ( texture.isCompressedTexture === true ) {\n\n\t\t\t\tif ( NON_ALPHA_CHANNEL_FORMATS.includes( texture.format ) ) {\n\n\t\t\t\t\tmap.transparent = false;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// any other way to check transparency of CompressedTexture?\n\t\t\t\t\tmap.transparent = true;\n\n\t\t\t\t}\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst imageData = texture.image.data !== undefined\n\t\t\t\t? texture.image\n\t\t\t\t: createImageData( texture.image );\n\n\t\t\tconst group = geometry.groups[ groupIndex ];\n\n\t\t\tif ( detectImageTransparency(\n\t\t\t\timageData,\n\t\t\t\tgeometry.attributes.uv.array,\n\t\t\t\tgeometry.index.array.slice( group.start, group.start + group.count ) ) ) {\n\n\t\t\t\tmap.transparent = true;\n\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n}\n\n//\n\nclass AnimationBuilder {\n\n\t/**\n\t * @param {Object} vmd - parsed VMD data\n\t * @param {SkinnedMesh} mesh - tracks will be fitting to mesh\n\t * @return {AnimationClip}\n\t */\n\tbuild( vmd, mesh ) {\n\n\t\t// combine skeletal and morph animations\n\n\t\tconst tracks = this.buildSkeletalAnimation( vmd, mesh ).tracks;\n\t\tconst tracks2 = this.buildMorphAnimation( vmd, mesh ).tracks;\n\n\t\tfor ( let i = 0, il = tracks2.length; i < il; i ++ ) {\n\n\t\t\ttracks.push( tracks2[ i ] );\n\n\t\t}\n\n\t\treturn new AnimationClip( '', - 1, tracks );\n\n\t}\n\n\t/**\n\t * @param {Object} vmd - parsed VMD data\n\t * @param {SkinnedMesh} mesh - tracks will be fitting to mesh\n\t * @return {AnimationClip}\n\t */\n\tbuildSkeletalAnimation( vmd, mesh ) {\n\n\t\tfunction pushInterpolation( array, interpolation, index ) {\n\n\t\t\tarray.push( interpolation[ index + 0 ] / 127 ); // x1\n\t\t\tarray.push( interpolation[ index + 8 ] / 127 ); // x2\n\t\t\tarray.push( interpolation[ index + 4 ] / 127 ); // y1\n\t\t\tarray.push( interpolation[ index + 12 ] / 127 ); // y2\n\n\t\t}\n\n\t\tconst tracks = [];\n\n\t\tconst motions = {};\n\t\tconst bones = mesh.skeleton.bones;\n\t\tconst boneNameDictionary = {};\n\n\t\tfor ( let i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\tboneNameDictionary[ bones[ i ].name ] = true;\n\n\t\t}\n\n\t\tfor ( let i = 0; i < vmd.metadata.motionCount; i ++ ) {\n\n\t\t\tconst motion = vmd.motions[ i ];\n\t\t\tconst boneName = motion.boneName;\n\n\t\t\tif ( boneNameDictionary[ boneName ] === undefined ) continue;\n\n\t\t\tmotions[ boneName ] = motions[ boneName ] || [];\n\t\t\tmotions[ boneName ].push( motion );\n\n\t\t}\n\n\t\tfor ( const key in motions ) {\n\n\t\t\tconst array = motions[ key ];\n\n\t\t\tarray.sort( function ( a, b ) {\n\n\t\t\t\treturn a.frameNum - b.frameNum;\n\n\t\t\t} );\n\n\t\t\tconst times = [];\n\t\t\tconst positions = [];\n\t\t\tconst rotations = [];\n\t\t\tconst pInterpolations = [];\n\t\t\tconst rInterpolations = [];\n\n\t\t\tconst basePosition = mesh.skeleton.getBoneByName( key ).position.toArray();\n\n\t\t\tfor ( let i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t\tconst time = array[ i ].frameNum / 30;\n\t\t\t\tconst position = array[ i ].position;\n\t\t\t\tconst rotation = array[ i ].rotation;\n\t\t\t\tconst interpolation = array[ i ].interpolation;\n\n\t\t\t\ttimes.push( time );\n\n\t\t\t\tfor ( let j = 0; j < 3; j ++ ) positions.push( basePosition[ j ] + position[ j ] );\n\t\t\t\tfor ( let j = 0; j < 4; j ++ ) rotations.push( rotation[ j ] );\n\t\t\t\tfor ( let j = 0; j < 3; j ++ ) pushInterpolation( pInterpolations, interpolation, j );\n\n\t\t\t\tpushInterpolation( rInterpolations, interpolation, 3 );\n\n\t\t\t}\n\n\t\t\tconst targetName = '.bones[' + key + ']';\n\n\t\t\ttracks.push( this._createTrack( targetName + '.position', VectorKeyframeTrack, times, positions, pInterpolations ) );\n\t\t\ttracks.push( this._createTrack( targetName + '.quaternion', QuaternionKeyframeTrack, times, rotations, rInterpolations ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( '', - 1, tracks );\n\n\t}\n\n\t/**\n\t * @param {Object} vmd - parsed VMD data\n\t * @param {SkinnedMesh} mesh - tracks will be fitting to mesh\n\t * @return {AnimationClip}\n\t */\n\tbuildMorphAnimation( vmd, mesh ) {\n\n\t\tconst tracks = [];\n\n\t\tconst morphs = {};\n\t\tconst morphTargetDictionary = mesh.morphTargetDictionary;\n\n\t\tfor ( let i = 0; i < vmd.metadata.morphCount; i ++ ) {\n\n\t\t\tconst morph = vmd.morphs[ i ];\n\t\t\tconst morphName = morph.morphName;\n\n\t\t\tif ( morphTargetDictionary[ morphName ] === undefined ) continue;\n\n\t\t\tmorphs[ morphName ] = morphs[ morphName ] || [];\n\t\t\tmorphs[ morphName ].push( morph );\n\n\t\t}\n\n\t\tfor ( const key in morphs ) {\n\n\t\t\tconst array = morphs[ key ];\n\n\t\t\tarray.sort( function ( a, b ) {\n\n\t\t\t\treturn a.frameNum - b.frameNum;\n\n\t\t\t} );\n\n\t\t\tconst times = [];\n\t\t\tconst values = [];\n\n\t\t\tfor ( let i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t\ttimes.push( array[ i ].frameNum / 30 );\n\t\t\t\tvalues.push( array[ i ].weight );\n\n\t\t\t}\n\n\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluences[' + morphTargetDictionary[ key ] + ']', times, values ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( '', - 1, tracks );\n\n\t}\n\n\t/**\n\t * @param {Object} vmd - parsed VMD data\n\t * @return {AnimationClip}\n\t */\n\tbuildCameraAnimation( vmd ) {\n\n\t\tfunction pushVector3( array, vec ) {\n\n\t\t\tarray.push( vec.x );\n\t\t\tarray.push( vec.y );\n\t\t\tarray.push( vec.z );\n\n\t\t}\n\n\t\tfunction pushQuaternion( array, q ) {\n\n\t\t\tarray.push( q.x );\n\t\t\tarray.push( q.y );\n\t\t\tarray.push( q.z );\n\t\t\tarray.push( q.w );\n\n\t\t}\n\n\t\tfunction pushInterpolation( array, interpolation, index ) {\n\n\t\t\tarray.push( interpolation[ index * 4 + 0 ] / 127 ); // x1\n\t\t\tarray.push( interpolation[ index * 4 + 1 ] / 127 ); // x2\n\t\t\tarray.push( interpolation[ index * 4 + 2 ] / 127 ); // y1\n\t\t\tarray.push( interpolation[ index * 4 + 3 ] / 127 ); // y2\n\n\t\t}\n\n\t\tconst cameras = vmd.cameras === undefined ? [] : vmd.cameras.slice();\n\n\t\tcameras.sort( function ( a, b ) {\n\n\t\t\treturn a.frameNum - b.frameNum;\n\n\t\t} );\n\n\t\tconst times = [];\n\t\tconst centers = [];\n\t\tconst quaternions = [];\n\t\tconst positions = [];\n\t\tconst fovs = [];\n\n\t\tconst cInterpolations = [];\n\t\tconst qInterpolations = [];\n\t\tconst pInterpolations = [];\n\t\tconst fInterpolations = [];\n\n\t\tconst quaternion = new Quaternion();\n\t\tconst euler = new Euler();\n\t\tconst position = new Vector3();\n\t\tconst center = new Vector3();\n\n\t\tfor ( let i = 0, il = cameras.length; i < il; i ++ ) {\n\n\t\t\tconst motion = cameras[ i ];\n\n\t\t\tconst time = motion.frameNum / 30;\n\t\t\tconst pos = motion.position;\n\t\t\tconst rot = motion.rotation;\n\t\t\tconst distance = motion.distance;\n\t\t\tconst fov = motion.fov;\n\t\t\tconst interpolation = motion.interpolation;\n\n\t\t\ttimes.push( time );\n\n\t\t\tposition.set( 0, 0, - distance );\n\t\t\tcenter.set( pos[ 0 ], pos[ 1 ], pos[ 2 ] );\n\n\t\t\teuler.set( - rot[ 0 ], - rot[ 1 ], - rot[ 2 ] );\n\t\t\tquaternion.setFromEuler( euler );\n\n\t\t\tposition.add( center );\n\t\t\tposition.applyQuaternion( quaternion );\n\n\t\t\tpushVector3( centers, center );\n\t\t\tpushQuaternion( quaternions, quaternion );\n\t\t\tpushVector3( positions, position );\n\n\t\t\tfovs.push( fov );\n\n\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\tpushInterpolation( cInterpolations, interpolation, j );\n\n\t\t\t}\n\n\t\t\tpushInterpolation( qInterpolations, interpolation, 3 );\n\n\t\t\t// use the same parameter for x, y, z axis.\n\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\tpushInterpolation( pInterpolations, interpolation, 4 );\n\n\t\t\t}\n\n\t\t\tpushInterpolation( fInterpolations, interpolation, 5 );\n\n\t\t}\n\n\t\tconst tracks = [];\n\n\t\t// I expect an object whose name 'target' exists under THREE.Camera\n\t\ttracks.push( this._createTrack( 'target.position', VectorKeyframeTrack, times, centers, cInterpolations ) );\n\n\t\ttracks.push( this._createTrack( '.quaternion', QuaternionKeyframeTrack, times, quaternions, qInterpolations ) );\n\t\ttracks.push( this._createTrack( '.position', VectorKeyframeTrack, times, positions, pInterpolations ) );\n\t\ttracks.push( this._createTrack( '.fov', NumberKeyframeTrack, times, fovs, fInterpolations ) );\n\n\t\treturn new AnimationClip( '', - 1, tracks );\n\n\t}\n\n\t// private method\n\n\t_createTrack( node, typedKeyframeTrack, times, values, interpolations ) {\n\n\t\t/*\n\t\t\t * optimizes here not to let KeyframeTrackPrototype optimize\n\t\t\t * because KeyframeTrackPrototype optimizes times and values but\n\t\t\t * doesn't optimize interpolations.\n\t\t\t */\n\t\tif ( times.length > 2 ) {\n\n\t\t\ttimes = times.slice();\n\t\t\tvalues = values.slice();\n\t\t\tinterpolations = interpolations.slice();\n\n\t\t\tconst stride = values.length / times.length;\n\t\t\tconst interpolateStride = interpolations.length / times.length;\n\n\t\t\tlet index = 1;\n\n\t\t\tfor ( let aheadIndex = 2, endIndex = times.length; aheadIndex < endIndex; aheadIndex ++ ) {\n\n\t\t\t\tfor ( let i = 0; i < stride; i ++ ) {\n\n\t\t\t\t\tif ( values[ index * stride + i ] !== values[ ( index - 1 ) * stride + i ] ||\n\t\t\t\t\t\t\tvalues[ index * stride + i ] !== values[ aheadIndex * stride + i ] ) {\n\n\t\t\t\t\t\tindex ++;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( aheadIndex > index ) {\n\n\t\t\t\t\ttimes[ index ] = times[ aheadIndex ];\n\n\t\t\t\t\tfor ( let i = 0; i < stride; i ++ ) {\n\n\t\t\t\t\t\tvalues[ index * stride + i ] = values[ aheadIndex * stride + i ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( let i = 0; i < interpolateStride; i ++ ) {\n\n\t\t\t\t\t\tinterpolations[ index * interpolateStride + i ] = interpolations[ aheadIndex * interpolateStride + i ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttimes.length = index + 1;\n\t\t\tvalues.length = ( index + 1 ) * stride;\n\t\t\tinterpolations.length = ( index + 1 ) * interpolateStride;\n\n\t\t}\n\n\t\tconst track = new typedKeyframeTrack( node, times, values );\n\n\t\ttrack.createInterpolant = function InterpolantFactoryMethodCubicBezier( result ) {\n\n\t\t\treturn new CubicBezierInterpolation( this.times, this.values, this.getValueSize(), result, new Float32Array( interpolations ) );\n\n\t\t};\n\n\t\treturn track;\n\n\t}\n\n}\n\n// interpolation\n\nclass CubicBezierInterpolation extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer, params ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t\tthis.interpolationParams = params;\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer;\n\t\tconst values = this.sampleValues;\n\t\tconst stride = this.valueSize;\n\t\tconst params = this.interpolationParams;\n\n\t\tconst offset1 = i1 * stride;\n\t\tconst offset0 = offset1 - stride;\n\n\t\t// No interpolation if next key frame is in one frame in 30fps.\n\t\t// This is from MMD animation spec.\n\t\t// '1.5' is for precision loss. times are Float32 in Three.js Animation system.\n\t\tconst weight1 = ( ( t1 - t0 ) < 1 / 30 * 1.5 ) ? 0.0 : ( t - t0 ) / ( t1 - t0 );\n\n\t\tif ( stride === 4 ) { // Quaternion\n\n\t\t\tconst x1 = params[ i1 * 4 + 0 ];\n\t\t\tconst x2 = params[ i1 * 4 + 1 ];\n\t\t\tconst y1 = params[ i1 * 4 + 2 ];\n\t\t\tconst y2 = params[ i1 * 4 + 3 ];\n\n\t\t\tconst ratio = this._calculate( x1, x2, y1, y2, weight1 );\n\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset0, values, offset1, ratio );\n\n\t\t} else if ( stride === 3 ) { // Vector3\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tconst x1 = params[ i1 * 12 + i * 4 + 0 ];\n\t\t\t\tconst x2 = params[ i1 * 12 + i * 4 + 1 ];\n\t\t\t\tconst y1 = params[ i1 * 12 + i * 4 + 2 ];\n\t\t\t\tconst y2 = params[ i1 * 12 + i * 4 + 3 ];\n\n\t\t\t\tconst ratio = this._calculate( x1, x2, y1, y2, weight1 );\n\n\t\t\t\tresult[ i ] = values[ offset0 + i ] * ( 1 - ratio ) + values[ offset1 + i ] * ratio;\n\n\t\t\t}\n\n\t\t} else { // Number\n\n\t\t\tconst x1 = params[ i1 * 4 + 0 ];\n\t\t\tconst x2 = params[ i1 * 4 + 1 ];\n\t\t\tconst y1 = params[ i1 * 4 + 2 ];\n\t\t\tconst y2 = params[ i1 * 4 + 3 ];\n\n\t\t\tconst ratio = this._calculate( x1, x2, y1, y2, weight1 );\n\n\t\t\tresult[ 0 ] = values[ offset0 ] * ( 1 - ratio ) + values[ offset1 ] * ratio;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t_calculate( x1, x2, y1, y2, x ) {\n\n\t\t/*\n\t\t\t * Cubic Bezier curves\n\t\t\t *   https://en.wikipedia.org/wiki/B%C3%A9zier_curve#Cubic_B.C3.A9zier_curves\n\t\t\t *\n\t\t\t * B(t) = ( 1 - t ) ^ 3 * P0\n\t\t\t *      + 3 * ( 1 - t ) ^ 2 * t * P1\n\t\t\t *      + 3 * ( 1 - t ) * t^2 * P2\n\t\t\t *      + t ^ 3 * P3\n\t\t\t *      ( 0 <= t <= 1 )\n\t\t\t *\n\t\t\t * MMD uses Cubic Bezier curves for bone and camera animation interpolation.\n\t\t\t *   http://d.hatena.ne.jp/edvakf/20111016/1318716097\n\t\t\t *\n\t\t\t *    x = ( 1 - t ) ^ 3 * x0\n\t\t\t *      + 3 * ( 1 - t ) ^ 2 * t * x1\n\t\t\t *      + 3 * ( 1 - t ) * t^2 * x2\n\t\t\t *      + t ^ 3 * x3\n\t\t\t *    y = ( 1 - t ) ^ 3 * y0\n\t\t\t *      + 3 * ( 1 - t ) ^ 2 * t * y1\n\t\t\t *      + 3 * ( 1 - t ) * t^2 * y2\n\t\t\t *      + t ^ 3 * y3\n\t\t\t *      ( x0 = 0, y0 = 0 )\n\t\t\t *      ( x3 = 1, y3 = 1 )\n\t\t\t *      ( 0 <= t, x1, x2, y1, y2 <= 1 )\n\t\t\t *\n\t\t\t * Here solves this equation with Bisection method,\n\t\t\t *   https://en.wikipedia.org/wiki/Bisection_method\n\t\t\t * gets t, and then calculate y.\n\t\t\t *\n\t\t\t * f(t) = 3 * ( 1 - t ) ^ 2 * t * x1\n\t\t\t *      + 3 * ( 1 - t ) * t^2 * x2\n\t\t\t *      + t ^ 3 - x = 0\n\t\t\t *\n\t\t\t * (Another option: Newton's method\n\t\t\t *    https://en.wikipedia.org/wiki/Newton%27s_method)\n\t\t\t */\n\n\t\tlet c = 0.5;\n\t\tlet t = c;\n\t\tlet s = 1.0 - t;\n\t\tconst loop = 15;\n\t\tconst eps = 1e-5;\n\t\tconst math = Math;\n\n\t\tlet sst3, stt3, ttt;\n\n\t\tfor ( let i = 0; i < loop; i ++ ) {\n\n\t\t\tsst3 = 3.0 * s * s * t;\n\t\t\tstt3 = 3.0 * s * t * t;\n\t\t\tttt = t * t * t;\n\n\t\t\tconst ft = ( sst3 * x1 ) + ( stt3 * x2 ) + ( ttt ) - x;\n\n\t\t\tif ( math.abs( ft ) < eps ) break;\n\n\t\t\tc /= 2.0;\n\n\t\t\tt += ( ft < 0 ) ? c : - c;\n\t\t\ts = 1.0 - t;\n\n\t\t}\n\n\t\treturn ( sst3 * y1 ) + ( stt3 * y2 ) + ttt;\n\n\t}\n\n}\n\nclass MMDToonMaterial extends ShaderMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMMDToonMaterial = true;\n\n\t\tthis.type = 'MMDToonMaterial';\n\n\t\tthis._matcapCombine = AddOperation;\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\n\t\tthis.combine = MultiplyOperation;\n\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.flatShading = false;\n\n\t\tthis.lights = true;\n\n\t\tthis.vertexShader = MMDToonShader.vertexShader;\n\t\tthis.fragmentShader = MMDToonShader.fragmentShader;\n\n\t\tthis.defines = Object.assign( {}, MMDToonShader.defines );\n\t\tObject.defineProperty( this, 'matcapCombine', {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this._matcapCombine;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis._matcapCombine = value;\n\n\t\t\t\tswitch ( value ) {\n\n\t\t\t\t\tcase MultiplyOperation:\n\t\t\t\t\t\tthis.defines.MATCAP_BLENDING_MULTIPLY = true;\n\t\t\t\t\t\tdelete this.defines.MATCAP_BLENDING_ADD;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\tcase AddOperation:\n\t\t\t\t\t\tthis.defines.MATCAP_BLENDING_ADD = true;\n\t\t\t\t\t\tdelete this.defines.MATCAP_BLENDING_MULTIPLY;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t} );\n\n\t\tthis.uniforms = UniformsUtils.clone( MMDToonShader.uniforms );\n\n\t\t// merged from MeshToon/Phong/MatcapMaterial\n\t\tconst exposePropertyNames = [\n\t\t\t'specular',\n\t\t\t'opacity',\n\t\t\t'diffuse',\n\n\t\t\t'map',\n\t\t\t'matcap',\n\t\t\t'gradientMap',\n\n\t\t\t'lightMap',\n\t\t\t'lightMapIntensity',\n\n\t\t\t'aoMap',\n\t\t\t'aoMapIntensity',\n\n\t\t\t'emissive',\n\t\t\t'emissiveMap',\n\n\t\t\t'bumpMap',\n\t\t\t'bumpScale',\n\n\t\t\t'normalMap',\n\t\t\t'normalScale',\n\n\t\t\t'displacemantBias',\n\t\t\t'displacemantMap',\n\t\t\t'displacemantScale',\n\n\t\t\t'specularMap',\n\n\t\t\t'alphaMap',\n\n\t\t\t'reflectivity',\n\t\t\t'refractionRatio',\n\t\t];\n\t\tfor ( const propertyName of exposePropertyNames ) {\n\n\t\t\tObject.defineProperty( this, propertyName, {\n\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn this.uniforms[ propertyName ].value;\n\n\t\t\t\t},\n\n\t\t\t\tset: function ( value ) {\n\n\t\t\t\t\tthis.uniforms[ propertyName ].value = value;\n\n\t\t\t\t},\n\n\t\t\t} );\n\n\t\t}\n\n\t\t// Special path for shininess to handle zero shininess properly\n\t\tthis._shininess = 30;\n\t\tObject.defineProperty( this, 'shininess', {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this._shininess;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis._shininess = value;\n\t\t\t\tthis.uniforms.shininess.value = Math.max( this._shininess, 1e-4 ); // To prevent pow( 0.0, 0.0 )\n\n\t\t\t},\n\n\t\t} );\n\n\t\tObject.defineProperty(\n\t\t\tthis,\n\t\t\t'color',\n\t\t\tObject.getOwnPropertyDescriptor( this, 'diffuse' )\n\t\t);\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.matcapCombine = source.matcapCombine;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\t\tthis.normalMapType = source.normalMapType;\n\n\t\tthis.combine = source.combine;\n\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\treturn this;\n\n\t}\n\n}\n\nexport { MMDLoader, worker };\n","export const actionList = [\r\n\t{\r\n\t\tmusic:'/move/wavefile_short.mp3',\r\n\t\tmove:'/move/wavefile_v2.vmd',\r\n\t\tcamera:'/move/wavefile_camera.vmd'\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/idol/idol.wav',\r\n\t\t// move:[\"/move/idol_dance.vmd\",\"/move/idol_face.vmd\"],\r\n\t\t// camera:\"/move/idol_camera.vmd\"\r\n\t\tmove: \"/extraUpload/motion/idol/Motion.vmd\",\r\n\t\tcamera: \"/extraUpload/motion/idol/Camera.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/celebrate.wav',\r\n\t\tmove:'/move/celebrate-move.vmd',\r\n\t\tcamera:\"/move/celebrate-camera.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/batterup.wav',\r\n\t\tmove:'/move/batterup_IK_all.vmd',\r\n\t\tcamera:\"/move/batterup_cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/New_dance.wav',\r\n\t\tmove:'/move/New_dance_All.vmd',\r\n\t\tcamera:\"/move/New_dance_Cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/pubg.wav',\r\n\t\tmove:'/move/pubg.vmd',\r\n\t\tcamera:\"/move/box-cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/wtf.wav',\r\n\t\tmove:'/move/wtf-mot.vmd',\r\n\t\tcamera:\"/move/wtf-cam.vmd\"\r\n\t},\t\r\n\t{\r\n\t\tmusic:'/move/produce101_dance.wav',\r\n\t\tmove:'/move/produce101_dance.vmd',\r\n\t\tcamera:\"/move/box-cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/loli.wav',\r\n\t\tmove:'/move/loli.vmd',\r\n\t\tcamera:\"/move/box-cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/quee_bgm.wav',\r\n\t\tmove:'/move/quee_mid.vmd',\r\n\t\tmoveLeft:'/move/quee_left.vmd',\r\n\t\tmoveRight:'/move/quee_right.vmd',\r\n\t\tcamera:\"/move/quee_camera.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/.wav',\r\n\t\tmove:'/move/dabeitou/ver1.vmd',\r\n\t\tmoveLeft:'/move/dabeitou/ver2.vmd',\r\n\t\tmoveRight:'/move/dabeitou/ver2.vmd',\r\n\t\tcamera:\"/move/box-cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/meetoo.wav',\r\n\t\tmove:'/move/meetoo_motion.vmd',\r\n\t\tcamera:\"/move/meetoo_cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/hitandrun.mp3',\r\n\t\tmove:'/move/hitandrun_mot.vmd',\r\n\t\tcamera:\"/move/hitandrun_cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tneedRugular: true,\r\n\t\tmusic:'/move/.wav',\r\n\t\tmove:'/move/.vmd',\r\n\t\tcamera:\"/move/_cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/.mp3',\r\n\t\tmove:'/move/qingbei-mov.vmd',\r\n\t\tcamera:'/move/qingbei-cam.vmd',\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/senorita.mp3',\r\n\t\tmove:'/move/senorita-motion.vmd',\r\n\t\tcamera:'/move/senorita-cam.vmd',\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/.wav',\r\n\t\tmove:'/move/-mov.vmd',\r\n\t\tcamera:'/move/-cam.vmd',\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/.wav',\r\n\t\tmove:'/move/.vmd',\r\n\t\tcamera:'/move/punch-camera.vmd',\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/huahuo.mp3',\r\n\t\tmove:'/move/huahuo-mov.vmd',\r\n\t\tcamera:'/move/huahuo-cam.vmd',\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/.wav',\r\n\t\tmove:'/move/.vmd',\r\n\t\tcamera:\"/move/wtf-cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/.mp3',\r\n\t\tmove:'/move/-mov.vmd',\r\n\t\tcamera:\"/move/-cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/omg.mp3',\r\n\t\tmove:'/move/omg.vmd',\r\n\t\tcamera:\"/move/box-cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/nevergona.mp3',\r\n\t\tmove:'/move/nevergona_mov.vmd',\r\n\t\tcamera:\"/move/nevergona_cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/goodtime.mp3',\r\n\t\tmove:'/move/goodtime_mov.vmd',\r\n\t\tcamera:\"/move/goodtime_cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/.wav',\r\n\t\tmove:'/move/-mov.vmd',\r\n\t\tcamera:\"/move/-cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/.mp3',\r\n\t\tmove:'/move/.vmd',\r\n\t\tcamera:\"/move/box-cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/CH4NGE.wav',\r\n\t\tmove:['/move/CH4NGE_motion1.vmd','/move/CH4NGE_lips1.vmd'],\r\n\t\tmoveLeft:['/move/CH4NGE_motion2.vmd','/move/CH4NGE_lips2.vmd'],\r\n\t\tmoveRight:['/move/CH4NGE_motion3.vmd','/move/CH4NGE_lips3.vmd'],\r\n\t\tcamera:\"/move/box-cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/Innocent.wav',\r\n\t\tmove:'/move/Innocent-mov.vmd',\r\n\t\tcamera:\"/move/Innocent-cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/twinkle.wav',\r\n\t\tmove:'/move/twinkle_mov.vmd',\r\n\t\tcamera:\"/move/twinkle_cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/lol.wav',\r\n\t\tmove:['/move/lol-dance.vmd','/move/lol-face.vmd'],\r\n\t\tcamera:'/move/lol-cam.vmd',\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/wow.wav',\r\n\t\tmove:'/move/wow.vmd',\r\n\t\tcamera:'/move/box-cam.vmd',\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/yellow.wav',\r\n\t\tmove:'/move/yellow.vmd',\r\n\t\tcamera:'/move/yellow-cam.vmd',\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/Infinity.wav',\r\n\t\tmove:'/move/Infinity-mov1.vmd',\r\n\t\tmoveLeft:'/move/Infinity-mov2.vmd',\r\n\t\tmoveRight:'/move/Infinity-mov3.vmd',\r\n\t\tcamera:'/move/Infinity-cam.vmd',\r\n\t},{\r\n\t\tmusic:'/move/MitsuloveChan.wav',\r\n\t\tmove:'/move/MitsuloveChan.vmd',\r\n\t\tcamera:'/move/MitsuloveChan-cam.vmd',\r\n\t},{\r\n\t\tmusic:'/move/bonbon.wav',\r\n\t\tmove:'/move/bonbon1.vmd',\r\n\t\tmoveLeft:'/move/bonbon2.vmd',\r\n\t\tmoveRight:'/move/bonbon3.vmd',\r\n\t\tcamera:'/move/bonbon-cam.vmd',\r\n\t},{\r\n\t\tmusic:'/move/someone.wav',\r\n\t\tmove:'/move/someone.vmd',\r\n\t\tcamera:'/move/someone-cam.vmd',\r\n\t},{\r\n\t\tmusic:'/move/symphony.wav',\r\n\t\tmove:'/move/symphony.vmd',\r\n\t\tcamera:'/move/symphony-cam.vmd',\r\n\t},{\r\n\t\tmusic:'/move/toxic.wav',\r\n\t\tmove:'/move/toxic.vmd',\r\n\t\tcamera:'/move/toxic-cam.vmd',\r\n\t},{\r\n\t\tmusic:'/move/niconiconi.wav',\r\n\t\tmove:'/move/niconico.vmd',\r\n\t\tcamera:'/move/niconico-cam.vmd',\r\n\t},{\r\n\t\tmusic:'/move/dna/WAV.wav',\r\n\t\tmove:'/move/dna/Motion.vmd',\r\n\t\tcamera:'/move/dna/Camera.vmd',\r\n\t},{\r\n\t\tmusic:'/move/doubt/W.A.V.wav',\r\n\t\tmove:'/move/doubt/M.O.T.I.O.N.vmd',\r\n\t\tcamera:'/move/doubt/C.A.M.E.R.A.vmd',\r\n\t},{\r\n\t\tmusic:'/move/tellingme/tellme.wav',\r\n\t\tmove:'/move/tellingme/motion.vmd',\r\n\t\tcamera:'/move/tellingme/cameraout.vmd',\r\n\t},{\r\n\t\tmusic:'/move/flyaway.mp3',\r\n\t\tmove:'/move/flyaway.vmd',\r\n\t\tcamera:'/move/flyaway-cam.vmd',\r\n\t},{\r\n\t\tmusic:'/move/sotheysay/WAV.wav',\r\n\t\tmove:'/move/sotheysay/Motion.vmd',\r\n\t\tcamera:'/move/sotheysay/Camera.vmd',\r\n\t},{\r\n\t\tmusic:'/move/rabbithole/rabbithole.mp3',\r\n\t\tmove:'/move/rabbithole/rabbit2-mov.vmd',\r\n\t\tcamera:'/move/rabbithole/rabbit2-cam.vmd',\r\n\t},{\r\n\t\tmusic:'/move/darlingdance/darling2.mp3',\r\n\t\tmove:'/move/darlingdance/motion.vmd',\r\n\t\tcamera:'/move/darlingdance/cam.vmd'\r\n\t},{\r\n\t\tmusic:'/move/rabbithole2/rabbithole.mp3',\r\n\t\tmove:'/move/rabbithole2/rabbit_mov.vmd',\r\n\t\tcamera:'/move/rabbithole2/rabbit_camera.vmd',\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/stayTonight.mp3',\r\n\t\tmove:'/move/staytonight-dance.vmd',\r\n\t\tcamera:'/move/staytonight-camera.vmd'\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/jilejingtu2.mp3',\r\n\t\tmove:'/move/jilejingtu.vmd',\r\n\t\tcamera:\"/move/jilejingtu_cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/Motion/.wav',\r\n\t\tmove:'/extraUpload/motion/Motion/Tda.vmd',\r\n\t\tcamera:\"/extraUpload/motion/Motion/TdaCAMERA.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/PatchworkStaccato-ZKArti/PatchworkStaccato-Hyurno.wav',\r\n\t\tmove:'/extraUpload/motion/PatchworkStaccato-ZKArti/Singer.vmd',\r\n\t\tcamera:\"/extraUpload/motion/PatchworkStaccato-ZKArti/Camera.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/Havana/CamillaCabelloHavana.wav',\r\n\t\tmove:['/extraUpload/motion/Havana/HavanaLips.vmd','/extraUpload/motion/Havana/HavanaMotion.vmd'],\r\n\t\tcamera:\"/extraUpload/motion/Havana/HavanaCamera.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/Madness/MADNESS.wav',\r\n\t\tmove:'/extraUpload/motion/Madness/Motion(Center).vmd',\r\n\t\tmoveLeft:'/extraUpload/motion/Madness/Motion(Left).vmd',\r\n\t\tmoveRight:'/extraUpload/motion/Madness/Motion(Right).vmd',\r\n\t\tcamera:\"/extraUpload/motion/Madness/Camera.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/Lithium/Wav.wav',\r\n\t\tmove:'/extraUpload/motion/Lithium/Motionowo.vmd',\r\n\t\tcamera:\"/extraUpload/motion/Lithium/Camera.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/CryBaby/CryBaby.wav',\r\n\t\tmove:['/extraUpload/motion/CryBaby/Singer.vmd','/extraUpload/motion/CryBaby/Facials.vmd'],\r\n\t\tcamera:\"/extraUpload/motion/CryBaby/Camera.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/PityParty/PityParty.wav',\r\n\t\tmove:['/extraUpload/motion/PityParty/Singer.vmd','/extraUpload/motion/CryBaby/Facials.vmd'],\r\n\t\tcamera:\"/extraUpload/motion/PityParty/Camera.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/YoureIt/TagYoureIt.wav',\r\n\t\tmove:['/extraUpload/motion/YoureIt/Singer_1.vmd','/extraUpload/motion/YoureIt/Facials.vmd'],\r\n\t\tmoveLeft:'/extraUpload/motion/YoureIt/Singer_2.vmd',\r\n\t\tmoveRight:'/extraUpload/motion/YoureIt/Singer_2.vmd',\r\n\t\tcamera:\"/extraUpload/motion/YoureIt/Camera_1.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/PRODUCE48/PRODUCE48.wav',\r\n\t\tmove:['/extraUpload/motion/PRODUCE48/motion.vmd','/extraUpload/motion/PRODUCE48/facial+lip.vmd'],\r\n\t\tcamera:\"/extraUpload/motion/PRODUCE48/box-cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/TheZombieSong/zombiesong.wav',\r\n\t\tmove: '/extraUpload/motion/TheZombieSong/Zambies.vmd',\r\n\t\tcamera:\"/extraUpload/motion/TheZombieSong/cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/Paranoia-ZKArti/Paranoia.wav',\r\n\t\tmove: '/extraUpload/motion/Paranoia-ZKArti/Singer.vmd',\r\n\t\tcamera:\"/extraUpload/motion/Paranoia-ZKArti/Camera.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/TheZombieSongFull/TheZombieSong.wav',\r\n\t\tmove: '/extraUpload/motion/TheZombieSongFull/Miku.vmd',\r\n\t\tmoveLeft: '/extraUpload/motion/TheZombieSongFull/Rin.vmd',\r\n\t\tmoveRight: '/extraUpload/motion/TheZombieSongFull/Rin.vmd',\r\n\t\tcamera:\"/extraUpload/motion/TheZombieSongFull/Camera.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/ALLeyesonme/allayesonme.wav',\r\n\t\tmove: ['/extraUpload/motion/ALLeyesonme/Blankout.vmd','/extraUpload/motion/ALLeyesonme/Blank.vmd'],\r\n\t\tmoveLeft: ['/extraUpload/motion/ALLeyesonme/Blankout.vmd','/extraUpload/motion/ALLeyesonme/Blank.vmd'],\r\n\t\tmoveRight: ['/extraUpload/motion/ALLeyesonme/Blankout.vmd','/extraUpload/motion/ALLeyesonme/Blank.vmd'],\r\n\t\tcamera:\"/extraUpload/motion/ALLeyesonme/camara.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/BeginAgain/Beginagain.wav',\r\n\t\tmove: '/extraUpload/motion/BeginAgain/Motion.vmd',\r\n\t\tcamera:\"/extraUpload/motion/BeginAgain/camera.vmd\"\r\n\t},{\r\n\t\tmusic:'/extraUpload/motion/cake/Cake.wav',\r\n\t\tmove: '/extraUpload/motion/cake/SINGER.vmd',\r\n\t\tcamera:\"/extraUpload/motion/cake/CAMERA.vmd\"\r\n\t},{\r\n\t\tmusic:'/extraUpload/motion/Hushh_AViVA/HUSHH.wav',\r\n\t\tmove: '/extraUpload/motion/Hushh_AViVA/MainMotion.vmd',\r\n\t\tmoveRight: '/extraUpload/motion/Hushh_AViVA/Ghost2.vmd',\r\n\t\tmoveLeft: '/extraUpload/motion/Hushh_AViVA/Ghost1.vmd',\r\n\t\tcamera:\"/extraUpload/motion/Hushh_AViVA/Camera.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/Sixfeetunder/Thissong.wav',\r\n\t\tmove: '/extraUpload/motion/Sixfeetunder/Girlmotion.vmd',\r\n\t\tmoveRight: '/extraUpload/motion/Sixfeetunder/Boymotion.vmd',\r\n\t\tmoveLeft: '/extraUpload/motion/Sixfeetunder/Boymotion.vmd',\r\n\t\tcamera:\"/extraUpload/motion/Sixfeetunder/Camera.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/HistoryMaker/WAV.wav',\r\n\t\tmove: '/extraUpload/motion/HistoryMaker/Motion.vmd',\r\n\t\tcamera:\"/extraUpload/motion/HistoryMaker/Camera.vmd\"\r\n\t},{\r\n\t\tmusic:'/extraUpload/motion/Lovemelovemeloveme/aishite.wav',\r\n\t\tmove: '/extraUpload/motion/Lovemelovemeloveme/mov.vmd',\r\n\t\tcamera:\"/extraUpload/motion/Lovemelovemeloveme/cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/Dontstopmeme/DONTSTOPmeme.wav',\r\n\t\tmove: '/extraUpload/motion/Dontstopmeme/Motion1.vmd',\r\n\t\tmoveLeft: '/extraUpload/motion/Dontstopmeme/Motion1.vmd',\r\n\t\tmoveRight: '/extraUpload/motion/Dontstopmeme/Motion2.vmd',\r\n\t\tcamera:\"/extraUpload/motion/Dontstopmeme/Camera.vmd\"\r\n\t},{\r\n\t\tmusic:'/extraUpload/motion/DONTMIND/DONTMIND.wav',\r\n\t\tmove: '/extraUpload/motion/DONTMIND/MOTION.vmd',\r\n\t\tcamera:\"/extraUpload/motion/DONTMIND/CAMERA.vmd\"\r\n\t},{\r\n\t\tmusic:'/extraUpload/motion/TWICE/TWICE.wav',\r\n\t\tmove: ['/extraUpload/motion/TWICE/motion.vmd','/extraUpload/motion/TWICE/Facial.vmd'],\r\n\t\tcamera:\"/extraUpload/motion/PRODUCE48/box-cam.vmd\"\r\n\t},{\r\n\t\tmusic:'/extraUpload/motion/BBOOM/BBOOM.wav',\r\n\t\tmove: '/extraUpload/motion/BBOOM/MOTION.vmd',\r\n\t\tcamera:\"/extraUpload/motion/BBOOM/CAMout.vmd\"\r\n\t},{\r\n\t\tmusic:'/extraUpload/motion/Asphyxiate/wav.wav',\r\n\t\tmove: '/extraUpload/motion/Asphyxiate/motion.vmd',\r\n\t\tcamera:\"/extraUpload/motion/Asphyxiate/camera.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/just_do_it/dreams.wav',\r\n\t\tmove: '/extraUpload/motion/just_do_it/mot.vmd',\r\n\t\tcamera:\"/extraUpload/motion/PRODUCE48/box-cam.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/SAYONARA/SAYONARA.wav',\r\n\t\tmove: ['/extraUpload/motion/SAYONARA/MOTION.vmd','/extraUpload/motion/SAYONARA/focus.vmd'],\r\n\t\tcamera:\"/extraUpload/motion/SAYONARA/CAMERA.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/Umbrella/Umbrell.wav',\r\n\t\tmove: '/extraUpload/motion/Umbrella/miku.vmd',\r\n\t\tcamera:\"/extraUpload/motion/Umbrella/camera.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/CountingSheep/CountingSheep.wav',\r\n\t\tmove: '/extraUpload/motion/CountingSheep/Motion.vmd',\r\n\t\tcamera:\"/extraUpload/motion/CountingSheep/Camera.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/SaveMe/SaveMe.wav',\r\n\t\tmove: '/extraUpload/motion/SaveMe/Jimin.vmd',\r\n\t\tmoveRight: '/extraUpload/motion/SaveMe/Jungkook.vmd',\r\n\t\tmoveLeft: '/extraUpload/motion/SaveMe/RapMon.vmd',\r\n\t\tcamera:\"/extraUpload/motion/SaveMe/C.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/triller/triller.mp3',\r\n\t\tmove: '/extraUpload/motion/triller/MOTION/dance1.vmd',\r\n\t\tmoveRight: '/extraUpload/motion/triller/MOTION/dance3.vmd',\r\n\t\tmoveLeft: '/extraUpload/motion/triller/MOTION/dance2.vmd',\r\n\t\tcamera:\"/extraUpload/motion/triller/MOTION/camera.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion//.wav',\r\n\t\tmove: '/extraUpload/motion//RIGHT.vmd',\r\n\t\tmoveRight: '/extraUpload/motion//LEFT.vmd',\r\n\t\tmoveLeft: '/extraUpload/motion//LEFT.vmd',\r\n\t\tcamera:\"/extraUpload/motion//camera.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/extraUpload/motion/AiNoUta/ainouta.mp3',\r\n\t\tmove: '/extraUpload/motion/AiNoUta/mov.vmd',\r\n\t\tcamera:\"/extraUpload/motion/AiNoUta/cam.vmd\"\r\n\t},{\r\n\t\tmusic:'/extraUpload/motion/changeme/changeme.wav',\r\n\t\tmove: '/extraUpload/motion/changeme/mov.vmd',\r\n\t\tcamera:\"/extraUpload/motion/changeme/cam.vmd\"\r\n\t},{\r\n\t\tmusic:'/extraUpload/motion/changeMeMeiko/changeme.mp3',\r\n\t\tmove: '/extraUpload/motion/changeMeMeiko/motion.vmd',\r\n\t\tcamera:\"/extraUpload/motion/changeMeMeiko/cam.vmd\"\r\n\t},{\r\n\t\tmusic:'/extraUpload/motion/Me!Me!Me!/mememe3.mp3',\r\n\t\tmove: '/extraUpload/motion/Me!Me!Me!/mememe.vmd',\r\n\t\tcamera:\"/extraUpload/motion/Me!Me!Me!/camera.vmd\"\r\n\t},{\r\n\t\t\"music\":\"/extraUpload/motion/FlipFlop/FlipFlop.wav\",\r\n\t\t\"move\": '/extraUpload/motion/FlipFlop/Motion.vmd',\r\n\t\t\"camera\":\"/extraUpload/motion/FlipFlop/cam.vmd\"\r\n\t},{\r\n\t\t\"music\":\"/extraUpload/motion/GimmeMore/GimmeMore.wav\",\r\n\t\t\"move\": '/extraUpload/motion/GimmeMore/Motion.vmd',\r\n\t\t\"moveRight\": '/extraUpload/motion/GimmeMore/Motion2.vmd',\r\n\t\t\"moveLeft\": '/extraUpload/motion/GimmeMore/Motion2.vmd',\r\n\t\t\"camera\":\"/extraUpload/motion/GimmeMore/Camera.vmd\"\r\n\t},{\r\n\t\t\"music\":\"/extraUpload/motion/GimmeGimme/gimme.mp3\",\r\n\t\t\"move\": \"/extraUpload/motion/GimmeGimme/mov.vmd\",\r\n\t\t\"camera\":\"/extraUpload/motion/FlipFlop/cam.vmd\"\r\n\t},\r\n\t{\"music\":\"/extraUpload/motion/rabbitDance/rabbitDance.wav\",\"move\":\"/extraUpload/motion/rabbitDance/Motion.vmd\",\"camera\":\"/extraUpload/motion/rabbitDance/Camera.vmd\"},\r\n\t{\"needMikus\":true, \"music\":\"/extraUpload/motion/lovenwantit/BGM.wav\",\"move\":\"/extraUpload/motion/lovenwantit/motion.vmd\",\"camera\":\"/extraUpload/motion/shinede/camera.vmd\"},\r\n\t{\"needMikus\":true, \"music\":\"/extraUpload/motion/dreamscometrue/BGM.wav\",\"move\":\"/extraUpload/motion/dreamscometrue/motion.vmd\",\"camera\":\"/extraUpload/motion/shinede/camera.vmd\"},\r\n\t{\"needMikus\":true, \"music\":\"/extraUpload/motion/kawaiinei/BGM.wav\",\"move\":\"/extraUpload/motion/kawaiinei/motion.vmd\",\"camera\":\"/extraUpload/motion/shinede/camera.vmd\"},\r\n\t{\"needRugular\":true, \"music\":\"/extraUpload/motion/shinede/BGM.wav\",\"move\":\"/extraUpload/motion/shinede/motionYYB.vmd\",\"camera\":\"/extraUpload/motion/shinede/camera.vmd\"}\r\n]\r\n\r\nexport const pendingList = [\r\n\t{\r\n\t\tmusic:'/move/wavefile_short.mp3',\r\n\t\tmove:'/move/punch-move.vmd',\r\n\t\tcamera:'/move/punch-camera.vmd'\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/wavefile_short.mp3',\r\n\t\tmove: \"/move/yuzu.vmd\",\r\n\t\tcamera:'/move/box-cam.vmd'\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/wavefile_short.mp3',\r\n\t\tmove:'/move/zaku-move.vmd',\r\n\t\tcamera:\"/move/zaku-camera.vmd\"\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/wavefile_short.mp3',\r\n\t\tmove:'/move/shy-move.vmd',\r\n\t\tcamera:'/move/box-cam.vmd',\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/wavefile_short.mp3',\r\n\t\tmove:'/move/II.vmd',\r\n\t\tcamera:'/move/box-cam.vmd',\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/wavefile_short.mp3',\r\n\t\tmove:'/move/laysport.vmd',\r\n\t\tcamera:'/move/box-cam.vmd',\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/wavefile_short.mp3',\r\n\t\tmove:'/move/box-move.vmd',\r\n\t\tcamera:'/move/box-cam.vmd',\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/wavefile_short.mp3',\r\n\t\tmove:'/move/kaqitorite.vmd',\r\n\t\tcamera:'/move/box-cam.vmd',\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/wavefile_short.mp3',\r\n\t\tmove:'/move/headshot.vmd',\r\n\t\tcamera:'/move/box-cam.vmd',\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/wavefile_short.mp3',\r\n\t\tmove:'/move/butterfly.vmd',\r\n\t\tcamera:'/move/box-cam.vmd',\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/wavefile_short.mp3',\r\n\t\tmove:'/move/pendingMt/NPCDance.vmd',\r\n\t\tcamera:'/move/box-cam.vmd',\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/wavefile_short.mp3',\r\n\t\tmove:'/move/pendingMt/omg.vmd',\r\n\t\tcamera:'/move/box-cam.vmd',\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/wavefile_short.mp3',\r\n\t\tmove:'/move/pendingMt/yaoyaole.vmd',\r\n\t\tcamera:'/move/box-cam.vmd',\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/wavefile_short.mp3',\r\n\t\tmove:'/move/pendingMt/pipa.vmd',\r\n\t\tcamera:'/move/box-cam.vmd',\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/wavefile_short.mp3',\r\n\t\tmove:'/move/pendingMt/qiuqiu.vmd',\r\n\t\tcamera:'/move/box-cam.vmd',\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/wavefile_short.mp3',\r\n\t\tmove:'/move/longpunch.vmd',\r\n\t\tcamera:'/move/box-cam.vmd',\r\n\t},\r\n\t{\r\n\t\tmusic:'/move/wavefile_short.mp3',\r\n\t\tmove:['/extraUpload/motion/aligaduo/aligaduo.vmd','/extraUpload/motion/aligaduo/aligaduomot.vmd'],\r\n\t\tcamera:'/move/box-cam.vmd',\r\n\t},\r\n\t...Array.from(new Array(16)).map((e,index)=>({music:'/move/wavefile_short.mp3',move:`/extraUpload/motion/MMDMotion/${index+1}.vmd`,camera:'/move/box-cam.vmd'})),\r\n\t...Array.from(new Array(109)).map((e,index)=>({music:'/move/wavefile_short.mp3',move:`/move/pengingdpack/${index+1}.vmd`,camera:'/move/box-cam.vmd'}))\r\n]\r\nexport const characterList = [\r\n\t\"/mod/mika_ver1.1.pmx\", // called when the resource is loaded\r\n\t\"/mod/mika_light_ver1.1.pmx\",\r\n\t\"/kisaki/kisaki.pmx\",\r\n\t\"/aru/Aru_1.0/aru2.pmx\",\r\n\t\"/arona/Arona_1.01.pmx\",\r\n\t\"/kokona/kokona.pmx\",\r\n\t\"/extraUpload/char/IochiMari/IochiMari.pmx\",\r\n\t\"/extraUpload/char/Plana/Plana.pmx\"\r\n];\r\n\r\nexport const stageList = [\r\n\t[[\"/stage/.pmx\"],[\"/stage/.pmx\"],[\"/stage/.pmx\"],[\"/stage/.pmx\"]],\r\n\t[[\"/stage2/.pmx\"]],\r\n\t[[\"/stage3/.pmx\"]],\r\n\t[[\"/stage4/.pmx\"]],\r\n\t[[\"/stage5/.pmx\"]],\r\n\t[[\"/stage6/kun.pmx\"]],\r\n\t[[\"/stage7/main.pmx\"],[\"/stage7/ball.pmx\"]],\r\n\t[[\"/stage9/.pmx\"]],\r\n\t[[\"/stage10/stage2.pmx\"]],\r\n\t[[\"/stage11/ver1.pmx\"]],\r\n\t[[\"/stage12/1.1.pmx\"]],\r\n\t[['/extraUpload/stage/nightbridge/1.pmx'],['/extraUpload/stage/nightbridge/2.pmx'],['/extraUpload/stage/nightbridge/3.pmx'],['/extraUpload/stage/nightbridge/4.pmx']],\r\n\t[['/extraUpload/stage/modelstage/1.pmx']],\r\n\t[['/extraUpload/stage/cafe/1.pmx']],\r\n\t[['/extraUpload/stage/whiteXblue/1.pmx']],\r\n\t [['/extraUpload/stage/cubehouse/1.pmx']],\r\n\t[['/extraUpload/stage/lovestair/1.pmx'],['/extraUpload/stage/lovestair/2.pmx'],['/extraUpload/stage/lovestair/3.pmx']],\r\n\t [['/extraUpload/stage/yorahouse/1.pmx'],['/extraUpload/stage/yorahouse/2.pmx']],\r\n\t[['/extraUpload/stage/starnorain/1.pmx']],\r\n\t[['/extraUpload/stage/blackXgold/1.pmx']],\r\n\t[['/extraUpload/stage/palacestage/1.pmx']],\r\n\t[['/extraUpload/stage/blue-palace/1.pmx'],['/extraUpload/stage/blue-palace/2.pmx']],\r\n\t[['/extraUpload/stage/underground/1.pmx'],['/extraUpload/stage/underground/2.pmx']],\r\n\t[['/extraUpload/stage/snowpark/1.pmx']],\r\n\t[['/extraUpload/stage/palace/1.pmx']],\r\n\t[['/extraUpload/stage/whiteblack/1.pmx']],\r\n\t[['/extraUpload/stage/redforest/1.pmx']],\r\n\t[['/extraUpload/stage/library/1.pmx'],['/extraUpload/stage/library/2.pmx']],\r\n\t[['/extraUpload/stage/bridge/1.pmx'],['/extraUpload/stage/bridge/2.pmx'],['/extraUpload/stage/bridge/3.pmx'],['/extraUpload/stage/bridge/4_2.pmx']],\r\n\t[['/extraUpload/stage/whiteroom/1.pmx'],['/extraUpload/stage/bluesky/1.pmx'],['/extraUpload/stage/bluesky/2.pmx']],\r\n\t[['/extraUpload/stage/gardon/yellow/1.pmx'],['/extraUpload/stage/bluesky/1.pmx'],['/extraUpload/stage/bluesky/2.pmx']],\r\n\t[['/extraUpload/stage/gardon/white/1.pmx'],['/extraUpload/stage/gardon/white/2.pmx'],['/extraUpload/stage/gardon/white/3.pmx'],['/extraUpload/stage/bluesky/1.pmx'],['/extraUpload/stage/bluesky/2.pmx']],\r\n\t[['/extraUpload/stage/gardon/red/1.pmx'],['/extraUpload/stage/bluesky/1.pmx'],['/extraUpload/stage/bluesky/2.pmx']],\r\n\t[['/extraUpload/stage/gardon/purple/1.pmx'],['/extraUpload/stage/bluesky/1.pmx'],['/extraUpload/stage/bluesky/2.pmx']],\r\n\t[['/extraUpload/stage/gardon/blue/1.pmx'],['/extraUpload/stage/bluesky/1.pmx'],['/extraUpload/stage/bluesky/2.pmx']],\r\n\t[['/extraUpload/stage/seaflowwer/1.pmx'],['/extraUpload/stage/seaflowwer/2.pmx'],['/extraUpload/stage/seaflowwer/3.pmx']],\r\n\t[['/extraUpload/stage/internalhotel/hotel2/1.pmx']],\r\n\t[['/extraUpload/stage/redstage/red1.pmx'],['/extraUpload/stage/redstage/red2.pmx']],\r\n\t[['/extraUpload/stage/nightflower/1.pmx'],['/extraUpload/stage/nightflower/2.pmx'],['/extraUpload/stage/nightflower/3.pmx']]\r\n];\r\n\r\nexport const recommandList = [\r\n\t// \r\n\t// music:'/move/.mp3',\r\n\t// move:'/move/-mov.vmd',\r\n\t// camera:\"/move/-cam.vmd\"\r\n\t{\r\n\t\tname:'',\r\n\t\tactor:'(Homyu )', \r\n\t\tmodel : [ `http://all.franxxdaryl.site/dist/threeMMD/kisaki/kisaki.pmx`], \r\n\t\tmotion:{\r\n\t\t\tmusic:'http://all.franxxdaryl.site/dist/threeMMD/move/.mp3',\r\n\t\t\tmove:'http://all.franxxdaryl.site/dist/threeMMD/move/-mov.vmd',\r\n\t\t\tcamera: 'http://all.franxxdaryl.site/dist/threeMMD/move/-cam.vmd'\r\n\t\t},\r\n\t\tstage:[[\"/extraUpload/stage/HotspringHall/stage.pmx\"]],//[[\"/extraUpload/stage/lightstage/stage.pmx\"]],\r\n\t\tneedRain: false\r\n\t},\r\n\t{\r\n\t\tname:'PINK CAT',\r\n\t\tactor:'(Homyu ),(lovecelebi ),( )', \r\n\t\tmodel : [ `http://all.franxxdaryl.site/dist/threeMMD/kokona/kokona.pmx`,`http://all.franxxdaryl.site/dist/threeMMD/arona/Arona_1.01.pmx`,`http://all.franxxdaryl.site/dist/threeMMD/extraUpload/char/Plana/Plana.pmx`], \r\n\t\tmotion:{\r\n\t\t\tmusic:'http://all.franxxdaryl.site/dist/threeMMD/extraUpload/motion/PiNKCAT/PiNKCAT.wav',\r\n\t\t\tmove:['http://all.franxxdaryl.site/dist/threeMMD/extraUpload/motion/PiNKCAT/modelmotion.vmd','http://all.franxxdaryl.site/dist/threeMMD/extraUpload/motion/PiNKCAT/mouthmotion.vmd'],\r\n\t\t\tcamera: 'http://all.franxxdaryl.site/dist/threeMMD/extraUpload/motion/PiNKCAT/cameramotion.vmd'\r\n\t\t},\r\n\t\tstage:[['/extraUpload/stage/yorahouse/1.pmx'],['/extraUpload/stage/yorahouse/2.pmx']],//[[\"/extraUpload/stage/lightstage/stage.pmx\"]],\r\n\t\tposList: [[0,0,0],[-10,0,-5],[10,0,-5]],\r\n\t\tneedRain: false\r\n\t},\r\n\t{\r\n\t\tname:'Classic',\r\n\t\tactor:'( )', \r\n\t\tmodel : [ `http://all.franxxdaryl.site/dist/threeMMD/extraUpload/char/skakurako2/sakurako_noawake.pmx`], \r\n\t\tmotion:{\r\n\t\t\tmusic:'http://all.franxxdaryl.site/dist/threeMMD/extraUpload/motion/classic/MKTO-Classic.mp3',\r\n\t\t\tmove: ['http://all.franxxdaryl.site/dist/threeMMD/extraUpload/motion/classic/13_facial_Classic.vmd','http://all.franxxdaryl.site/dist/threeMMD/extraUpload/motion/classic/12_eye_Classic.vmd','http://all.franxxdaryl.site/dist/threeMMD/extraUpload/motion/classic/11_motion_Classic.vmd'],\r\n\t\t\tcamera:\"http://all.franxxdaryl.site/dist/threeMMD/extraUpload/motion/classic/Camera.vmd\"\r\n\t\t},\r\n\t\tstage:[[\"/extraUpload/stage/lightstage/stage.pmx\"]],\r\n\t},\r\n\t{\r\n\t\tname:'',\r\n\t\tactor:'()', \r\n\t\t// model : [ `http://all.franxxdaryl.site/dist/threeMMD/extraUpload/char/YYBHatsuneMiku_10th/YYBMiku1.pmx`], \r\n\t\tmodel : [ `http://all.franxxdaryl.site/dist/threeMMD/extraUpload/char/genogemiku/miku.pmx`], \r\n\t\tmotion:{\r\n\t\t\tmusic:'http://all.franxxdaryl.site/dist/threeMMD/move/jilejingtu2.mp3',\r\n\t\t\tmove:'http://all.franxxdaryl.site/dist/threeMMD/move/jilejingtu.vmd',\r\n\t\t\tcamera:\"http://all.franxxdaryl.site/dist/threeMMD/move/jilejingtu_cam.vmd\"\r\n\t\t},\r\n\t\tstage:[['/extraUpload/stage/nightflower/1.pmx'],['/extraUpload/stage/nightflower/2.pmx'],['/extraUpload/stage/nightflower/3.pmx']],\r\n\t\tneedRain: true\r\n\t},\r\n\t{\r\n\t\tname:'',\r\n\t\tactor:'(lovecelebi )', \r\n\t\tmodel : [ `http://all.franxxdaryl.site/dist/threeMMD/mod/mika_ver1.1.pmx`], \r\n\t\tmotion:{\r\n\t\t\tmusic:'http://all.franxxdaryl.site/dist/threeMMD/extraUpload/motion/idol/idol.wav',\r\n\t\t\tmove:'http://all.franxxdaryl.site/dist/threeMMD/extraUpload/motion/idol/Motion.vmd',\r\n\t\t\tcamera: 'http://all.franxxdaryl.site/dist/threeMMD/extraUpload/motion/idol/Camera.vmd'\r\n\t\t},\r\n\t\tstage:[[\"/extraUpload/stage/dream/dream1.pmx\"]],\r\n\t\tneedRain: false\r\n\t},\r\n\t{\r\n\t\tname:'Bad Apple!!',\r\n\t\tactor:'', \r\n\t\tmodel : [ `http://all.franxxdaryl.site/dist/threeMMD/extraUpload/char/akuya/akuya.pmx`, `http://all.franxxdaryl.site/dist/threeMMD/extraUpload/char/UsadaPekora/pekora/UsadaPekora.pmx`], \r\n\t\tmotion:{\r\n\t\t\tmusic:'http://all.franxxdaryl.site/dist/threeMMD/extraUpload/motion/BADAPPLE/BadApple.wav',\r\n\t\t\tmove:'http://all.franxxdaryl.site/dist/threeMMD/extraUpload/motion/BADAPPLE/WHITE.vmd',\r\n\t\t\tmoveLeft:'http://all.franxxdaryl.site/dist/threeMMD/extraUpload/motion/BADAPPLE/BLACK.vmd',\r\n\t\t\tcamera: \"http://all.franxxdaryl.site/dist/threeMMD/extraUpload/motion/BADAPPLE/camera.vmd\"\r\n\t\t},\r\n\t\tstage:[['/extraUpload/stage/whiteXblue/1.pmx']],\r\n\t\tposList: null ,//[[0,0,0],[-3,0,0]],\r\n\t\tneedRain: false\r\n\t},\r\n\t{\r\n\t\tname:'Every body',\r\n\t\tactor:'(lovecelebi )(Homyu )(lovecelebi )', \r\n\t\tmodel : [ `http://all.franxxdaryl.site/dist/threeMMD/mod/mika_ver1.1.pmx`, `http://all.franxxdaryl.site/dist/threeMMD/kisaki/kisaki.pmx`,`http://all.franxxdaryl.site/dist/threeMMD/arona/Arona_1.01.pmx`], \r\n\t\tmotion:{\r\n\t\t\tmusic:'http://all.franxxdaryl.site/dist/threeMMD/extraUpload/motion/Everybody/everybody.wav',\r\n\t\t\tmove:'http://all.franxxdaryl.site/dist/threeMMD/extraUpload/motion/Everybody/middle.vmd',\r\n\t\t\tmoveLeft:'http://all.franxxdaryl.site/dist/threeMMD/extraUpload/motion/Everybody/left.vmd',\r\n\t\t\tmoveRight:'http://all.franxxdaryl.site/dist/threeMMD/extraUpload/motion/Everybody/right.vmd',\r\n\t\t\tcamera: 'http://all.franxxdaryl.site/dist/threeMMD/extraUpload/motion/Everybody/camera.vmd'\r\n\t\t},\r\n\t\tstage:[[\"/stage12/1.1.pmx\"]],\r\n\t\tposList: [[0,-2,0],[0,1.5,2],[0,1.5,2]],\r\n\t\tneedRain: false\r\n\t},\r\n\t{\r\n\t\tname:'',\r\n\t\tactor:'rabbitmiku(BigTree )', \r\n\t\tmodel : [ `http://all.franxxdaryl.site/dist/threeMMD/extraUpload/char/2dmiku/mikuRabbit233.pmx`], \r\n\t\tmotion:{\r\n\t\t\tmusic:'http://all.franxxdaryl.site/dist/threeMMD/move/rabbithole2/rabbithole.mp3',\r\n\t\t\tmove:'http://all.franxxdaryl.site/dist/threeMMD/move/rabbithole2/rabbit_mov.vmd',\r\n\t\t\tcamera:\"http://all.franxxdaryl.site/dist/threeMMD/move/rabbithole2/rabbit_camera.vmd\"\r\n\t\t},\r\n\t\tstage:[['/stage9/black.pmx']],\r\n\t\tposList: null,\r\n\t\tneedRain: false\r\n\t}\r\n\t];","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Camera = void 0;\nconst THREE = __importStar(require(\"three\"));\nclass Camera {\n    constructor() {\n    }\n    getCamera() {\n        return this._camera;\n    }\n    init(container) {\n        const { clientHeight, clientWidth } = container;\n        this._camera = new THREE.PerspectiveCamera(90, clientWidth / clientHeight, 0.1, 4000);\n        // \n        const position = {\n            x: -5.3,\n            y: 4.6,\n            z: 27.2,\n        };\n        // this._camera.position.set(position.x, position.y, position.z);\n        this._camera.position.set(-10, 21.8, 20);\n        // this._camera.lookAt(-5.3, -13, 25);\n    }\n}\nexports.Camera = Camera;\nexports.default = new Camera();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.imgArrow = exports.imgRestart = exports.imgLoad = void 0;\nexports.imgLoad = 'data:image/png;base64,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';\nexports.imgRestart = 'data:image/png;base64,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';\nexports.imgArrow = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAkCAYAAACTz/ouAAAAAXNSR0IArs4c6QAAALBJREFUSEvtlDEOwjAMRW2z9i5IKFKZ2ltwiRyK9iZdy9Kp3KRsEIZsqKr9iyIGnNnyi59/wlT4cOH+5ADVsCtyRaoBteD3KRpu07WSZwwhPNTrrhSoEwzjlIhplle6NOfTHYXYALnrwgeJbTj2CAQB5L5MHaIMB2SIWdk+AKDsOwBJbOvtnewFzJJsqcIBBZe8sEHJZ4StE5iV4IDSXwXyatdqVUUOcEVqBlzRHyh6A/qNUiWZ9HKvAAAAAElFTkSuQmCC';\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// spotlight\nexports.default = {\n    // \n    '/extraUpload/stage/zhaixingling/zhai.pmx': { \"x\": -32, \"y\": 140, \"z\": 336, \"color\": \"210303\", \"intensity\": 2480, \"distance\": 500.76, \"angle\": 0.840899633610868, \"penumbra\": 0.902, \"decay\": 0.45, \"focus\": 0.189 },\n    // Stage001\n    '/extraUpload/stage/Stage001/Stage001.pmx': { \"x\": -58, \"y\": 164, \"z\": -302, \"color\": \"fef6f6\", \"intensity\": 85, \"distance\": 1713.6, \"angle\": 0.146607657167524, \"penumbra\": 0.705, \"decay\": 0.819, \"focus\": 0.398 },\n    // st2/st\n    '/extraUpload/stage/stages/st2/st.pmx': { \"x\": 66, \"y\": 16, \"z\": -402, \"color\": \"c7f1ff\", \"intensity\": 330, \"distance\": 488.28, \"angle\": 0.596902604182061, \"penumbra\": 0.385, \"decay\": 0.636, \"focus\": 0.287 },\n    // waterpool/pool.pmx\n    '/extraUpload/stage/waterpool/pool.pmx': { \"x\": 42, \"y\": 66, \"z\": -130, \"color\": \"cc8624\", \"intensity\": 1310, \"distance\": 196.56, \"angle\": 0.197920337176157, \"penumbra\": 0.926, \"decay\": 1.041, \"focus\": 1 },\n    // GhostRuleStage/stage1.pmx\n    '/extraUpload/stage/GhostRuleStage/stageMain.pmx': { \"x\": 288, \"y\": -8, \"z\": 360, \"color\": \"041a0a\", \"intensity\": 760, \"distance\": 723.24, \"angle\": -0.364424747816416, \"penumbra\": 0.816, \"decay\": 0.378, \"focus\": 0.57 },\n    // stage04_CLkusajishi/stage04.pmx\n    '/extraUpload/stage/stage04_CLkusajishi/stage04.pmx': { \"x\": 114, \"y\": 262, \"z\": -180, \"color\": \"3f0808\", \"intensity\": 145, \"distance\": 476.28, \"angle\": -0.980176907920016, \"penumbra\": 0.053, \"decay\": 0.414, \"focus\": 0.312 },\n    // '/extraUpload/stage/stageMiku/stage.pmx'\n    '/extraUpload/stage/stageMiku/stage.pmx': { \"x\": 16, \"y\": 188, \"z\": -230, \"color\": \"878787\", \"intensity\": 515, \"distance\": 1002.96, \"angle\": -0.0502654824574367, \"penumbra\": 0.607, \"decay\": 0.414, \"focus\": 1 },\n    // '/extraUpload/stage/blue-palace/1.pmx'\n    '/extraUpload/stage/blue-palace/1.pmx': { \"x\": 114, \"y\": 16, \"z\": -106, \"color\": \"143d8f\", \"intensity\": 3830, \"distance\": 1280.16, \"angle\": 1.03044239037745, \"penumbra\": 0.742, \"decay\": 1.116, \"focus\": 0.607 },\n    '/extraUpload/stage/HotspringHall/stage.pmx': { \"x\": 0, \"y\": 144, \"z\": -130, \"color\": \"331700\", \"intensity\": 1865, \"distance\": 816.48, \"angle\": -1.13097335529233, \"penumbra\": 1, \"decay\": 0.5, \"focus\": 0.349 },\n    '/extraUpload/stage/lightstage/stage.pmx': { \"x\": 0, \"y\": 42, \"z\": -230, \"color\": \"060538\", \"intensity\": 700, \"distance\": 2147.04, \"angle\": 3.50601740140621, \"penumbra\": 1, \"decay\": 0.5, \"focus\": 0.914 },\n    '/extraUpload/stage/yorahouse/1.pmx': { \"x\": -32, \"y\": 90, \"z\": -106, \"color\": \"d35587\", \"intensity\": 14, \"distance\": 536.76, \"angle\": -1.13097335529233, \"penumbra\": 1, \"decay\": 0.525, \"focus\": 0.975 },\n    '/extraUpload/stage/LiFE_Stage_02/Stage1.pmx': { \"x\": -130, \"y\": 114, \"z\": -32, \"color\": \"e2eea5\", \"intensity\": 85, \"distance\": 226.8, \"angle\": 0.9, \"penumbra\": 1, \"decay\": 0.45, \"focus\": 0.484 },\n    '/extraUpload/stage/hiroba_ver1/1.pmx': { \"x\": 0, \"y\": 144, \"z\": 4.5, \"color\": \"ffffff\", \"intensity\": 14, \"distance\": 167, \"angle\": 0.9, \"penumbra\": 1, \"decay\": 0.5, \"focus\": 1 },\n    // \n    'default': { \"x\": 16, \"y\": 188, \"z\": -230, \"color\": \"878787\", \"intensity\": 515, \"distance\": 1002.96, \"angle\": -0.0502654824574367, \"penumbra\": 0.607, \"decay\": 0.414, \"focus\": 1 }\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Loader = exports.helper = void 0;\nconst THREE = __importStar(require(\"three\"));\nconst MMDLoader_js_1 = require(\"three/examples/jsm/loaders/MMDLoader.js\");\nconst FBXLoader_js_1 = require(\"three/examples/jsm/loaders/FBXLoader.js\");\nconst MMDAnimationHelper_js_1 = require(\"three/examples/jsm/animation/MMDAnimationHelper.js\");\nconst camera_1 = __importDefault(require(\"./camera\"));\nconst filelists_1 = require(\"./filelists\");\nexports.helper = { add: (a, b) => { }, update: (b) => { } };\nconst mmdCDN = 'http://all.franxxdaryl.site/dist/threeMMD';\nconst mmdActCDN = 'http://all.franxxdaryl.site/dist/threeMMD';\nconst getOnlyArray = (arr, length) => {\n    const generateRandom = () => Math.round(Math.random() * (arr.length - 1));\n    let result = Array.from(new Set(Array.from(new Array(length)).map(e => generateRandom())));\n    return result.length === length ? result : getOnlyArray(arr, length);\n};\nfunction onProgress(xhr) {\n    if (xhr.lengthComputable) {\n        const percentComplete = xhr.loaded / xhr.total * 100;\n        ;\n    }\n}\nclass Loader {\n    refreshHelper() {\n        // helper.\n        exports.helper.enable('animation', false);\n        exports.helper.meshes.forEach((mesh) => {\n            var _a, _b, _c, _d;\n            // mmd\n            (_b = (_a = mesh === null || mesh === void 0 ? void 0 : mesh.geometry) === null || _a === void 0 ? void 0 : _a.dispose) === null || _b === void 0 ? void 0 : _b.call(_a);\n            (_d = (_c = mesh === null || mesh === void 0 ? void 0 : mesh.skeleton) === null || _c === void 0 ? void 0 : _c.dispose) === null || _d === void 0 ? void 0 : _d.call(_c);\n            mesh && exports.helper.remove(mesh);\n        });\n        exports.helper.audio && exports.helper.remove(exports.helper.audio);\n        exports.helper.camera && exports.helper.remove(exports.helper.camera);\n        exports.helper = { add: (a, b) => { }, update: (b) => { } };\n    }\n    clearAudio() {\n        this.currentAudio = null;\n    }\n    afterEndLoop() {\n        var _a;\n        (_a = this.performanceEnd) === null || _a === void 0 ? void 0 : _a.call(this);\n    }\n    loadFBXModels(scene) {\n        let loader = new FBXLoader_js_1.FBXLoader();\n        loader.load(\"/extraUpload/char/RabbitHoleMiku/FBX/RabbitHoleMiku_v1.0.fbx\", (object) => {\n            // object.traverse(function (child) {\n            //     if ((child as THREE.Mesh).isMesh) {\n            //         // (child as THREE.Mesh).material = material\n            //         if ((child as THREE.Mesh).material) {\n            //             ((child as THREE.Mesh).material as THREE.MeshBasicMaterial).transparent = false\n            //         }\n            //     }\n            // })\n            // object.scale.set(.01, .01, .01)\n            scene.getScene().add(object);\n        }, (xhr) => {\n            console.log((xhr.loaded / xhr.total) * 100 + '% loaded');\n        }, (error) => {\n            console.log(error);\n        });\n    }\n    loadModels(scene, isPending = false, asyncFileObj = {}, performanceEnd = null) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n        let actionList = [...(asyncFileObj.actionList || []), ...filelists_1.actionList];\n        let characterList = [...filelists_1.characterList, ...(asyncFileObj.characterList || [])];\n        let pendingList = [...(asyncFileObj.pendingList || []), ...filelists_1.pendingList];\n        this.performanceEnd = performanceEnd;\n        exports.helper = new MMDAnimationHelper_js_1.MMDAnimationHelper();\n        let loader = new MMDLoader_js_1.MMDLoader();\n        //  \n        if (!window.location.href.includes('whatever'))\n            characterList = characterList.slice(0, 8);\n        //   loader.loadWithAnimation(\n        //     // \"/mod/mika_ver1.1.pmx\", // called when the resource is loaded\n        //  // \"/mod/mika_light_ver1.1.pmx\",\n        //  // \"/kisaki/kisaki.pmx\",\n        //  characterList[randomStudentIndex] || \"/mod/mika_ver1.1.pmx\",\n        //  (isPending ? pendingList[randomPendingIndex]?.move : actionList[randomActionIndex]?.move) || \"/move/hitandrun_mot.vmd\",\n        //      (mmd)=> {\n        // this.currentMmd = mmd;\n        //       const { mesh } = mmd;\n        //       helper.add(mmd.mesh, {\n        //         animation: mmd.animation,\n        //       });\n        //       scene.getScene().add(mmd.mesh);\n        //     }\n        //   );\n        let randomStudentIndex = window.location.href.includes('mikaHaveRest') ? Math.round(Math.random() * (characterList.length - 1)) : (new Date().getHours() > 12 ? 0 : 1);\n        let randomActionIndex = Math.round(Math.random() * (actionList.length - 1));\n        if (window._MMDneedReload) {\n            randomStudentIndex = this.curRandomStudentIndex;\n            randomActionIndex = this.curRandomActionIndex;\n        }\n        //   index\n        this.curRandomActionIndex = randomActionIndex;\n        // const randomActionIndex = actionList.length-1;\n        // const randomPendingIndex = Math.round(Math.random()*(pendingList.length-1));\n        const audioFile = `${mmdActCDN + (((_a = actionList[randomActionIndex]) === null || _a === void 0 ? void 0 : _a.music) || '/move/hitandrun.mp3')}`;\n        let withoutMikaArray = characterList.slice(2);\n        let pendingOnlyArray = getOnlyArray(pendingList, 3);\n        let pendingCharaArray = [];\n        const getOnlyChars = () => {\n            let pendingCharaArray = getOnlyArray(withoutMikaArray, 2);\n            // \n            if (pendingCharaArray.find((e, indx) => /momoi-maid|maid-midori/.test(withoutMikaArray[e]))) {\n                pendingCharaArray = [withoutMikaArray.findIndex(e => /maid-midori/.test(e)), withoutMikaArray.findIndex(e => /momoi-maid/.test(e))];\n            }\n            // \n            else if (pendingCharaArray.find((e, indx) => /Midori.pmx|Momoi.pmx/.test(withoutMikaArray[e]))) {\n                pendingCharaArray = [withoutMikaArray.findIndex(e => /Momoi.pmx/.test(e)), withoutMikaArray.findIndex(e => /Midori.pmx/.test(e))];\n            }\n            // Plana && Arona\n            else if (pendingCharaArray.find((e, indx) => /Plana|Arona/.test(withoutMikaArray[e]))) {\n                pendingCharaArray = [withoutMikaArray.findIndex(e => /Arona/.test(e)), withoutMikaArray.findIndex(e => /Plana/.test(e))];\n            }\n            // asuna karin\n            else if (pendingCharaArray.find((e, indx) => /Asuna_Bunny|Karin_Bunny/.test(withoutMikaArray[e]))) {\n                pendingCharaArray = [withoutMikaArray.findIndex(e => /Karin_Bunny/.test(e)), withoutMikaArray.findIndex(e => /Asuna_Bunny/.test(e))];\n            }\n            // asuna karin jk\n            else if (pendingCharaArray.find((e, indx) => /Asuna_JK|Karin_JK/.test(withoutMikaArray[e]))) {\n                pendingCharaArray = [withoutMikaArray.findIndex(e => /Karin_JK/.test(e)), withoutMikaArray.findIndex(e => /Asuna_JK/.test(e))];\n            }\n            // yuka noah\n            else if (pendingCharaArray.find((e, indx) => /yuka|noah/.test(withoutMikaArray[e]))) {\n                pendingCharaArray = [withoutMikaArray.findIndex(e => /noah/.test(e)), withoutMikaArray.findIndex(e => /yuka/.test(e))];\n            }\n            // yuka noah bunnu\n            else if (pendingCharaArray.find((e, indx) => /Yuka_Bunny|Noah_Bunny/.test(withoutMikaArray[e]))) {\n                pendingCharaArray = [withoutMikaArray.findIndex(e => /Noah_Bunny/.test(e)), withoutMikaArray.findIndex(e => /Yuka_Bunny/.test(e))];\n            }\n            // koharu hanako_uni\n            else if (pendingCharaArray.find((e, indx) => /BA_khr_001|hanako_uni/.test(withoutMikaArray[e]))) {\n                pendingCharaArray = [withoutMikaArray.findIndex(e => /hanako_uni/.test(e)), withoutMikaArray.findIndex(e => /BA_khr_002/.test(e))];\n            }\n            return pendingCharaArray;\n        };\n        if (window._MMDneedReload) {\n            pendingCharaArray = this.curPendingCharaArray;\n        }\n        else {\n            pendingCharaArray = getOnlyChars();\n            // kokoro peko keru\n            if (/peko1.6|keru|kokkoro/.test(characterList[randomStudentIndex])) {\n                let otherChar = ['peko1.6', 'keru', 'kokkoro'].filter(e => !characterList[randomStudentIndex].includes(e));\n                pendingCharaArray = [withoutMikaArray.findIndex(e => e.includes(otherChar[0])), withoutMikaArray.findIndex(e => e.includes(otherChar[1]))];\n            }\n            else if (pendingCharaArray.find((e, indx) => /peko1.6|keru|kokkoro/.test(withoutMikaArray[e]))) {\n                pendingCharaArray = [withoutMikaArray.findIndex(e => /keru/.test(e)), withoutMikaArray.findIndex(e => /kokkoro/.test(e))];\n                randomStudentIndex = characterList.findIndex(e => e.includes('peko1.6'));\n            }\n            // \n            let multCharms = ['koharu', 'momoi', 'midori', 'hanako', 'miyako', 'mari', 'shiroko', 'hasumi', 'noah', 'asuna', 'iori', 'hifumi', 'karin', 'toki', '/ako_', 'mayi', 'miku', 'hina'];\n            // /koharu|momoi|midori|hanako|miyako|mari|shiroko|hasumi|noah|asuna|iori|hifumi|karin/\n            // Array.from(new Set([characterList[randomStudentIndex],...pendingCharaArray.map(e=>withoutMikaArray[e])].map(e=>{let index = multCharms.findIndex(str=>e.toLowerCase().includes(str)); return index > -1 ? multCharms[index] : e} )));\n            // .filter(e=>/koharu|momoi|midori|hanako|miyako|mari|shiroko|hasumi|noah|asuna|iori|hifumi|karin/.test(e.toLowerCase()))>1)\n            // while(pendingCharaArray.filter(e=>(withoutMikaArray as any)[e] === characterList[randomStudentIndex]).length > 0 ){\n            while (Array.from(new Set([characterList[randomStudentIndex], ...pendingCharaArray.map(e => withoutMikaArray[e])].map(e => { let index = multCharms.findIndex(str => e.toLowerCase().includes(str)); return index > -1 ? multCharms[index] : e; }))).length < 3) {\n                randomStudentIndex = Math.round(Math.random() * (characterList.length - 1));\n                pendingCharaArray = getOnlyChars();\n            }\n        }\n        this.curPendingCharaArray = pendingCharaArray;\n        this.curRandomStudentIndex = randomStudentIndex;\n        let curCamera = camera_1.default.getCamera();\n        let audio = null;\n        try {\n            const audioParams = { delayTime: 0 };\n            window._animateNeedPause = true;\n            const char1 = (_c = (_b = characterList[randomStudentIndex].split('/').filter((e) => e.includes('pmx'))) === null || _b === void 0 ? void 0 : _b[0]) === null || _c === void 0 ? void 0 : _c.replace('.pmx', '');\n            const char2 = (_e = (_d = withoutMikaArray[pendingCharaArray[0]].split('/').filter((e) => e.includes('pmx'))) === null || _d === void 0 ? void 0 : _d[0]) === null || _e === void 0 ? void 0 : _e.replace('.pmx', '');\n            const char3 = (_g = (_f = withoutMikaArray[pendingCharaArray[1]].split('/').filter((e) => e.includes('pmx'))) === null || _f === void 0 ? void 0 : _f[0]) === null || _g === void 0 ? void 0 : _g.replace('.pmx', '');\n            const music = (_k = (_j = (_h = actionList[randomActionIndex]) === null || _h === void 0 ? void 0 : _h.music.split('/').filter((e) => /mp3|wav/.test(e))) === null || _j === void 0 ? void 0 : _j[0]) === null || _k === void 0 ? void 0 : _k.replace('.mp3', '').replace('.wav', '');\n            document.getElementById('mikaScreen').setAttribute('class', '');\n            if (document.getElementById('actionInfoModel'))\n                document.getElementById('actionInfoModel').innerHTML = (((_l = window._currentHotDance) === null || _l === void 0 ? void 0 : _l.actor) || [char1, char2, char3].join('')) + '';\n            if (document.getElementById('actionInfoMotion'))\n                document.getElementById('actionInfoMotion').innerHTML = (((_m = window._currentHotDance) === null || _m === void 0 ? void 0 : _m.name) || music) + '';\n            if (document.getElementById('actionInfoMusic'))\n                document.getElementById('actionInfoMusic').innerHTML = (((_o = window._currentHotDance) === null || _o === void 0 ? void 0 : _o.name) || music) + '';\n            if (document.getElementById('actionInfoStage'))\n                document.getElementById('actionInfoStage').innerHTML = '';\n        }\n        catch (err) {\n            console.log(err);\n        }\n        if (window._currentHotDance.name) {\n            let mmdInfo = window._currentHotDance;\n            let loadAction = (url, motionUrl) => {\n                return (index) => new Promise((res, rej) => {\n                    loader.loadWithAnimation(url, motionUrl, (mmd) => {\n                        const { mesh } = mmd;\n                        mesh.castShadow = true;\n                        mesh.receiveShadow = true;\n                        // console.log(mmdInfo.posList[index][0])\n                        mmdInfo.posList && mmd.mesh.position.set(...mmdInfo.posList[index]);\n                        // if(/everybody/.test((actionList as any)[randomActionIndex]?.music)){\n                        // \t// mmd.mesh.position.set(0, -2, 0 )\n                        // }\n                        exports.helper.add(mmd.mesh, {\n                            animation: mmd.animation,\n                        });\n                        scene.getScene().add(mmd.mesh);\n                        res(1);\n                        exports.helper.enable('animation', false);\n                        // helper\n                        const mixer = exports.helper.objects.get(mmd.mesh).mixer;\n                        mixer.addEventListener(\"loop\", (event) => {\n                            setTimeout(() => {\n                                exports.helper.enable('animation', false);\n                                exports.helper.enable('cameraAnimation', false);\n                                this.currentAudio.stop();\n                                window._currentActionFinish = true;\n                                index === 0 && this.afterEndLoop();\n                            }, 500);\n                        });\n                    });\n                });\n            };\n            let pmArr = [];\n            let curAudio = mmdInfo.motion.music;\n            for (var index = 0; index < (mmdInfo.model || []).length; index++) {\n                const curMove = index === 0\n                    ? mmdInfo.motion.move\n                    : index === 1\n                        ? (mmdInfo.motion.moveLeft || mmdInfo.motion.move)\n                        : (mmdInfo.motion.moveRight || mmdInfo.motion.move);\n                pmArr.push(loadAction(mmdInfo.model[index], curMove));\n            }\n            Promise.all([...pmArr.map((p, index) => p(index)), new Promise((res, rej) => {\n                    const listener = new THREE.AudioListener();\n                    curCamera.add(listener);\n                    new THREE.AudioLoader().load(curAudio, (buffer) => {\n                        audio = new THREE.Audio(listener).setBuffer(buffer);\n                        this.currentAudio = audio;\n                        res(1);\n                    }, onProgress, null);\n                })]).then(res => {\n                // load camera\n                loader.loadAnimation(mmdInfo.motion.camera, curCamera, (cameraAnimation) => {\n                    window._animateNeedPause = false;\n                    document.getElementById('mikaScreen').setAttribute('class', 'hide');\n                    exports.helper.enable('animation', true);\n                    // !isPending && helper.add( audio, audioParams );\n                    this.currentAudio.play();\n                    window._currentAudio = this.currentAudio;\n                    //audio\n                    // setTimeout(()=>{\n                    // \t// helper.remove( this.currentAudio )\n                    // },1000)\n                    audio = null;\n                    // loader\n                    loader = null;\n                    // for test\n                    exports.helper.add(curCamera, { animation: cameraAnimation });\n                });\n            });\n            return;\n        }\n        isPending\n            ? Promise.all([\n                new Promise((res, rej) => {\n                    var _a, _b, _c;\n                    loader.loadWithAnimation(\n                    // \"/mod/mika_ver1.1.pmx\", // called when the resource is loaded\n                    // \"/mod/mika_light_ver1.1.pmx\",\n                    // `${mmdCDN + characterList[7]}` ,\n                    // \"/extraUpload/char/yichika/yichika.pmx\",\n                    `${mmdCDN + characterList[new Date().getHours() > 12 ? 0 : 1]}`, \n                    // `http://all.franxxdaryl.site/dist/threeMMD/extraUpload/char/Plana/Plana.pmx` ,\n                    // `http://all.franxxdaryl.site/dist/threeMMD/extraUpload/char/wa2000Gf/wa2000New.pmx` ,\n                    // `/extraUpload/char/keru/keru.pmx` ,\n                    // `http://all.franxxdaryl.site/dist/threeMMD/extraUpload/char/genogemiku/miku.pmx` ,\n                    // `http://all.franxxdaryl.site/dist/threeMMD/extraUpload/char/SPSMikuV3-06HP/MikuV3_06f.pmx` ,\n                    // `http://all.franxxdaryl.site/dist/threeMMD/extraUpload/char/peko/peko1.6.pmx` ,\n                    // `/extraUpload/char/mikuSpringNew/CWL_bone.pmx` ,\n                    // `http://all.franxxdaryl.site/dist/threeMMD/extraUpload/char/dot_type20202/miku.pmx` ,\n                    // `/extraUpload/char/mikanew/_ver1.1_bone.pmx` ,\n                    // `/extraUpload/char/MikuV4/Miku/Miku.pmx` ,\n                    // /extraUpload/char/MikuV4/Miku_V4/Miku_V4.pmx` ,\n                    // `/extraUpload/char/mikuTDA/tda.pmx` ,\n                    // `/extraUpload/char/iniMiku/all.pmx` ,\n                    // `/extraUpload/char/rockmiku/all.pmx` ,\n                    // `/extraUpload/char/racingmiku/miku.pmx` ,\n                    // `/extraUpload/char/dot_supreme/miku.pmx` ,\n                    // `/extraUpload/char/dot_starvoice/miku.pmx` ,\n                    // `/extraUpload/char/dot_type20202/miku.pmx` ,\n                    // `/extraUpload/char/mikucimiv4/mikuv4.pmx` ,\n                    // `/extraUpload/Iori_SetHi_1.02/Iori_Bunny_Hi_ver.pmx` ,\n                    // `/extraUpload/Hasumi_Set_Hi_1.0/Hasumi_BunnyB_Pony_Hi_ver.pmx` ,\n                    // `/characters/aoi/aoi_1.01.pmx` ,\n                    // `/characters/asuna&karin/Asuna_Bunny_Barefoot_1.01.pmx` ,//ok\n                    // `/characters/hasumi/hasumi.pmx` ,//ok\n                    // `/characters/hifumi/hifumi_uni.pmx` ,//okk\n                    // `/characters/Iori/Iori_1.02.pmx` ,//okk\n                    // `/characters/miyako/miyako_swimsuit.pmx` ,//okk\n                    // `/characters/noah/noah_uniform.pmx` ,//okk\n                    // `/characters/yuka/yuka.pmx` ,////okk\n                    // `/characters/zakuchan/zaku_job.pmx` ,////okk\n                    // `/characters/Mika_Bunny_TestModel/Mika_Bunny_Test2.pmx` ,////okk\n                    // `/characters/Ako_Set_Hi_1.0/Ako_BikiniW_Hi_1.0` ,////okk\n                    // `/characters/Iori_SetHi_1.02/Iori_Hi_1.02.pmx` , //okkk\n                    // `/characters/Ako_Bunny_Hi_0.6/Ako_Bunny_Hi_0.6.pmx` , //okkk\n                    // `/characters/Toki_Maid_Hi_0.6/Toki_Maid_Hi_0.6.pmx` , //okkk\n                    // `/characters/Toki_Bunny_Hi_0.9/Toki_Tracksuit_Hi_0.8.pmx` , //okkk\n                    // `/characters/Toki_Set_Hi_1.01/Toki_Tracksuit_Hi_1.0.pmx` , //okkk,\n                    //`/characters/Toki_Set2_1.11/Toki_Bikini_1.1.pmx` , //okkk\n                    // `/characters/Toki_Set2_Hi_1.1/Toki_YukaCos_Hi_1.1.pmx` , //okkk\n                    // `/characters/qianzhi/.pmx` , //okkk\n                    // `/characters/furaka/furaka.pmx` , //okkk\n                    // `/characters/Mari_uni/Mari_Iochi_School_Uniform_v1.0_TwistBone.pmx` , //okkk\n                    // `/characters/mari_school/Mari_Iochi_TwistBone.pmx` , //okkk exist\n                    // `/characters/MMD_Asuna_Miru_ver8/MMD_Asuna_20240108_ver8_Fixed.pmx` , //okkk\n                    // `/characters/leopard/leopardv22.11Nico.pmx` , //okkk special char\n                    // `/characters/AsagiMutsuki/Asagi Mutsuki.pmx`,  \n                    // `/characters/RabbitHoleMiku/miku.pmx`,  //okkk special char\n                    // `/char/koharu_021/koharu_Bunny_Girl_021.pmx`,  //okkk \n                    // `/char/miyako/miyako.pmx`,  //okkk char\n                    // `/char/Momoi/Momoi.pmx`,  //okkk char\n                    // `/char/Midori/Midori.pmx`,  //okkk char\n                    // `/char/Mimori/Mimori.pmx`,  //okkk char\n                    // `/char/YuukaHayase/YuukaHayase.pmx`,  //okkk char\n                    // `/char/UsadaPekora/PMX/UsadaPekora.pmx`,  //okkk char special\n                    // `/char/a_k_o/ako1.pmx`,  //okkk char\n                    // `/char/saori/saori1.pmx`,  //okkk char\n                    // `/char/misaki/misaki.pmx`,  //okkk char\n                    // `/char/sakurako/sakurako.pmx`,  \n                    // `/char/akuya/akuya.pmx`,  //okkk char special\n                    // `/char/v1.3/_v1.3.pmx`,  //okkk char special \n                    // `/char/InugamiKorone/InugamiKorone.pmx`,  //okkk char special\n                    // `/char/KokoroAmamiya/KokoroAmamiya.pmx`,  //okkk char special\n                    // `/char/Miku_V4/Miku_V4/Miku_V4.pmx`,\n                    // `/char/black/1/1.pmx`,\n                    // `/char/peko/_v1.7.2.pmx`,//okkk char special\n                    // `/char/kokkoro_ver1.01/pmx/kokkoro_ver1.01.pmx`,//okkk char special\n                    //`/char/Eli_Conifer_v1.2/v1.2.pmx`,//okkk char special\n                    // `/char/Yuni_v1.0/v1.0.pmx`,//okkk char special\n                    // `/characters/hanako_swim/Hanako_Swimsuit_1.0.pmx` ,//ok\n                    // `/characters/hanako_uni/Hanako2_Uniform_1.0.pmx` ,//ok\n                    // `/characters/hanako_uni/Hanako2_Uniform_Hi_1.0.pmx` ,//ok\n                    Array.isArray((_a = pendingList[pendingOnlyArray[1]]) === null || _a === void 0 ? void 0 : _a.move) ? (_b = pendingList[pendingOnlyArray[1]]) === null || _b === void 0 ? void 0 : _b.move.map(e => `${mmdCDN + e}`) : `${mmdCDN + ((_c = pendingList[pendingOnlyArray[1]]) === null || _c === void 0 ? void 0 : _c.move)}`, \n                    // `${mmdCDN + pendingList[pendingOnlyArray[1]]?.move}`,\n                    // \"/extraUpload/motion/yaoyaole.vmd\",\n                    // \"/extraUpload/motion/shinede/motion.vmd\",\n                    // \"/extraUpload/motion/kawaiinei/motion.vmd\",\n                    // \"/extraUpload/motion/badguy.vmd\",\n                    // \"http://all.franxxdaryl.site/dist/threeMMD/move/-mov.vmd\",\n                    (mmd) => {\n                        // this.currentMmd = mmd;\n                        const { mesh } = mmd;\n                        mesh.castShadow = true;\n                        mesh.receiveShadow = true;\n                        mesh.frustumCulled = false;\n                        // m.depthTest = false;\n                        // m.transparent = true;\n                        try {\n                            exports.helper.add(mmd.mesh, {\n                                animation: mmd.animation,\n                            });\n                            exports.helper.enable('animation', false);\n                            setTimeout(() => {\n                                exports.helper.enable('animation', true);\n                            }, 1000);\n                        }\n                        catch (err) {\n                            console.log(err);\n                        }\n                        //  // helper\n                        //  const mixer = helper.objects.get( mmd.mesh ).mixer;\n                        //  mixer.addEventListener(\"loop\", function(event){\n                        // helper.enable( 'animation', false );\n                        //  });\n                        scene.getScene().add(mmd.mesh);\n                        res(1);\n                    });\n                })\n                // new Promise((res,rej)=>{\n                //  const listener = new THREE.AudioListener();\n                //  curCamera.add( listener );\n                //  \t  new THREE.AudioLoader().load( audioFile,  ( buffer )=> {\n                //  \t\taudio = new THREE.Audio( listener ).setBuffer( buffer );\n                // \tthis.currentAudio = audio;\n                // \tres(1);\n                //  \t\t}, onProgress, null );\n                // }), \n            ]).then(res => {\n                var _a, _b;\n                // load camera\n                loader.loadAnimation(`${mmdCDN + (isPending ? (_a = pendingList[pendingOnlyArray[0]]) === null || _a === void 0 ? void 0 : _a.camera : (_b = actionList[randomActionIndex]) === null || _b === void 0 ? void 0 : _b.camera) || \"/move/hitandrun_cam.vmd\"}`, curCamera, function (cameraAnimation) {\n                    window._animateNeedPause = false;\n                    document.getElementById('mikaScreen').setAttribute('class', 'hide');\n                    // !isPending && helper.add( audio, asudioParams );\n                    exports.helper.add(curCamera, {\n                        animation: cameraAnimation,\n                    });\n                });\n            })\n            : Promise.all([\n                new Promise((res, rej) => {\n                    var _a, _b, _c, _d, _e;\n                    loader.loadWithAnimation(\n                    // \"/mod/mika_ver1.1.pmx\", // called when the resource is loaded\n                    // \"/mod/mika_light_ver1.1.pmx\",\n                    // \"/kisaki/kisaki.pmx\",\n                    // `${mmdCDN + (characterList[new Date().getHours() > 12 ? 0 : 1] || \"/mod/mika_ver1.1.pmx\")}`,\n                    `${((_a = actionList[randomActionIndex]) === null || _a === void 0 ? void 0 : _a.needRugular)\n                        ? `http://all.franxxdaryl.site/dist/threeMMD/extraUpload/char/kokkoro_ver1.01/pmx/kokkoro_ver1.01.pmx`\n                        : ((_b = actionList[randomActionIndex]) === null || _b === void 0 ? void 0 : _b.needMikus)\n                            ? `http://all.franxxdaryl.site/dist/threeMMD/extraUpload/char/SourMiku/White_bone.pmx`\n                            : (mmdCDN + (characterList[randomStudentIndex] || \"/mod/mika_ver1.1.pmx\"))}`, \n                    // `/extraUpload/char/sourmiku/White_bone.pmx` ,\n                    // `http://all.franxxdaryl.site/dist/threeMMD/extraUpload/char/kokkoro_ver1.01/pmx/kokkoro_ver1.01.pmx`,\n                    // `/extraUpload/char/mikuV3/miku.pmx`,\n                    // `/extraUpload/char/bunnymayi/mayi_bunny.pmx`,\n                    Array.isArray((_c = actionList[randomActionIndex]) === null || _c === void 0 ? void 0 : _c.move) ? (_d = actionList[randomActionIndex]) === null || _d === void 0 ? void 0 : _d.move.map(path => (mmdActCDN + path)) : `${(mmdActCDN + (((_e = actionList[randomActionIndex]) === null || _e === void 0 ? void 0 : _e.move) || \"/move/hitandrun_mot.vmd\"))}`, (mmd) => {\n                        var _a;\n                        // this.currentMmd = mmd;\n                        const { mesh } = mmd;\n                        mesh.castShadow = true;\n                        mesh.receiveShadow = true;\n                        mesh.frustumCulled = false;\n                        if (/everybody/.test((_a = actionList[randomActionIndex]) === null || _a === void 0 ? void 0 : _a.music)) {\n                            mmd.mesh.position.set(0, -2, 0);\n                        }\n                        exports.helper.add(mmd.mesh, {\n                            animation: mmd.animation,\n                        });\n                        scene.getScene().add(mmd.mesh);\n                        res(1);\n                        exports.helper.enable('animation', false);\n                        // helper\n                        const mixer = exports.helper.objects.get(mmd.mesh).mixer;\n                        mixer.addEventListener(\"loop\", (event) => {\n                            setTimeout(() => {\n                                exports.helper.enable('animation', false);\n                                exports.helper.enable('cameraAnimation', false);\n                                this.currentAudio.stop();\n                                window._currentActionFinish = true;\n                                this.afterEndLoop();\n                            }, 500);\n                        });\n                    });\n                }),\n                new Promise((res, rej) => {\n                    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n                    // \n                    if (((_a = actionList[randomActionIndex]) === null || _a === void 0 ? void 0 : _a.needRugular) || ((_b = actionList[randomActionIndex]) === null || _b === void 0 ? void 0 : _b.needMikus) || /MKTO-Classic|Unravel|Lovemelikeyoudo|Hyperactive|eden|ONEOFMIND|CatOnTheCeiling/.test((_c = actionList[randomActionIndex]) === null || _c === void 0 ? void 0 : _c.music)) {\n                        res(1);\n                    }\n                    else {\n                        loader.loadWithAnimation(\n                        // \"/mod/mika_ver1.1.pmx\", // called when the resource is loaded\n                        // \"/mod/mika_light_ver1.1.pmx\",\n                        // \"/kisaki/kisaki.pmx\",\n                        `${mmdCDN + (withoutMikaArray[pendingCharaArray[0]] || \"/mod/mika_ver1.1.pmx\")}`, \n                        // `${mmdCDN + ((isPending ? `http://all.franxxdaryl.site/dist/threeMMD${pendingList[pendingOnlyArray[1]]?.move}` : (actionList[randomActionIndex]?.moveLeft || actionList[randomActionIndex]?.move)) || \"/move/hitandrun_mot.vmd\")}`,\n                        Array.isArray((((_d = actionList[randomActionIndex]) === null || _d === void 0 ? void 0 : _d.moveLeft) || ((_e = actionList[randomActionIndex]) === null || _e === void 0 ? void 0 : _e.move))) ? (((_f = actionList[randomActionIndex]) === null || _f === void 0 ? void 0 : _f.moveLeft) || ((_g = actionList[randomActionIndex]) === null || _g === void 0 ? void 0 : _g.move)).map(path => (mmdActCDN + path)) : `${(mmdActCDN + (((((_h = actionList[randomActionIndex]) === null || _h === void 0 ? void 0 : _h.moveLeft) || ((_j = actionList[randomActionIndex]) === null || _j === void 0 ? void 0 : _j.move))) || \"/move/hitandrun_mot.vmd\"))}`, (mmd) => {\n                            var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n                            // this.currentMmd = mmd;\n                            const { mesh } = mmd;\n                            mesh.castShadow = true;\n                            mesh.receiveShadow = true;\n                            mesh.frustumCulled = false;\n                            exports.helper.add(mmd.mesh, {\n                                animation: mmd.animation,\n                            });\n                            if (/|GimmeMore|Magnet/.test((_a = actionList[randomActionIndex]) === null || _a === void 0 ? void 0 : _a.move)) {\n                                if (//.test((_b = actionList[randomActionIndex]) === null || _b === void 0 ? void 0 : _b.move)) {\n                                    mmd.mesh.position.set(0, 0, -10);\n                                }\n                                if (/GimmeMore/.test((_c = actionList[randomActionIndex]) === null || _c === void 0 ? void 0 : _c.move)) {\n                                    mmd.mesh.position.set(1, 1, -5);\n                                }\n                                if (/Magnet/.test((_d = actionList[randomActionIndex]) === null || _d === void 0 ? void 0 : _d.move)) {\n                                    mmd.mesh.position.set(0, 0, 0);\n                                }\n                            }\n                            else if (/BadApple/.test((_e = actionList[randomActionIndex]) === null || _e === void 0 ? void 0 : _e.music)) {\n                                mmd.mesh.position.set(-3, 0, 0);\n                            }\n                            else if (/pockerface/.test((_f = actionList[randomActionIndex]) === null || _f === void 0 ? void 0 : _f.music)) {\n                                mmd.mesh.position.set(0, 0, -4);\n                            }\n                            else if (/everybody/.test((_g = actionList[randomActionIndex]) === null || _g === void 0 ? void 0 : _g.music)) {\n                                mmd.mesh.position.set(0, 1.5, 2);\n                            }\n                            else if (/FREELYTOMORROW|Yuikonnu/.test((_h = actionList[randomActionIndex]) === null || _h === void 0 ? void 0 : _h.music)) {\n                                mmd.mesh.position.set(0, 0, 0);\n                            }\n                            else {\n                                mmd.mesh.position.set((/Hushh_AViVA|GLIDE/.test((_j = actionList[randomActionIndex]) === null || _j === void 0 ? void 0 : _j.move) ? 0 : 15), 0, 0);\n                            }\n                            res(1);\n                            scene.getScene().add(mmd.mesh);\n                            exports.helper.enable('animation', false);\n                            // helper\n                            const mixer = exports.helper.objects.get(mmd.mesh).mixer;\n                            mixer.addEventListener(\"loop\", (event) => {\n                                setTimeout(() => {\n                                    exports.helper.enable('animation', false);\n                                    exports.helper.enable('cameraAnimation', false);\n                                    this.currentAudio.stop();\n                                    window._currentActionFinish = true;\n                                }, 500);\n                            });\n                        });\n                    }\n                }),\n                new Promise((res, rej) => {\n                    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n                    // \n                    if (((_a = actionList[randomActionIndex]) === null || _a === void 0 ? void 0 : _a.needRugular) || ((_b = actionList[randomActionIndex]) === null || _b === void 0 ? void 0 : _b.needMikus) || /|Unravel|Lovemelikeyoudo|CatOnTheCeiling|GimmeMore|MKTO-Classic|Magnet|Dontstopmeme|bonbon|GLIDE|Hyperactive|BadApple|eden|Yuikonnu|ONEOFMIND/.test((_c = actionList[randomActionIndex]) === null || _c === void 0 ? void 0 : _c.music)) {\n                        res(1);\n                    }\n                    else {\n                        loader.loadWithAnimation(\n                        // \"/mod/mika_ver1.1.pmx\", // called when the resource is loaded\n                        // \"/mod/mika_light_ver1.1.pmx\",\n                        // \"/kisaki/kisaki.pmx\",\n                        `${mmdCDN + (withoutMikaArray[pendingCharaArray[1]] || \"/mod/mika_ver1.1.pmx\")}`, \n                        // `${mmdCDN + ((isPending ? pendingList[pendingOnlyArray[2]]?.move : (actionList[randomActionIndex]?.moveRight || actionList[randomActionIndex]?.move)) || \"/move/hitandrun_mot.vmd\")}`,\n                        Array.isArray((((_d = actionList[randomActionIndex]) === null || _d === void 0 ? void 0 : _d.moveRight) || ((_e = actionList[randomActionIndex]) === null || _e === void 0 ? void 0 : _e.move))) ? (((_f = actionList[randomActionIndex]) === null || _f === void 0 ? void 0 : _f.moveRight) || ((_g = actionList[randomActionIndex]) === null || _g === void 0 ? void 0 : _g.move)).map(path => (mmdActCDN + path)) : `${(mmdActCDN + (((((_h = actionList[randomActionIndex]) === null || _h === void 0 ? void 0 : _h.moveRight) || ((_j = actionList[randomActionIndex]) === null || _j === void 0 ? void 0 : _j.move))) || \"/move/hitandrun_mot.vmd\"))}`, (mmd) => {\n                            var _a, _b, _c, _d;\n                            // this.currentMmd = mmd;\n                            const { mesh } = mmd;\n                            mesh.castShadow = true;\n                            mesh.receiveShadow = true;\n                            mesh.frustumCulled = false;\n                            exports.helper.add(mmd.mesh, { animation: mmd.animation });\n                            mmd.mesh.position.set((/Hushh_AViVA/.test((_a = actionList[randomActionIndex]) === null || _a === void 0 ? void 0 : _a.move) ? 0 : -15), 0, 0);\n                            if (/pockerface/.test((_b = actionList[randomActionIndex]) === null || _b === void 0 ? void 0 : _b.music)) {\n                                mmd.mesh.position.set(2, 0, 2);\n                            }\n                            else if (/everybody/.test((_c = actionList[randomActionIndex]) === null || _c === void 0 ? void 0 : _c.music)) {\n                                mmd.mesh.position.set(0, 1.5, 2);\n                            }\n                            else if (/FREELYTOMORROW/.test((_d = actionList[randomActionIndex]) === null || _d === void 0 ? void 0 : _d.music)) {\n                                mmd.mesh.position.set(0, 0, 0);\n                            }\n                            scene.getScene().add(mmd.mesh);\n                            exports.helper.enable('animation', false);\n                            // helper\n                            const mixer = exports.helper.objects.get(mmd.mesh).mixer;\n                            mixer.addEventListener(\"loop\", (event) => {\n                                setTimeout(() => {\n                                    exports.helper.enable('animation', false);\n                                    exports.helper.enable('cameraAnimation', false);\n                                    this.currentAudio.stop();\n                                    window._currentActionFinish = true;\n                                }, 500);\n                            });\n                            res(1);\n                        });\n                    }\n                }),\n                new Promise((res, rej) => {\n                    var _a, _b, _c, _d, _e, _f, _g;\n                    let specialList = [\n                        // '/extraUpload/characters/subculturemiku/Subculture_Miku',\n                        \"/extraUpload/char/EkulyMiku/EkulyMikuHatsune.pmx\",\n                        \"/extraUpload/char/Sour_Breath_You/BreathYou.pmx\",\n                        \"/extraUpload/char/SourMiku/Black.pmx\",\n                        \"/extraUpload/char/SourMiku/White.pmx\",\n                        \"/extraUpload/char/SourSpirng/springMiku.pmx\",\n                        \"/extraUpload/char/MikuIf/miku.pmx\",\n                        \"/extraUpload/char/mikuTDA/tda.pmx\",\n                        \"/extraUpload/char/iniMiku/all.pmx\",\n                        \"/extraUpload/char/rockmiku/all.pmx\",\n                        \"/extraUpload/char/racingmiku/miku.pmx\",\n                        \"/extraUpload/char/dot_supreme/miku.pmx\",\n                        \"/extraUpload/char/dot_starvoice/miku.pmx\",\n                        \"/extraUpload/char/dot_type20202/miku.pmx\"\n                    ];\n                    let randomIndex = Math.round(Math.random() * (specialList.length - 1));\n                    // \n                    if (!/pockerface/.test((_a = actionList[randomActionIndex]) === null || _a === void 0 ? void 0 : _a.music)) {\n                        res(1);\n                    }\n                    else {\n                        loader.loadWithAnimation(\n                        // \"/mod/mika_ver1.1.pmx\", // called when the resource is loaded\n                        // \"/mod/mika_light_ver1.1.pmx\",\n                        // \"/kisaki/kisaki.pmx\",\n                        //  ba\n                        `${mmdCDN + (specialList[randomIndex] || \"/mod/mika_ver1.1.pmx\")}`, \n                        // `${mmdCDN + ((isPending ? pendingList[pendingOnlyArray[2]]?.move : (actionList[randomActionIndex]?.moveRight || actionList[randomActionIndex]?.move)) || \"/move/hitandrun_mot.vmd\")}`,\n                        Array.isArray((((_b = actionList[randomActionIndex]) === null || _b === void 0 ? void 0 : _b.moveSpecial) || ((_c = actionList[randomActionIndex]) === null || _c === void 0 ? void 0 : _c.moveSpecial))) ? (((_d = actionList[randomActionIndex]) === null || _d === void 0 ? void 0 : _d.moveSpecial) || ((_e = actionList[randomActionIndex]) === null || _e === void 0 ? void 0 : _e.move)).map(path => (mmdActCDN + path)) : `${(mmdActCDN + (((((_f = actionList[randomActionIndex]) === null || _f === void 0 ? void 0 : _f.moveSpecial) || ((_g = actionList[randomActionIndex]) === null || _g === void 0 ? void 0 : _g.move))) || \"/move/hitandrun_mot.vmd\"))}`, (mmd) => {\n                            const { mesh } = mmd;\n                            mesh.castShadow = true;\n                            mesh.receiveShadow = true;\n                            exports.helper.add(mmd.mesh, { animation: mmd.animation });\n                            mmd.mesh.position.set(2, 0, 2);\n                            scene.getScene().add(mmd.mesh);\n                            exports.helper.enable('animation', false);\n                            res(1);\n                        });\n                    }\n                }),\n                new Promise((res, rej) => {\n                    const listener = new THREE.AudioListener();\n                    curCamera.add(listener);\n                    new THREE.AudioLoader().load(audioFile, (buffer) => {\n                        audio = new THREE.Audio(listener).setBuffer(buffer);\n                        this.currentAudio = audio;\n                        res(1);\n                    }, onProgress, null);\n                }),\n            ]).then(res => {\n                var _a, _b;\n                // load camera\n                loader.loadAnimation(`${mmdActCDN + ((isPending ? (_a = pendingList[pendingOnlyArray[0]]) === null || _a === void 0 ? void 0 : _a.camera : (_b = actionList[randomActionIndex]) === null || _b === void 0 ? void 0 : _b.camera) || \"/move/hitandrun_cam.vmd\")}`, curCamera, (cameraAnimation) => {\n                    var _a;\n                    window._animateNeedPause = false;\n                    document.getElementById('mikaScreen').setAttribute('class', 'hide');\n                    exports.helper.enable('animation', true);\n                    // threedemomiku5.3\n                    if (/wavefile_v2/.test((_a = actionList[randomActionIndex]) === null || _a === void 0 ? void 0 : _a.move)) {\n                        setTimeout(() => {\n                            // !isPending && helper.add( audio, audioParams );\n                            this.currentAudio.play();\n                            window._currentAudio = this.currentAudio;\n                            //audio\n                            // setTimeout(()=>{\n                            // \thelper.remove( this.currentAudio )\n                            // },1000)\n                            audio = null;\n                            // loader\n                            loader = null;\n                        }, 5300);\n                    }\n                    else {\n                        // !isPending && helper.add( audio, audioParams );\n                        this.currentAudio.play();\n                        window._currentAudio = this.currentAudio;\n                        //audio\n                        // setTimeout(()=>{\n                        // \t// helper.remove( this.currentAudio )\n                        // },1000)\n                        audio = null;\n                        // loader\n                        loader = null;\n                    }\n                    // // for test\n                    //  setTimeout(()=>{\n                    // helper.enable( 'animation', false );\n                    // helper.enable( 'cameraAnimation', false );\n                    // (window as any)._currentActionFinish = true;\n                    //   this.afterEndLoop();\n                    //   this.currentAudio.stop();\n                    //  },3000)\n                    exports.helper.add(curCamera, { animation: cameraAnimation });\n                });\n            });\n    }\n}\nexports.Loader = Loader;\nexports.default = new Loader();\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst THREE = __importStar(require(\"three\"));\nconst camera_1 = __importDefault(require(\"./camera\"));\nconst loader_1 = __importStar(require(\"./loader\"));\nconst renderer_1 = __importDefault(require(\"./renderer\"));\n// import {Scene} from \"./scene\";\nconst sceneMain_1 = require(\"./sceneMain\");\nconst OrbitControls_js_1 = require(\"three/examples/jsm/controls/OrbitControls.js\");\nconst OutlineEffect_js_1 = require(\"three/examples/jsm/effects/OutlineEffect.js\");\nconst axios_1 = __importDefault(require(\"axios\"));\nclass ThreeProject {\n    constructor(needPending, needRerender, performanceEnd, needReload = false) {\n        window._MMDneedReload = needReload;\n        let resData = {};\n        window._currentActionFinish = false;\n        this.performanceEnd = () => __awaiter(this, void 0, void 0, function* () {\n            yield this.reloadAmmo();\n            performanceEnd === null || performanceEnd === void 0 ? void 0 : performanceEnd();\n        });\n        // this.curStats = new Stats();\n        // const currentStatDom = this.curStats.dom;\n        // document.body.appendChild( this.curStats.dom );\n        axios_1.default.request({\n            method: \"GET\",\n            headers: { 'Content-Type': 'application/json;charset=utf-8' },\n            url: \"http://franxxdaryl.site/fileList.json?\" + (new Date().getTime())\n        })\n            .then((response) => {\n            resData = response.data || {};\n        }).catch(err => { console.log(err); }).finally(() => {\n            this.container = document.getElementById(\"mikaStage\");\n            if (!this.container) {\n                return;\n            }\n            this.clock = new THREE.Clock();\n            this.currentScene = new sceneMain_1.Scene(resData.stageList || []);\n            // scene.init(this.container);\n            this.currentScene.init(this.container);\n            camera_1.default.init(this.container);\n            renderer_1.default.init(this.container);\n            needPending && this.pending(resData);\n            needRerender && this.reRender(resData);\n        });\n    }\n    render() {\n        loader_1.default.loadModels(this.currentScene, false, {}, () => { });\n        this.initControls();\n        this.initLight();\n        this.callRenderer();\n    }\n    reloadAmmo() {\n        window.Ammo = null;\n        return new Promise((res, rej) => {\n            const newspw = document.createElement('script');\n            newspw.src = 'http://franxxdaryl.site/dist/ammo-umd.js';\n            document.body.appendChild(newspw);\n            setTimeout(() => {\n                var _a;\n                res('ok');\n                (_a = window === null || window === void 0 ? void 0 : window.Ammo) === null || _a === void 0 ? void 0 : _a.call(window);\n            }, 300);\n            document.body.removeChild(newspw);\n        });\n    }\n    destroy() {\n        var _a, _b;\n        const curDom = document.getElementById(\"mikaStage\") || { innerHTML: '' };\n        (_a = loader_1.default === null || loader_1.default === void 0 ? void 0 : loader_1.default.currentAudio) === null || _a === void 0 ? void 0 : _a.stop();\n        loader_1.default === null || loader_1.default === void 0 ? void 0 : loader_1.default.clearAudio();\n        if (curDom !== null)\n            curDom.innerHTML = '';\n        this.currentScene.destroyScene();\n        this.container = null;\n        this.currentScene = null;\n        this.currentEffect = null;\n        window.cancelAnimationFrame(this.frameId);\n        renderer_1.default.destroy();\n        loader_1.default.refreshHelper();\n        (_b = document.getElementsByClassName('mikatootip')[0]) === null || _b === void 0 ? void 0 : _b.setAttribute('class', 'mikatootip hide');\n        // document.body.removeChild( this.curStats.dom );\n    }\n    pause() {\n    }\n    pending(asyncData) {\n        // (window as any)._animateNeedPause = true;\n        loader_1.default.loadModels(this.currentScene, true, asyncData, () => { });\n        this.initControls();\n        this.initLight();\n        this.currentEffect = new OutlineEffect_js_1.OutlineEffect(renderer_1.default.getRenderer());\n        // \n        setTimeout(() => {\n            var _a;\n            (_a = document.getElementsByClassName('mikatootip')[0]) === null || _a === void 0 ? void 0 : _a.setAttribute('class', 'mikatootip');\n        }, 5000);\n        const pendingStatus = () => {\n            this.frameId = requestAnimationFrame(() => {\n                const time = this.clock.getDelta();\n                if (!window._animateNeedPause) {\n                    loader_1.helper.update(time);\n                    // this.curStats.update();\n                    this.currentEffect.setSize(window.innerWidth, window.innerHeight);\n                    this.currentEffect.render(this.currentScene.getScene(), camera_1.default.getCamera());\n                    // renderer.getRenderer().render(this.currentScene.getScene(), camera.getCamera());\n                }\n                pendingStatus();\n            });\n        };\n        pendingStatus();\n    }\n    initLight() {\n        // const ambientLight = new THREE.AmbientLight(0xffffff);\n        // scene.getScene().add(ambientLight);\n        // this.currentScene.getScene().add(ambientLight);\n    }\n    initControls() {\n        const controls = new OrbitControls_js_1.OrbitControls(camera_1.default.getCamera(), renderer_1.default.getRenderer().domElement);\n        //  OrbitControlscamera  lookAt \n        //   controls.target \n        controls.target = new THREE.Vector3(1.6, 14, -4);\n        // controls.enableZoom = false\n        this.controls = controls;\n    }\n    reRender(asyncData) {\n        loader_1.default.loadModels(this.currentScene, false, asyncData, this.performanceEnd);\n        // loader.recoverLoadedModels(this.currentScene); \n        this.initLight();\n        this.currentEffect = new OutlineEffect_js_1.OutlineEffect(renderer_1.default.getRenderer());\n        this.currentEffect.setSize(window.innerWidth, window.innerHeight);\n        this.callRenderer();\n    }\n    callRenderer() {\n        this.frameId = requestAnimationFrame(() => {\n            if (window._currentActionFinish)\n                return;\n            // this.controls.update();\n            const time = this.clock.getDelta();\n            loader_1.helper.update(time);\n            // renderer.getRenderer().render(scene.getScene(), camera.getCamera());\n            // this.curStats.update();\n            this.currentEffect.render(this.currentScene.getScene(), camera_1.default.getCamera());\n            // renderer.getRenderer().render(this.currentScene.getScene(), camera.getCamera());\n            this.callRenderer();\n        });\n    }\n}\nexports.default = ThreeProject;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rainEffect = void 0;\nconst THREE = __importStar(require(\"three\"));\nconst WebGPURenderer_js_1 = __importDefault(require(\"three/examples/jsm/renderers/webgpu/WebGPURenderer.js\"));\nconst StorageInstancedBufferAttribute_js_1 = __importDefault(require(\"three/examples/jsm/renderers/common/StorageInstancedBufferAttribute.js\"));\nconst Nodes_1 = require(\"three/examples/jsm/nodes/Nodes\");\nconst BufferGeometryUtils = __importStar(require(\"three/examples/jsm/utils/BufferGeometryUtils.js\"));\n// warning gpu\nexports.rainEffect = {\n    rainInstance: null,\n    effect: null,\n    renderer: null,\n    rainroot: null,\n    init: () => __awaiter(void 0, void 0, void 0, function* () {\n        const WebGPURendererCons = yield WebGPURenderer_js_1.default;\n        let renderer = WebGPURendererCons.default ? new WebGPURendererCons.default({ antialias: true }) : new WebGPURendererCons({ antialias: true });\n        let scene = new THREE.Scene();\n        const dirLight = new THREE.DirectionalLight(0xffffff, .5);\n        dirLight.castShadow = true;\n        dirLight.position.set(3, 17, 17);\n        dirLight.castShadow = true;\n        dirLight.shadow.camera.near = 1;\n        dirLight.shadow.camera.far = 50;\n        dirLight.shadow.camera.right = 25;\n        dirLight.shadow.camera.left = -25;\n        dirLight.shadow.camera.top = 25;\n        dirLight.shadow.camera.bottom = -25;\n        dirLight.shadow.mapSize.width = 2048;\n        dirLight.shadow.mapSize.height = 2048;\n        dirLight.shadow.bias = -0.01;\n        scene.add(dirLight);\n        scene.add(new THREE.AmbientLight(0x111111));\n        const { innerWidth, innerHeight } = window;\n        // rotation\n        // _x\n        // : \n        // 0.2515703233662824\n        // _y\n        // : \n        // 0.09437871083420014\n        // _z\n        // : \n        // -0.02421604359596542\n        // x\n        // : \n        // -10.074560181298388\n        // y\n        // : \n        // 14.466112414201636\n        // z\n        // : \n        // 53.40889346998631\n        let camera = new THREE.PerspectiveCamera(90, innerWidth / innerHeight, .1, 1000);\n        camera.position.set(-10.074560181298388, 14.466112414201636, 53.40889346998631);\n        camera.fov = 60;\n        camera.lookAt(0.2515703233662824, 0.09437871083420014, -0.02421604359596542);\n        // const gui = new GUI( { title: 'Intensity' } );\n        // const params = {\n        // \t\t// map: textures[ 'disturb.jpg' ],\n        // \t\tx: camera.position.x,\n        // \t\ty: camera.position.y,\n        // \t\tz: camera.position.z,\n        // \t\tfov: camera.fov,\n        // \t};\n        // gui.add( params, 'x',-1000, 1000 ).onChange(( val )=> {\n        // \tcamera.position.set(val, camera.position.y, camera.position.z);\n        // \t// camera.lookAt( val, camera.position.y, camera.position.z );\n        // } );\n        // gui.add( params, 'y',-1000, 1000 ).onChange(( val )=> {\n        // \tcamera.position.set(camera.position.x, val, camera.position.z);\n        // \t// camera.lookAt( camera.position.x, val, camera.position.z );\n        // } );\n        // gui.add( params, 'z',-1000, 1000 ).onChange(( val )=> {\n        // \tcamera.position.set(camera.position.x, camera.position.y, val);\n        // \t// camera.lookAt( camera.position.x, camera.position.y, val );\n        // } );\n        // gui.add( params, 'fov',-1000, 1000 ).onChange(( val )=> {\n        // \tcamera.fov = val;\n        // } );\n        // gui.add( params, 'lookAtx',-1000, 1000 ).onChange(( val )=> {\n        // \tcamera.lookAt.set(val, camera.lookAt.y, camera.lookAt.z);\n        // } );\n        // gui.add( params, 'lookAty',-1000, 1000 ).onChange(( val )=> {\n        // \tcamera.lookAt.set(camera.lookAt.x, val, camera.lookAt.z);\n        // } );\n        // gui.add( params, 'lookAtz',-1000, 1000 ).onChange(( val )=> {\n        // \tcamera.lookAt.set(camera.lookAt.x, camera.lookAt.y, val);\n        // } );\n        const maxParticleCount = 5000;\n        const instanceCount = maxParticleCount / 2;\n        let monkey = null;\n        // if ( WebGPU.isAvailable() === false && WebGL.isWebGL2Available() === false ) {\n        // \t\tdocument.body.appendChild( WebGPU.getErrorMessage() );\n        // \t\tthrow new Error( 'No WebGPU or WebGL2 support' );\n        // }\n        let collisionPosRT = new THREE.RenderTarget(1024, 1024);\n        collisionPosRT.texture.type = THREE.HalfFloatType;\n        let collisionPosMaterial = new Nodes_1.MeshBasicNodeMaterial();\n        collisionPosMaterial.colorNode = Nodes_1.positionWorld;\n        const createBuffer = (type = 'vec3') => (0, Nodes_1.storage)(new StorageInstancedBufferAttribute_js_1.default(maxParticleCount, 3), type, maxParticleCount);\n        const positionBuffer = createBuffer();\n        const velocityBuffer = createBuffer();\n        const ripplePositionBuffer = createBuffer();\n        const rippleTimeBuffer = createBuffer();\n        const timer = (0, Nodes_1.timerLocal)();\n        const randUint = () => (0, Nodes_1.uint)(Math.random() * 0xFFFFFF);\n        const computeInit = (0, Nodes_1.tslFn)(() => {\n            const position = positionBuffer.element(Nodes_1.instanceIndex);\n            const velocity = velocityBuffer.element(Nodes_1.instanceIndex);\n            const rippleTime = rippleTimeBuffer.element(Nodes_1.instanceIndex);\n            const randX = Nodes_1.instanceIndex.hash();\n            const randY = Nodes_1.instanceIndex.add(randUint()).hash();\n            const randZ = Nodes_1.instanceIndex.add(randUint()).hash();\n            position.x = randX.mul(100).add(-50);\n            position.y = randY.mul(25);\n            position.z = randZ.mul(100).add(-50);\n            velocity.y = randX.mul(-.04).add(-.2);\n            rippleTime.x = 1000;\n        })().compute(maxParticleCount);\n        const computeUpdate = (0, Nodes_1.tslFn)(() => {\n            const getCoord = (pos) => pos.add(50).div(100);\n            const position = positionBuffer.element(Nodes_1.instanceIndex);\n            const velocity = velocityBuffer.element(Nodes_1.instanceIndex);\n            const ripplePosition = ripplePositionBuffer.element(Nodes_1.instanceIndex);\n            const rippleTime = rippleTimeBuffer.element(Nodes_1.instanceIndex);\n            position.addAssign(velocity);\n            rippleTime.x = rippleTime.x.add((0, Nodes_1.timerDelta)().mul(4));\n            //\n            const collisionArea = (0, Nodes_1.texture)(collisionPosRT.texture, getCoord(position.xz));\n            const surfaceOffset = .05;\n            const floorPosition = collisionArea.y.add(surfaceOffset);\n            // floor\n            const ripplePivotOffsetY = -.9;\n            (0, Nodes_1.If)(position.y.add(ripplePivotOffsetY).lessThan(floorPosition), () => {\n                position.y = 25;\n                ripplePosition.xz = position.xz;\n                ripplePosition.y = floorPosition;\n                // reset hit time: x = time\n                rippleTime.x = 1;\n                // next drops will not fall in the same place\n                position.x = Nodes_1.instanceIndex.add(timer).hash().mul(100).add(-50);\n                position.z = Nodes_1.instanceIndex.add(timer.add(randUint())).hash().mul(100).add(-50);\n            });\n            const rippleOnSurface = (0, Nodes_1.texture)(collisionPosRT.texture, getCoord(ripplePosition.xz));\n            const rippleFloorArea = rippleOnSurface.y.add(surfaceOffset);\n            (0, Nodes_1.If)(ripplePosition.y.greaterThan(rippleFloorArea), () => {\n                rippleTime.x = 1000;\n            });\n        });\n        let computeParticles = computeUpdate().compute(maxParticleCount);\n        // rain\n        const billboarding = (0, Nodes_1.tslFn)(() => {\n            const particlePosition = positionBuffer.toAttribute();\n            const worldMatrix = Nodes_1.modelWorldMatrix.toVar();\n            worldMatrix[3][0] = particlePosition.x;\n            worldMatrix[3][1] = particlePosition.y;\n            worldMatrix[3][2] = particlePosition.z;\n            const modelViewMatrix = Nodes_1.cameraViewMatrix.mul(worldMatrix);\n            modelViewMatrix[0][0] = 1;\n            modelViewMatrix[0][1] = 0;\n            modelViewMatrix[0][2] = 0;\n            //modelViewMatrix[ 0 ][ 0 ] = modelWorldMatrix[ 0 ].length();\n            //modelViewMatrix[ 1 ][ 1 ] = modelWorldMatrix[ 1 ].length();\n            modelViewMatrix[2][0] = 0;\n            modelViewMatrix[2][1] = 0;\n            modelViewMatrix[2][2] = 1;\n            return Nodes_1.cameraProjectionMatrix.mul(modelViewMatrix).mul(Nodes_1.positionGeometry);\n        });\n        const rainMaterial = new Nodes_1.MeshBasicNodeMaterial();\n        rainMaterial.colorNode = (0, Nodes_1.uv)().distance((0, Nodes_1.vec2)(.5, 0)).oneMinus().mul(3).exp().mul(.1);\n        rainMaterial.vertexNode = billboarding();\n        rainMaterial.opacity = .2;\n        rainMaterial.side = THREE.DoubleSide;\n        rainMaterial.forceSinglePass = true;\n        rainMaterial.depthWrite = false;\n        rainMaterial.depthTest = true;\n        rainMaterial.transparent = true;\n        const rainParticles = new THREE.Mesh(new THREE.PlaneGeometry(.1, 2), rainMaterial);\n        rainParticles.isInstancedMesh = true;\n        rainParticles.count = instanceCount;\n        scene.add(rainParticles);\n        // ripple\n        const rippleTime = rippleTimeBuffer.element(Nodes_1.instanceIndex).x;\n        const rippleEffect = (0, Nodes_1.tslFn)(() => {\n            const center = (0, Nodes_1.uv)().add((0, Nodes_1.vec2)(-.5)).length().mul(7);\n            const distance = rippleTime.sub(center);\n            return distance.min(1).sub(distance.max(1).sub(1));\n        });\n        const rippleMaterial = new Nodes_1.MeshBasicNodeMaterial();\n        rippleMaterial.colorNode = rippleEffect();\n        rippleMaterial.positionNode = Nodes_1.positionGeometry.add(ripplePositionBuffer.toAttribute());\n        rippleMaterial.opacityNode = rippleTime.mul(.3).oneMinus().max(0).mul(.5);\n        rippleMaterial.side = THREE.DoubleSide;\n        rippleMaterial.forceSinglePass = true;\n        rippleMaterial.depthWrite = false;\n        rippleMaterial.depthTest = true;\n        rippleMaterial.transparent = true;\n        // ripple geometry\n        const surfaceRippleGeometry = new THREE.PlaneGeometry(2.5, 2.5);\n        surfaceRippleGeometry.rotateX(-Math.PI / 2);\n        const xRippleGeometry = new THREE.PlaneGeometry(1, 2);\n        xRippleGeometry.rotateY(-Math.PI / 2);\n        const zRippleGeometry = new THREE.PlaneGeometry(1, 2);\n        const rippleGeometry = BufferGeometryUtils.mergeGeometries([surfaceRippleGeometry, xRippleGeometry, zRippleGeometry]);\n        const rippleParticles = new THREE.Mesh(rippleGeometry, rippleMaterial);\n        rippleParticles.isInstancedMesh = true;\n        rippleParticles.count = instanceCount;\n        // \n        // scene.add( rippleParticles );\n        let clock = new THREE.Clock();\n        renderer.setPixelRatio(window.devicePixelRatio);\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        renderer.setAnimationLoop(animate);\n        const rainroot = document.getElementById('rainroot');\n        rainroot.appendChild(renderer.domElement);\n        // document.body.appendChild( rainroot );\n        exports.rainEffect.rainroot = rainroot;\n        // let stats = new Stats();\n        // document.body.appendChild( stats.dom );\n        renderer.compute(computeInit);\n        function animate() {\n            // stats.update();\n            const delta = clock.getDelta();\n            if (monkey) {\n                monkey.rotation.y += delta;\n            }\n            // position\n            scene.overrideMaterial = collisionPosMaterial;\n            renderer.setRenderTarget(collisionPosRT);\n            // renderer.render( scene, collisionCamera );\n            // compute\n            renderer.compute(computeParticles);\n            // result\n            scene.overrideMaterial = null;\n            renderer.setRenderTarget(null);\n            renderer.render(scene, camera);\n            exports.rainEffect.renderer = renderer;\n        }\n    }),\n    destroy() {\n        exports.rainEffect.renderer.clear();\n        exports.rainEffect.renderer = null;\n        // document.body.removeChild(rainEffect.rainroot)\n        document.getElementById('rainroot').innerHTML = '';\n        exports.rainEffect.rainroot = null;\n    }\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Renderer = void 0;\nconst THREE = __importStar(require(\"three\"));\nclass Renderer {\n    init(container) {\n        const { clientHeight, clientWidth } = container;\n        let renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true, powerPreference: 'high-performance', preserveDrawingBuffer: true, premultipliedAlpha: false });\n        renderer.setSize(clientWidth, clientHeight);\n        renderer.setClearColor(new THREE.Color(0x000000));\n        container.appendChild(renderer.domElement);\n        renderer.shadowMap.enabled = true;\n        renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n        // effect = new THREE.OutlineEffect(renderer);\n        // renderer.toneMapping = THREE.ACESFilmicToneMapping;\n        // renderer.toneMapping = THREE.ACESFilmicToneMapping;\n        renderer.toneMappingExposure = 0.6;\n        // renderer.toneMapping = THREE.ReinhardToneMapping;\n        renderer.outputEncoding = THREE.sRGBEncoding;\n        this._renderer = renderer;\n        renderer = null;\n    }\n    destroy() {\n        this._renderer.dispose();\n        this._renderer = null;\n    }\n    getRenderer() {\n        return this._renderer;\n    }\n}\nexports.Renderer = Renderer;\nexports.default = new Renderer();\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Scene = void 0;\n//  scene\nconst THREE = __importStar(require(\"three\"));\n// import { MMDLoader } from \"three/examples/jsm/loaders/MMDLoader.js\";\n// import { MMDLoader } from \"./extra/mmdExtLoader.js\";\nconst filelists_1 = require(\"./filelists\");\nconst renderer_1 = __importDefault(require(\"./renderer\"));\nconst Sky_js_1 = require(\"three/examples/jsm/objects/Sky.js\");\nconst light_1 = __importDefault(require(\"./light\"));\nconst rainEffect_1 = require(\"./rainEffect\");\nconst mmdExtLoader_js_1 = require(\"./extra/mmdExtLoader.js\");\nconst mmdCDN = 'http://all.franxxdaryl.site/dist/threeMMD';\n// const randomStageIndex = stageList.length-1;\nvar mmdObj = {};\nlet stage = null;\nconst API = {\n    lightProbeIntensity: 1.0,\n    directionalLightIntensity: 0.6,\n    envMapIntensity: 1\n};\nclass Scene {\n    destroyScene() {\n        // mesh\n        this.scene.children.forEach((mesh) => {\n            var _a, _b, _c, _d;\n            (_b = (_a = mesh === null || mesh === void 0 ? void 0 : mesh.geometry) === null || _a === void 0 ? void 0 : _a.dispose) === null || _b === void 0 ? void 0 : _b.call(_a);\n            (_d = (_c = mesh === null || mesh === void 0 ? void 0 : mesh.skeleton) === null || _c === void 0 ? void 0 : _c.dispose) === null || _d === void 0 ? void 0 : _d.call(_c);\n        });\n        this.scene = null;\n        window.cancelAnimationFrame(this.stageLightFrame);\n        window.clearInterval(this.stageLightTimeOut);\n        this.stageScene = null;\n        this.currentEffect = null;\n        this.stageLightFrame = null;\n        this.currentSpotLight = null;\n        this.currentSpotLightHelper = null;\n        this.stageLightTimeOut = null;\n        rainEffect_1.rainEffect.rainroot && rainEffect_1.rainEffect.destroy();\n        mmdExtLoader_js_1.worker.removeEventListener(\"message\", this.getMMDWWMessage);\n    }\n    constructor(asyncStages = []) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n        // webworkderpmx buffer\n        this.getMMDWWMessage = (workerMessage) => {\n            let sceneObj = workerMessage.data.sceneObj || [];\n            if (workerMessage.data.command === 'stageObjGet') {\n                try {\n                    let loader = new mmdExtLoader_js_1.MMDLoader();\n                    for (var i = 0; i < stage.length; i++) {\n                        sceneObj && ((num) => {\n                            try {\n                                loader.parseBuffer(sceneObj, (storedMmd) => {\n                                    this.scene.add(storedMmd);\n                                });\n                            }\n                            catch (err) {\n                                console.log(err);\n                            }\n                        })(i);\n                    }\n                    loader = null;\n                }\n                catch (err) {\n                }\n            }\n        };\n        let stageList = [...(asyncStages || []), ...filelists_1.stageList];\n        const randomStageIndex = Math.round(Math.random() * (stageList.length - 1));\n        mmdExtLoader_js_1.worker.addEventListener(\"message\", this.getMMDWWMessage);\n        if (!stage) {\n            stage = ((_a = window._currentHotDance) === null || _a === void 0 ? void 0 : _a.stage) || stageList[randomStageIndex];\n            for (var i = 0; i < stage.length; i++) {\n                mmdObj[`mmd_${i}`] = null;\n            }\n        }\n        else if ((_b = window._currentHotDance) === null || _b === void 0 ? void 0 : _b.stage) {\n            // stage\n            for (var i = 0; i < stage.length; i++) {\n                mmdObj[`mmd_${i}`] = null;\n            }\n            stage = (_c = window._currentHotDance) === null || _c === void 0 ? void 0 : _c.stage;\n            // stage\n            for (var i = 0; i < stage.length; i++) {\n                mmdObj[`mmd_${i}`] = null;\n            }\n        }\n        this.scene = new THREE.Scene();\n        this.scene.background = new THREE.Color('#AAAAAA');\n        // this.stageScene = new THREE.Scene();\n        // this.stageScene.background = new THREE.Color( '#AAAAAA' );\n        // var planeGeometry = new THREE.PlaneGeometry(150,150);\n        // var planeMaterial = new THREE.MeshLambertMaterial();\n        // let plane = new THREE.Mesh(planeGeometry, planeMaterial);\n        // plane.rotation.x = -0.5 * Math.PI;\n        // plane.position.y = 0;\n        // plane.receiveShadow = true;\n        // // plane.castShadow = true\n        // this.scene.add(plane);\n        const ambient = new THREE.AmbientLight(0xaaaaaa, 4);\n        const ambientLight = new THREE.AmbientLight(0xffffff);\n        this.scene.add(ambientLight);\n        this.scene.add(ambient);\n        // const directionalLight = new THREE.DirectionalLight( 0xffffff, 0.34 );\n        const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);\n        directionalLight.shadowMapHeight = 500;\n        directionalLight.shadowMapWidth = 500;\n        // directionalLight.position.set( - 21, 10, 1 ).normalize();\n        directionalLight.position.set(50, 20, -3);\n        directionalLight.castShadow = true;\n        directionalLight.shadow.camera.near = 0.01;\n        directionalLight.shadow.camera.far = 500;\n        directionalLight.shadow.camera.right = 30;\n        directionalLight.shadow.camera.left = -30;\n        directionalLight.shadow.camera.top = 30;\n        directionalLight.shadow.camera.bottom = -30;\n        directionalLight.shadow.mapSize.width = 500;\n        directionalLight.shadow.mapSize.height = 500;\n        directionalLight.shadow.radius = 4;\n        directionalLight.shadow.bias = -0.00006;\n        this.scene.add(directionalLight);\n        const getSkyLoad = () => {\n            var _a;\n            const effectController = {\n                turbidity: 10,\n                rayleigh: 3,\n                mieCoefficient: 0.005,\n                mieDirectionalG: 0.7,\n                elevation: 2,\n                azimuth: 180,\n                exposure: (_a = renderer_1.default.getRenderer()) === null || _a === void 0 ? void 0 : _a.toneMappingExposure\n            };\n            const sky = new Sky_js_1.Sky();\n            sky.scale.setScalar(10000);\n            this.scene.add(sky);\n            const sun = new THREE.Vector3();\n            const uniforms = sky.material.uniforms;\n            let phi = THREE.MathUtils.degToRad(90 - effectController.elevation);\n            let theta = THREE.MathUtils.degToRad(effectController.azimuth);\n            let exposure = effectController.exposure;\n            //  19\n            if (new Date().getHours() > 18) {\n                uniforms['turbidity'].value = 0;\n                uniforms['rayleigh'].value = 0.116;\n                uniforms['mieCoefficient'].value = 0;\n                uniforms['mieDirectionalG'].value = 0;\n                exposure = 0.3608;\n                phi = THREE.MathUtils.degToRad(90 - 0);\n                theta = THREE.MathUtils.degToRad(-180);\n            }\n            else {\n                uniforms['turbidity'].value = Math.random() * 10;\n                uniforms['rayleigh'].value = Math.random() * 2;\n                uniforms['mieCoefficient'].value = effectController.mieCoefficient;\n                uniforms['mieDirectionalG'].value = effectController.mieDirectionalG;\n            }\n            sun.setFromSphericalCoords(1, phi, theta);\n            uniforms['sunPosition'].value.copy(sun);\n            // renderer.getRenderer().toneMappingExposure = exposure;\n            // renderer.getRenderer().render(this.scene, camera.getCamera());\n        };\n        // getSkyLoad()\n        setTimeout(() => {\n            getSkyLoad();\n        }, 500);\n        // const gui = new GUI( { title: 'Intensity' } );\n        // gui.add( API, 'directionalLightIntensity', 0, 1, 0.02 )\n        // \t.name( 'directional light' )\n        // \t.onChange(()=> {\n        // \t\tdirectionalLight.intensity = API.directionalLightIntensity; \n        // \t\trenderer.getRenderer().render(this.scene, camera.getCamera());\n        // \t} );\n        let loader = new mmdExtLoader_js_1.MMDLoader();\n        // setTimeout(()=>{\n        // \tconst loader = new (window as any).GLTFLoader()\n        // \tloader.load('/DamagedHelmet.gltf',\n        // \t  gltf => {\n        // \t    this.scene.add(gltf.scene) // \n        // \t  } \n        // \t)\n        // },3000)\n        // pointer.x = ( event.clientX / window.innerWidth ) * 2 - 1;\n        // pointer.y = - ( event.clientY / window.innerHeight ) * 2 + 1;\n        for (var i = 0; i < stage.length; i++) {\n            mmdObj[`mmd_${i}`] && (() => {\n                // this.scene.add(mmdObj[`mmd_${i}`]);\n                mmdExtLoader_js_1.worker.postMessage({\n                    command: \"stageObjGet\",\n                    filterStr: mmdObj[`mmd_${i}`]\n                });\n            })();\n            !mmdObj[`mmd_${i}`] && ((num) => {\n                var _a;\n                loader.load((mmdCDN + ((_a = stage[i]) === null || _a === void 0 ? void 0 : _a[0])), (mmd) => {\n                    var _a;\n                    // star.color = new THREE.Color(colors[Math.floor(Math.random() * colors.length)])\n                    //      .convertSRGBToLinear()\n                    //      .multiplyScalar(1.3)\n                    let colors = ['#fcaa67', '#C75D59', '#ffffc7', '#8CC5C6', '#A5898C'];\n                    // const ambientLight = new THREE.AmbientLight( 0x323232, 32 );\n                    mmd.material.forEach((m) => {\n                        m.alphaToCoverage = true;\n                        // m.color.convertSRGBToLinear(); //  sRGB \n                        // m.color.offsetHSL(0, 0.2, 0);\n                        // m.vertexShader = document.getElementById( 'vertexshader2' ).textContent;\n                        // m.fragmentShader = document.getElementById( 'fragmentshader2' ).textContent;\n                        // m.blending = THREE.AdditiveBlending;\n                        // m.depthTest = false;\n                        // m.transparent = true;\n                        // m.vertexColors = true;\n                        // m.color = new THREE.Color(colors[Math.floor(Math.random() * colors.length)]).convertSRGBToLinear().multiplyScalar(1.3)\n                    });\n                    mmd.position.set(0, -0.5, 0);\n                    this.scene.add(mmd);\n                    mmd.receiveShadow = true;\n                    //mmd url\n                    mmdObj[`mmd_${num}`] = (mmdCDN + ((_a = stage[num]) === null || _a === void 0 ? void 0 : _a[0]));\n                    mmd = null;\n                });\n            })(i);\n        }\n        ;\n        rainEffect_1.rainEffect.rainroot && rainEffect_1.rainEffect.destroy();\n        window._currentHotDance.name && window._currentHotDance.needRain && rainEffect_1.rainEffect.init();\n        (!window._currentHotDance.name && Math.round(Math.random() * (1))) && rainEffect_1.rainEffect.init();\n        // setTimeout(()=>{\n        // \trainEffect.destroy();\n        // },20000)\n        const matFloor = new THREE.MeshPhongMaterial({ color: 0x808080 });\n        // const matBox = new THREE.MeshPhongMaterial( { color: 0xaaaaaa } );\n        const geoFloor = new THREE.PlaneGeometry(200, 200);\n        // const geoBox = new THREE.BoxGeometry( 0.3, 0.1, 0.2 );\n        const mshFloor = new THREE.Mesh(geoFloor, matFloor);\n        mshFloor.rotation.x = -Math.PI * 0.5;\n        // const mshBox = new THREE.Mesh( geoBox, matBox );\n        // const ambient = new THREE.AmbientLight( 0x444444 );\n        const stageName = (_d = stage === null || stage === void 0 ? void 0 : stage[0]) === null || _d === void 0 ? void 0 : _d[0];\n        // console.log(lightData[stageName], randomStageIndex, stageName)\n        // lightData\n        const curLightData = light_1.default[stageName] || {}; //lightData['default'];default\n        this.currentSpotLight = new THREE.SpotLight(curLightData.color && parseInt(`0x${curLightData.color}`) || 0xffffff, curLightData.intensity || 14);\n        this.currentSpotLight.castShadow = true;\n        this.currentSpotLight.angle = (_e = curLightData.angle) !== null && _e !== void 0 ? _e : 0.9;\n        this.currentSpotLight.penumbra = (_f = curLightData.penumbra) !== null && _f !== void 0 ? _f : 1;\n        this.currentSpotLight.decay = (_g = curLightData.decay) !== null && _g !== void 0 ? _g : 0.5;\n        this.currentSpotLight.distance = (_h = curLightData.distance) !== null && _h !== void 0 ? _h : 167;\n        this.currentSpotLight.position.set((_j = curLightData.x) !== null && _j !== void 0 ? _j : 0, (_k = curLightData.y) !== null && _k !== void 0 ? _k : 144, (_l = curLightData.z) !== null && _l !== void 0 ? _l : 4.5);\n        this.currentSpotLight.shadow.focus = (_m = curLightData.focus) !== null && _m !== void 0 ? _m : 1;\n        const params = {\n            // map: textures[ 'disturb.jpg' ],\n            x: this.currentSpotLight.position.x,\n            y: this.currentSpotLight.position.y,\n            z: this.currentSpotLight.position.z,\n            color: this.currentSpotLight.color.getHex(),\n            intensity: this.currentSpotLight.intensity,\n            distance: this.currentSpotLight.distance,\n            angle: this.currentSpotLight.angle,\n            penumbra: this.currentSpotLight.penumbra,\n            decay: this.currentSpotLight.decay,\n            focus: this.currentSpotLight.shadow.focus,\n            exposure: 0.6,\n            shadows: true\n        };\n        const getCurrentSpotLightPageConfig = () => {\n            window._spotLightConfig = {\n                x: this.currentSpotLight.position.x,\n                y: this.currentSpotLight.position.y,\n                z: this.currentSpotLight.position.z,\n                color: this.currentSpotLight.color.getHexString(),\n                intensity: this.currentSpotLight.intensity,\n                distance: this.currentSpotLight.distance,\n                angle: this.currentSpotLight.angle,\n                penumbra: this.currentSpotLight.penumbra,\n                decay: this.currentSpotLight.decay,\n                focus: this.currentSpotLight.shadow.focus,\n            };\n        };\n        // gui.add( params, 'x',-1000, 1000 ).onChange(( val )=> {\n        // \tthis.currentSpotLight.position.set(val, this.currentSpotLight.position.y, this.currentSpotLight.position.z);\n        // \tgetCurrentSpotLightPageConfig();\n        // } );\n        // gui.add( params, 'y',-1000, 1000 ).onChange(( val )=> {\n        // \tthis.currentSpotLight.position.set(this.currentSpotLight.position.x, val, this.currentSpotLight.position.z);\n        // \tgetCurrentSpotLightPageConfig();\n        // } );\n        // gui.add( params, 'z',-1000, 1000 ).onChange(( val )=> {\n        // \tthis.currentSpotLight.position.set(this.currentSpotLight.position.x, this.currentSpotLight.position.y, val);\n        // \tgetCurrentSpotLightPageConfig();\n        // } );\n        // gui.addColor( params, 'color' ).onChange(( val )=> {\n        // \tthis.currentSpotLight.color.setHex( val );\n        // \tgetCurrentSpotLightPageConfig();\n        // } );\n        // gui.add( params, 'intensity', 0, 5000 ).onChange(( val )=> {\n        // \tthis.currentSpotLight.intensity = val;\n        // \tgetCurrentSpotLightPageConfig();\n        // } );\n        // gui.add( params, 'distance', 0, 2520 ).onChange(( val )=> {\n        // \tthis.currentSpotLight.distance = val;\n        // \tgetCurrentSpotLightPageConfig();\n        // } );\n        // gui.add( params, 'angle', -2 * Math.PI, 2 * Math.PI ).onChange(( val )=> {\n        // \tthis.currentSpotLight.angle = val;\n        // \tgetCurrentSpotLightPageConfig();\n        // } );\n        // gui.add( params, 'penumbra', 0, 1 ).onChange(( val )=> {\n        // \tthis.currentSpotLight.penumbra = val;\n        // \tgetCurrentSpotLightPageConfig();\n        // } );\n        // gui.add( params, 'decay', -1, 2 ).onChange(( val )=> {\n        // \tthis.currentSpotLight.decay = val;\n        // \tgetCurrentSpotLightPageConfig();\n        // } );\n        // gui.add( params, 'focus', 0, 1 ).onChange(( val )=> {\n        // \tthis.currentSpotLight.shadow.focus = val;\n        // \tgetCurrentSpotLightPageConfig();\n        // } );\n        // gui.add( params, 'exposure', 0.1, 2 ).onChange(( val )=> {\n        // \trenderer.getRenderer().toneMappingExposure = Math.pow( val, 4.0 );\n        // } );\n        // gui.open();\n        let lightHelper1, lightHelper2, lightHelper3;\n        this.currentSpotLightHelper = new THREE.SpotLightHelper(this.currentSpotLight);\n        mshFloor.receiveShadow = true;\n        mshFloor.position.set(0, -0.05, 0);\n        // mshBox.castShadow = true;\n        // mshBox.receiveShadow = true;\n        // mshBox.position.set( 0, 0.5, 0 );\n        // this.scene.add( mshFloor );\n        // this.scene.add( mshBox );\n        // this.scene.add( ambient );\n        light_1.default[stageName] &&\n            this.scene.add(this.currentSpotLight);\n        // this.scene.add( this.currentSpotLightHelper);\n        // function tween( light ) {\n        // \t\tif(!light) return\n        // \t\tlet t1 = new TWEEN.Tween( light ).to( {\n        // \t\t\tangle: ( Math.random() * 0.7 ) + 0.1,\n        // \t\t\tpenumbra: Math.random() + 1\n        // \t\t}, Math.random() * 0 + 64 )\n        // \t\t\t.easing( TWEEN.Easing.Quadratic.InOut ).start();\n        // \t\tlet t2 = new TWEEN.Tween( light.position ).to( {\n        // \t\t\tx: ( Math.random() * 100 ) - 100,\n        // \t\t\ty: 144,\n        // \t\t\tz: 4.5\n        // \t\t}, Math.random() * 3000 + 2000 )\n        // \t\t\t.easing( TWEEN.Easing.Quadratic.InOut ).start();\n        // \t\tt1 = null;\n        // \t\tt2 = null;\n        // \t}\n        // \tconst animate = () => {\n        // \t\tthis.stageLightTimeOut = setInterval(()=>{\n        // \t\t\ttween( this.currentSpotLight );\n        // \t\t},5000)\n        // \t}\n        const BLOOM_LAYER = 1;\n        const bloomLayer = new THREE.Layers();\n        bloomLayer.set(BLOOM_LAYER);\n        const materials = {};\n        const darkMaterials = {};\n        const darkMaterial = new THREE.MeshBasicMaterial({ color: \"black\" });\n        const darkenNonBloomed = (obj) => {\n            if (obj.isMesh && bloomLayer.test(obj.layers) === false) {\n                materials[obj.uuid] = obj.material;\n                obj.material = darkMaterial;\n            }\n        };\n        const darkenNonBloomed2 = (obj) => {\n            const material = obj.material;\n            if (material && bloomLayer.test(obj.layers) === false) {\n                materials[obj.uuid] = material;\n                if (!darkMaterials[material.type]) {\n                    const Proto = Object.getPrototypeOf(material).constructor;\n                    darkMaterials[material.type] = new Proto({ color: 0x000000 });\n                }\n                obj.material = darkMaterials[material.type];\n            }\n        };\n        const restoreMaterial = (obj) => {\n            if (materials[obj.uuid]) {\n                obj.material = materials[obj.uuid];\n                delete materials[obj.uuid];\n            }\n        };\n        const render = () => {\n            // TWEEN.update();\n            if (this.currentSpotLightHelper)\n                this.currentSpotLightHelper.update();\n            // this.scene.traverse(darkenNonBloomed);\n            // this.scene.traverse(restoreMaterial);\n            // this.currentComposer.render();\n            // this.currentEffect.setSize(window.innerWidth, window.innerHeight);\n            // this.currentEffect.render(this.scene, camera.getCamera());\n            // this.stageLightFrame = requestAnimationFrame( render );\n        };\n        // setTimeout(()=>{\n        // this.currentEffect = new OutlineEffect(renderer.getRenderer());\n        // console.log(renderer.getRenderer())\n        // const vs = `\n        // varying vec2 vUv;\n        // void main() {\n        //   vUv = uv;\n        //   gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        // }\n        // `;\n        // const fs = `\n        // uniform sampler2D baseTexture;\n        // uniform sampler2D bloomTexture;\n        // varying vec2 vUv;\n        // void main() {\n        //   gl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n        // }\n        // `;\n        // let composer = new EffectComposer( renderer.getRenderer() );\n        // const shaderPass = new ShaderPass(\n        //   new THREE.ShaderMaterial({\n        // \tuniforms: {\n        // \t\tbaseTexture: { value: null },\n        // \t\tbloomTexture: { value: composer.renderTarget2.texture },\n        // \t},\n        // \tvertexShader: vs,\n        // \t\tfragmentShader: fs,\n        // \tdefines: {},\n        //   }),\n        //   'baseTexture',\n        // );\n        // const renderPass = new RenderPass(this.scene, camera.getCamera());\n        // composer.addPass( renderPass );\n        // // const outlinePass = new OutlinePass( new THREE.Vector2( window.innerWidth, window.innerHeight ), this.currentScene.getScene(), camera.getCamera() );\n        // // composer.addPass( outlinePass );\n        // const params2 = {\n        // \tthreshold: 0,\n        // \tstrength: 1,\n        // \tradius: 0,\n        // };\n        // const bloomPass = new UnrealBloomPass( new THREE.Vector2( window.innerWidth, window.innerHeight ), 1.5, 0.4, 0.85 );\n        // bloomPass.threshold = params2.threshold;\n        // bloomPass.strength =  params2.strength;\n        // bloomPass.radius = params2.radius;\n        // composer.addPass( bloomPass );\n        //  // Pass\n        // shaderPass.needsSwap = true;\n        // composer.addPass(shaderPass);\n        // const outputPass = new OutputPass();\n        // composer.addPass( outputPass )\n        // this.currentComposer = composer;\n        // const bloomFolder = gui.addFolder( 'bloom' );\n        // bloomFolder.add( params2, 'threshold', 0.0, 1.0 ).onChange( function ( value ) {\n        // \tbloomPass.threshold = Number( value );\n        // } );\n        // bloomFolder.add( params2, 'strength', 0.0, 3.0 ).onChange( function ( value ) {\n        // \tbloomPass.strength = Number( value );\n        // } );\n        // gui.add( params2, 'radius', 0.0, 1.0 ).step( 0.01 ).onChange( function ( value ) {\n        // \tbloomPass.radius = Number( value );\n        // } );\n        // render()\n        // },500)\n        // const hemiLightHelper = new THREE.HemisphereLightHelper( hemiLight, 10 );\n        // this.scene.add( hemiLightHelper );\n        // let effect = new OutlineEffect(renderer.getRenderer());\n        // effect.setSize(window.innerWidth, window.innerHeight);\n        // effect.render(this.scene, camera.getCamera());\n        // loader,effect \n        loader = null;\n        // effect = null;\n        // new RGBELoader().load(\"/spruit_sunrise_4k.hdr\", (texture)=>{\n        // \tconsole.log('???',texture)\n        //       texture.mapping = THREE.EquirectangularReflectionMapping;\n        //       this.scene.background = texture;\n        //       this.scene.environment = texture;\n        // })\n        // this.scene.add( new THREE.PolarGridHelper( 30, 0 ) );\n        // mmd1 && this.scene.add(mmd1);\n        // mmd2 && this.scene.add(mmd2);\n        // mmd3 && this.scene.add(mmd3);\n        // mmd4 && this.scene.add(mmd4);\n        // (window as any).loadOk = 0;\n        //   !mmd1 && loader.load(\n        // \t// \"/stage/.pmx\",\n        // \t// \"/stage2/.pmx\",\n        // \t// \"/stage3/.pmx\",\n        // \t\"/stage4/.pmx\",\n        // \t// \"/stage5/.pmx\",\n        // \t (mmd)=> {\n        // \t  this.scene.add(mmd);\n        // \t  mmd1 = mmd;\n        // \t  console.log('1111==');\n        // \t  (window as any).loadOk ++\n        // \t}\n        //   );\n        // !mmd2 && loader.load(\n        // \t\t\"/stage/.pmx\",\n        // // \"/stage4/.pmx\",\n        // \t\t (mmd)=> {\n        // \t\t  this.scene.add(mmd);\n        //   mmd2 = mmd;\n        //   console.log('1111==');\n        //   (window as any).loadOk++\n        // \t\t}\n        // );\n        // !mmd3 && loader.load(\n        // \t\t\"/stage/.pmx\",\n        // // \"/stage4/3.pmx\",\n        // \t\t (mmd)=> {\n        // \t\t  this.scene.add(mmd);\n        //   mmd3 = mmd;\n        //   console.log('1111==');\n        //   (window as any).loadOk++\n        // \t\t}\n        // );\n        // !mmd4 && loader.load(\n        // \t\t\"/stage/.pmx\",\n        // // \"/stage4/2.pmx\",\n        // \t\t (mmd)=> {\n        // \t\t  this.scene.add(mmd);\n        //   mmd4 = mmd;\n        //   console.log('1111==');\n        //   (window as any).loadOk++\n        // \t\t}\n        // );\n        // loader.load(\n        // \t\t// \"/stage/.pmx\",\n        // \t\t\t\"/stage4/.pmx\",\n        // \t\t (mmd)=> {\n        // \t\t  this.scene.add(mmd);\n        // \t\t\t  console.log('1111==');\n        // \t\t\t  (window as any).loadOk++\n        // \t\t}\n        // );\n        // const textures = getTexturesFromAtlasFile( 'sun_temple_stripe.jpg', 6 );\n        // // const textures = getTexturesFromAtlasFile( 'galaxy_sphere.jpg', 6 );\n        // const materials = [];\n        // for ( let i = 0; i < 6; i ++ ) {\n        // \tmaterials.push( new THREE.MeshBasicMaterial( { map: textures[ i ] } ) );\n        // }\n        // const skyBox = new THREE.Mesh( new THREE.BoxGeometry( 100, 100, 100 ), materials );\n        // skyBox.geometry.scale( 1, 1, -1 );\n        // this.scene.add( skyBox );\n        // skyBox.position.set( 0, 50, 0 );\n        // this.scene.background = skyBox\n        // this.scene.environment = skyBox\n        // var groundTexture = new THREE.TextureLoader().load( 'sun_temple_stripe.jpg' );\n        // \t\t\tgroundTexture.wrapS = groundTexture.wrapT = THREE.RepeatWrapping;\n        // \t\t\tgroundTexture.repeat.set( 25, 25 );\n        // \t\t\tgroundTexture.anisotropy = 16;\n        // \t\t\tgroundTexture.encoding = THREE.sRGBEncoding;\n        // \t\t\tvar gt = new THREE.TextureLoader().load( \"/grasslight-big.jpg\" );\n        // \t\t\tvar gg = new THREE.PlaneGeometry( 2000, 2000 );\n        // \t\t\tvar gm = new THREE.MeshPhongMaterial( { color: 0xffffff, map: gt } );\n        // \t\t\tvar ground = new THREE.Mesh( gg, gm );\n        // \t\t\tground.rotation.x = - Math.PI / 2;\n        // \t\t\tground.material.map.repeat.set( 8, 8 );\n        // \t\t\tground.material.map.wrapS = ground.material.map.wrapT = THREE.RepeatWrapping;\n        // \t\t\tground.material.map.encoding = THREE.sRGBEncoding;\n        // \t\t\tground.receiveShadow = true;\n        // var mesh = new THREE.Mesh( new THREE.BoxGeometry( 20000, 20000 ), groundMaterial );\n        // mesh.position.y = - 250;\n        // mesh.rotation.x = - Math.PI / 2;\n        // mesh.receiveShadow = true;\n        // this.scene.add( mesh );\n        function getTexturesFromAtlasFile(atlasImgUrl, tilesNum) {\n            const textures = [];\n            for (let i = 0; i < tilesNum; i++) {\n                textures[i] = new THREE.Texture();\n            }\n            new THREE.ImageLoader()\n                .load(atlasImgUrl, (image) => {\n                let canvas, context;\n                const tileWidth = image.height;\n                for (let i = 0; i < textures.length; i++) {\n                    canvas = document.createElement('canvas');\n                    context = canvas.getContext('2d');\n                    canvas.height = tileWidth;\n                    canvas.width = tileWidth;\n                    context.drawImage(image, tileWidth * i, 0, tileWidth, tileWidth, 0, 0, tileWidth, tileWidth);\n                    textures[i].colorSpace = THREE.SRGBColorSpace;\n                    textures[i].image = canvas;\n                    textures[i].needsUpdate = true;\n                }\n            });\n            return textures;\n        }\n    }\n    getScene() {\n        return this.scene;\n    }\n    getStageScene() {\n        return this.stageScene;\n    }\n    init(container) { }\n}\nexports.Scene = Scene;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.push([module.id, \"@import url(https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap);\"]);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `@font-face{font-family:\"Neon Glow\";src:url(http://all.franxxdaryl.site/dist/NeonGlow-8VLz.ttf)}.mikaRoot.hide{display:none;transition:all .3s}#mikaStage{position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);width:1200px;height:800px;background:radial-gradient(circle, #d6e0f9, #fbe2f0);box-shadow:-20px 0 0px -18px rgba(0,128,0,0),0 -3px 1px 0px rgba(30,27,27,.031372549),0 10px 4px -11px #aea8a8,0px 0 6px -1px rgba(255,255,0,0);z-index:3;border-radius:50%/10%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s}#mikaStage canvas{position:absolute;z-index:3;width:90% !important;height:82% !important;border-radius:25px;background-color:rgba(0,0,0,.47);box-shadow:0px 0px 16px rgba(0,0,0,.6);border:1px solid rgba(16,2,2,0)}#mikaButton{position:absolute;z-index:4;left:50%;top:50%;transform:translate(555px, -50%);width:80px;cursor:pointer}#mikaButton img{width:100%;border-radius:50px;animation:just3;animation-duration:3s;animation-iteration-count:infinite;animation-timing-function:linear}@keyframes just3{0%{border:5px solid rgba(0,0,255,0);box-shadow:0 0 0 rgba(0,0,255,0),0 0 0 rgba(0,0,255,0) inset}50%{border:5px solid #d6e0f9;box-shadow:0 0 120px rgba(214,224,249,.7),0 0 45px rgba(214,224,249,.5) inset}100%{border:5px solid rgba(0,0,255,0);box-shadow:0 0 0 rgba(0,0,255,0),0 0 0 rgba(0,0,255,0) inset}}#mikaButton.pending:hover img{transform:rotate(0deg);border:5px solid rgba(255,255,255,0);animation:none}#mikaButton.playing img{animation:rotater;animation-duration:3s;animation-iteration-count:infinite;animation-timing-function:linear}#mikaRing{position:absolute;top:-219px;left:50%;text-align:center;width:auto;z-index:3;font-size:32px;font-family:\"Poppins\",sans-serif;width:220px;rotate:21deg;cursor:pointer;top:-32px;left:calc(50% + 465px);animation:ringShine 3s ease-in-out infinite !important}#mikaRing:hover{transition:all .3s;filter:grayscale(0.5)}@keyframes ringShine{0%{scale:.9}50%{scale:1}100%{scale:.9}}#mikaStageShell{position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);width:1303px;height:664px;background:radial-gradient(circle, #d6e0f9, #fbe2f0);background-size:contain;background-repeat:repeat-x;box-shadow:3px -2px 10px 0px rgba(255,254,254,.2),-3px 0px 4px 1px rgba(255,255,255,.1882352941);border-radius:5%/50%;z-index:1;display:flex}#mikaLogo{position:absolute;top:50%;left:50%;text-align:center;width:1020px;transform:translate(-50%, 342px);z-index:3;font-size:32px;font-family:\"Poppins\",sans-serif;color:#e9f7ff;font-weight:600;text-shadow:0 0 20px rgba(255,168,204,.7098039216)}#mikaScreen{width:1080px;height:656px;position:absolute;left:50%;top:50%;z-index:3;transform:translate(-50%, -50%);transition:all .3s;border-radius:25px;cursor:pointer;display:flex;justify-content:center;align-items:center}#mikaScreen span{transition:all .5s;animation:animate 2s ease-in-out infinite;animation-delay:calc(.1s*var(--i));display:inline-block;font-size:48px;font-family:\"Poppins\",sans-serif;color:#fbe2f0}#mikaScreen.hide{display:none}.mikaRoot.inShow #mikaStage,.mikaRoot.inShow #mikaRing,.mikaRoot.inShow #mikaStageShell,.mikaRoot.inShow #mikaLogo,.mikaRoot.inShow #mikaScreen{-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-name:bounceInTV;animation-name:bounceInTV}.mikaRoot.inHide #mikaStage,.mikaRoot.inHide #mikaRing,.mikaRoot.inHide #mikaStageShell,.mikaRoot.inHide #mikaLogo,.mikaRoot.inHide #mikaScreen{-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-name:bounceOutTV;animation-name:bounceOutTV}.actionInfo{position:absolute;bottom:20px;right:0px;font-size:20px;color:#fff;display:flex;align-items:center;justify-content:flex-start;flex-direction:column;width:600px;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-name:bounceInTV;animation-name:bounceInTV}.actionInfo div{width:100%;text-align:left;padding:5px 0px;display:flex;align-items:center}.actionInfo .actionContent{display:flex;justify-content:flex-start}.actionInfo .actionContent div{height:32px !important}.actionInfo .actionTitle{font-size:24px;font-weight:600;color:#fbe2f0;display:flex;justify-content:center}.actionInfo .actionTopic{display:inline-block;color:#fbe2f0;width:120px;line-height:32px !important}@keyframes shine{100%{left:125%}}@keyframes textanimate{0%{color:#fbe2f0;transform:translateY(0px);margin-left:0}25%{color:#fff;transform:translateY(-1em);margin-left:.2em;text-shadow:0 30px 5px #000}100%{color:rgba(255,255,255,.1);transform:translateY(0px);margin-left:0}}@keyframes rotater{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes animate{0%,40%,100%{transform:translateY(0)}20%{transform:translateY(-50px)}}@keyframes bounceInTV{0%{opacity:0}100%{opacity:1}}@keyframes bounceOutTV{0%{opacity:1}100%{opacity:0}}@keyframes fadeOutBottomLeft{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(-100%, 100%, 0);transform:translate3d(-100%, 100%, 0)}}#rainroot canvas{display:block;width:1080px !important;height:656px !important;top:50%;position:absolute;left:50%;transform:translate(-50%, -50%);z-index:123}.mikaSwiss{position:absolute;width:20px;height:20px;left:50%;bottom:14px;background:rgba(255,255,255,0);background-image:url(http://all.franxxdaryl.site/dist/swiss.png);background-size:42px 42px;background-repeat:no-repeat;background-position-x:-1px;background-position-y:0px;transform:translateX(74px);filter:blur(0.7px)}.breakTitle{font-size:24px;color:#fff}#breakScreen{width:1080px;height:656px;position:absolute;left:50%;top:50%;z-index:144;transform:translate(-50%, -50%);transition:all .3s;border-radius:25px;cursor:pointer;position:absolute;background:rgba(86,83,83,.6784313725);display:flex;align-items:center;flex-direction:column;justify-content:center}.breakStep{font-size:22px;color:#fff;margin:20px 0}.breakContent{display:flex;justify-content:space-between;width:160px;color:#fff;margin-top:20px}.breakContent div{display:flex;flex-direction:column;align-items:flex-start;justify-content:center}.breakContent img{width:22px}.breakContent div:first-child img{padding-top:6px}.breakContent div:last-child img{padding-left:4px;transform:rotate(120deg)}.breakContent div:hover{transition:all .3s;transform:scale(1.2)}.breakContent .breakItem{height:60px}.mikatootip{opacity:1;position:absolute;z-index:231;background:#fbe2f0;padding:20px;border-radius:20px;font-size:18px;color:#fff;width:200px;right:108px;top:4px;animation:heartShine 2s ease-in-out infinite}.mikatootip img.arrow{position:absolute;right:-19px;top:18px;animation:none !important;width:30px !important;transform:none !important;border:0px solid rgba(255,255,255,0) !important;opacity:.28}.mikatootip:after{position:absolute;top:34px;right:-20px;content:\"\";width:0;height:0;border-right:10px solid #fbe2f0;border-bottom:10px solid rgba(0,0,0,0);border-left:10px solid rgba(0,0,0,0);border-top:10px solid rgba(0,0,0,0);transform:rotate(180deg)}.mikatootip.hide{transition:all .3s;opacity:0}@keyframes heartShine{0%{scale:.8}50%{scale:1;transform:translateX(14px)}100%{scale:.8}}.topList{position:absolute;display:flex;flex-direction:column;justify-content:flex-start;align-content:center;color:#fff;height:200px;background:#fbe2f0;border-radius:20px;padding:10px;width:600px;bottom:16px;left:50%;transform:translate(-50%, 8px)}.topList .topTitle{text-align:center;margin-bottom:10px;font-size:24px;font-weight:600;height:28px}.topList div{width:100%;position:relative}.topList span{transition:all .3s;text-align:left;position:absolute;width:100%;left:0px;top:0px;font-size:18px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.topList span:hover{transition:all .3s;transform:scale(1.05)}.topList .topContent{display:flex;flex-direction:column;flex:1;overflow-y:auto;overflow-x:hidden;padding:0 10px;width:auto}.topList .topContent div{height:34px;display:flex;align-items:center;justify-content:center;margin:8px 0;padding:8px 0}.topList .topContent::-webkit-scrollbar{width:0;height:0}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/mikaTV.scss\"],\"names\":[],\"mappings\":\"AAKA,WACE,uBAAA,CACA,2DAAA,CAEF,eACC,YAAA,CACA,kBAAA,CAED,WACC,iBAAA,CACA,QAAA,CACA,OAAA,CACA,+BAAA,CACA,YAAA,CACA,YAAA,CAEA,oDAAA,CACA,+IAAA,CACA,SAAA,CACA,qBAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,cAAA,CAWA,kBAAA,CAVA,kBACC,iBAAA,CACA,SAAA,CACA,oBAAA,CACA,qBAAA,CACA,kBAAA,CACA,gCAAA,CACA,sCAAA,CACA,+BAAA,CAIF,YACC,iBAAA,CACA,SAAA,CACA,QAAA,CACA,OAAA,CACA,gCAAA,CACA,UAAA,CACA,cAAA,CAED,gBACC,UAAA,CACA,kBAAA,CACA,eAAA,CACA,qBAAA,CACA,kCAAA,CACA,gCAAA,CAGD,iBACE,GACE,gCAAA,CACF,4DAAA,CAED,IACG,wBAAA,CACA,6EAAA,CAEF,KACE,gCAAA,CACA,4DAAA,CAAA,CAGJ,8BACC,sBAAA,CACA,oCAAA,CACA,cAAA,CAED,wBACC,iBAAA,CACA,qBAAA,CACA,kCAAA,CACA,gCAAA,CAED,UACI,iBAAA,CACA,UAAA,CACA,QAAA,CACA,iBAAA,CACA,UAAA,CACA,SAAA,CACA,cAAA,CACA,gCAAA,CACA,WAAA,CACA,YAAA,CACH,cAAA,CACA,SAAA,CACA,sBAAA,CACA,sDAAA,CAED,gBACC,kBAAA,CACA,qBAAA,CAED,qBACC,GACE,QAAA,CAEF,IACC,OAAA,CAED,KACC,QAAA,CAAA,CAGF,gBACC,iBAAA,CACA,QAAA,CACA,OAAA,CACA,+BAAA,CACG,YAAA,CACA,YAAA,CAEH,oDAAA,CACA,uBAAA,CACA,0BAAA,CACA,gGAAA,CACA,oBAAA,CACA,SAAA,CACA,YAAA,CAED,UACC,iBAAA,CACA,OAAA,CACA,QAAA,CACA,iBAAA,CACA,YAAA,CACA,gCAAA,CACA,SAAA,CACA,cAAA,CACA,gCAAA,CACA,aAAA,CACA,eAAA,CACA,kDAAA,CAEA,YACC,YAAA,CACA,YAAA,CACA,iBAAA,CACA,QAAA,CACA,OAAA,CACA,SAAA,CACA,+BAAA,CACA,kBAAA,CACA,kBAAA,CACA,cAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA,CAED,iBACE,kBAAA,CAGA,yCAAA,CACA,kCAAA,CACA,oBAAA,CACA,cAAA,CACA,gCAAA,CACA,aAAA,CAEF,iBACC,YAAA,CAIA,gJACC,8BAAA,CACA,sBAAA,CACA,iCAAA,CACA,yBAAA,CAKF,gJACC,8BAAA,CACA,sBAAA,CACA,kCAAA,CACA,0BAAA,CAGF,YACC,iBAAA,CACG,WAAA,CACH,SAAA,CACG,cAAA,CACA,UAAA,CACA,YAAA,CACA,kBAAA,CACA,0BAAA,CACH,qBAAA,CACA,WAAA,CACA,8BAAA,CACA,sBAAA,CACA,iCAAA,CACA,yBAAA,CACA,gBACC,UAAA,CACA,eAAA,CACA,eAAA,CACA,YAAA,CACA,kBAAA,CAED,2BACC,YAAA,CACA,0BAAA,CACA,+BACC,sBAAA,CAGF,yBACC,cAAA,CACA,eAAA,CACA,aAAA,CACA,YAAA,CACA,sBAAA,CAED,yBACC,oBAAA,CACA,aAAA,CACA,WAAA,CACA,2BAAA,CAGD,iBACC,KACC,SAAA,CAAA,CAGD,uBACE,GACE,aAAA,CACA,yBAAA,CACA,aAAA,CAEF,IACE,UAAA,CACA,0BAAA,CACA,gBAAA,CACA,2BAAA,CAEF,KACE,0BAAA,CACA,yBAAA,CACA,aAAA,CAAA,CAGJ,mBACE,GACE,sBAAA,CAGL,KACC,wBAAA,CAAA,CAGA,mBACE,YACE,uBAAA,CAEF,IACE,2BAAA,CAAA,CAIJ,sBACC,GACI,SAAA,CAEJ,KACG,SAAA,CAAA,CAGJ,uBACG,GACI,SAAA,CAEJ,KACG,SAAA,CAAA,CAIR,6BACI,GACI,SAAA,CACA,+BAAA,CACA,uBAAA,CAGJ,GACI,SAAA,CACA,6CAAA,CACA,qCAAA,CAAA,CAGR,iBACC,aAAA,CACA,uBAAA,CACA,uBAAA,CACA,OAAA,CACA,iBAAA,CACA,QAAA,CACA,+BAAA,CACA,WAAA,CAED,WACC,iBAAA,CACA,UAAA,CACA,WAAA,CACA,QAAA,CACA,WAAA,CACA,8BAAA,CACA,gEAAA,CACA,yBAAA,CACA,2BAAA,CACA,0BAAA,CACA,yBAAA,CACA,0BAAA,CACA,kBAAA,CAED,YACC,cAAA,CACA,UAAA,CAED,aACC,YAAA,CACA,YAAA,CACA,iBAAA,CACA,QAAA,CACA,OAAA,CACA,WAAA,CACA,+BAAA,CACA,kBAAA,CACA,kBAAA,CACA,cAAA,CACA,iBAAA,CACA,qCAAA,CACA,YAAA,CACA,kBAAA,CACA,qBAAA,CACA,sBAAA,CAED,WACC,cAAA,CACA,UAAA,CACA,aAAA,CAED,cACC,YAAA,CACA,6BAAA,CACA,WAAA,CACA,UAAA,CACA,eAAA,CACA,kBACC,YAAA,CACA,qBAAA,CACA,sBAAA,CACA,sBAAA,CAED,kBACC,UAAA,CAGA,kCACC,eAAA,CAID,iCACC,gBAAA,CACA,wBAAA,CAGF,wBACC,kBAAA,CACA,oBAAA,CAED,yBACC,WAAA,CAGF,YACC,SAAA,CACA,iBAAA,CACA,WAAA,CACA,kBAAA,CACA,YAAA,CACA,kBAAA,CACA,cAAA,CACA,UAAA,CACA,WAAA,CACA,WAAA,CACA,OAAA,CAWA,4CAAA,CAVA,sBACE,iBAAA,CACA,WAAA,CACA,QAAA,CACA,yBAAA,CACA,qBAAA,CACA,yBAAA,CACA,+CAAA,CACA,WAAA,CAIH,kBACI,iBAAA,CACA,QAAA,CACA,WAAA,CACA,UAAA,CACA,OAAA,CACA,QAAA,CACA,+BAAA,CACA,sCAAA,CACA,oCAAA,CACA,mCAAA,CACA,wBAAA,CAEJ,iBACC,kBAAA,CACA,SAAA,CAED,sBACA,GACE,QAAA,CAEF,IACC,OAAA,CACA,0BAAA,CAED,KACC,QAAA,CAAA,CAGD,SACC,iBAAA,CACA,YAAA,CACA,qBAAA,CACA,0BAAA,CACA,oBAAA,CACA,UAAA,CACA,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,YAAA,CACA,WAAA,CACA,WAAA,CACA,QAAA,CACA,8BAAA,CACA,mBACC,iBAAA,CACA,kBAAA,CACA,cAAA,CACA,eAAA,CACA,WAAA,CAED,aACC,UAAA,CACA,iBAAA,CAED,cACC,kBAAA,CACA,eAAA,CACA,iBAAA,CACA,UAAA,CACA,QAAA,CACA,OAAA,CACA,cAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CAED,oBACC,kBAAA,CACA,qBAAA,CAED,qBACC,YAAA,CACA,qBAAA,CACA,MAAA,CACA,eAAA,CACA,iBAAA,CACA,cAAA,CACA,UAAA,CACA,yBACC,WAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,YAAA,CACA,aAAA,CAGF,wCACE,OAAA,CACA,QAAA\",\"sourcesContent\":[\"@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap');\\r\\n\\r\\n$violet: violet;\\n$blue: #0ff;\\r\\n\\r\\n@font-face {\\n  font-family: 'Neon Glow';\\n  src: url(http://all.franxxdaryl.site/dist/NeonGlow-8VLz.ttf);\\n}\\r\\n.mikaRoot.hide{\\r\\n\\tdisplay: none;\\r\\n\\ttransition: all .3s;\\r\\n}\\r\\n#mikaStage{\\r\\n\\tposition:absolute;\\r\\n\\tleft:50%;\\r\\n\\ttop:50%;\\r\\n\\ttransform:translate(-50%,-50%);\\r\\n\\twidth:1200px;\\r\\n\\theight:800px;\\r\\n\\t// background:#d6e0f9;\\r\\n\\tbackground: radial-gradient(circle, #d6e0f9, #fbe2f0);\\r\\n\\tbox-shadow: -20px 0 0px -18px #00800000, 0 -3px 1px 0px #1e1b1b08, 0 10px 4px -11px #aea8a8, 0px 0 6px -1px #ffff0000;\\r\\n\\tz-index:3;\\r\\n\\tborder-radius: 50% / 10%;\\r\\n\\tdisplay:flex;\\r\\n\\talign-items:center;\\r\\n\\tjustify-content:center;\\r\\n\\tcursor:pointer;\\r\\n\\tcanvas{\\r\\n\\t\\tposition: absolute;\\r\\n\\t\\tz-index: 3;\\r\\n\\t\\twidth:90%!important;\\r\\n\\t\\theight:82%!important;\\r\\n\\t\\tborder-radius:25px;\\r\\n\\t\\tbackground-color: rgb(0 0 0 / 47%);\\n\\t\\tbox-shadow: 0px 0px 16px rgba(0, 0, 0, 0.6);\\n\\t\\tborder: 1px solid #10020200;\\r\\n\\t}\\r\\n\\ttransition: all .3s;\\r\\n}\\r\\n#mikaButton{\\r\\n\\tposition: absolute;\\r\\n\\tz-index: 4;\\r\\n\\tleft: 50%;\\r\\n\\ttop: 50%;\\r\\n\\ttransform: translate(555px, -50%);\\r\\n\\twidth: 80px;\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n#mikaButton img{\\r\\n\\twidth: 100%;\\r\\n\\tborder-radius: 50px;\\r\\n\\tanimation: just3;\\r\\n\\tanimation-duration: 3s;\\r\\n\\tanimation-iteration-count: infinite;\\r\\n\\tanimation-timing-function: linear ;\\r\\n}\\r\\n\\n@keyframes just3{\\n  0%{\\n    border: 5px solid rgba(0,0,255,0);\\n\\t\\tbox-shadow: 0 0 0 rgba(0,0,255,0),0 0 0 rgba(0,0,255,0) inset;\\n  }\\n\\t50%{\\n    border: 5px solid rgb(214 224 249);\\n    box-shadow: 0 0 120px rgb(214 224 249 / 70%), 0 0 45px rgb(214 224 249 / 50%) inset;\\n  }\\r\\n  100%{\\r\\n    border: 5px solid rgba(0,0,255,0);\\r\\n  \\t\\tbox-shadow: 0 0 0 rgba(0,0,255,0),0 0 0 rgba(0,0,255,0) inset;\\r\\n  }\\n}\\r\\n#mikaButton.pending:hover img{\\r\\n\\ttransform: rotate(0deg);\\r\\n\\tborder: 5px solid #fff0;\\r\\n\\tanimation:none;\\r\\n}\\r\\n#mikaButton.playing img{\\r\\n\\tanimation: rotater;\\r\\n\\tanimation-duration: 3s;\\r\\n\\tanimation-iteration-count: infinite;\\r\\n\\tanimation-timing-function: linear ;\\r\\n}\\r\\n#mikaRing{\\r\\n    position: absolute;\\n    top: -219px;\\n    left: 50%;\\n    text-align: center;\\n    width: auto;\\n    z-index: 3;\\n    font-size: 32px;\\n    font-family: \\\"Poppins\\\", sans-serif;\\n    width: 220px;\\n    rotate: 21deg;\\r\\n\\tcursor: pointer;\\r\\n\\ttop: -32px;\\r\\n\\tleft: calc(50% + 465px);\\r\\n\\tanimation: ringShine 3s ease-in-out infinite!important;\\r\\n}\\n#mikaRing:hover{\\r\\n\\ttransition: all .3s;\\r\\n\\tfilter:grayscale(0.5)\\r\\n}\\n@keyframes ringShine {\\n\\t0%{\\r\\n\\t  scale: .9;\\r\\n\\t}\\r\\n\\t50%{\\r\\n\\t scale: 1;\\r\\n\\t}\\r\\n\\t100%{\\r\\n\\t scale: .9;\\r\\n\\t}\\n}\\r\\n#mikaStageShell{\\r\\n\\tposition: absolute;\\r\\n\\tleft:50%;\\r\\n\\ttop:50%;\\r\\n\\ttransform:translate(-50%,-50%);\\r\\n    width: 1303px;\\n    height: 664px;\\r\\n\\t// background: #d6e0f9;\\r\\n\\tbackground: radial-gradient(circle, #d6e0f9, #fbe2f0);\\r\\n\\tbackground-size: contain;\\r\\n\\tbackground-repeat: repeat-x;\\r\\n\\tbox-shadow: 3px -2px 10px 0px #fffefe33, -3px 0px 4px 1px #ffffff30;\\r\\n\\tborder-radius: 5% / 50%;\\r\\n\\tz-index:1;\\r\\n\\tdisplay:flex;\\r\\n}\\n#mikaLogo{\\r\\n\\tposition: absolute;\\r\\n\\ttop: 50%;\\r\\n\\tleft: 50%;\\r\\n\\ttext-align:center;\\r\\n\\twidth: 1020px;\\r\\n\\ttransform:translate(-50%,342px);\\r\\n\\tz-index:3;\\r\\n\\tfont-size: 32px;\\r\\n\\tfont-family: 'Poppins', sans-serif; \\r\\n\\tcolor: #e9f7ff;\\r\\n\\tfont-weight: 600;\\r\\n\\ttext-shadow: 0 0 20px #ffa8ccb5;\\r\\n}\\r\\n #mikaScreen{\\r\\n\\t width: 1080px;\\r\\n\\t height: 656px;\\r\\n\\t position: absolute;\\r\\n\\t left:50%;\\r\\n\\t top:50%;\\r\\n\\t z-index:3;\\r\\n\\t transform:translate(-50%,-50%);\\r\\n\\t transition: all .3s;\\r\\n\\t border-radius:25px;\\r\\n\\t cursor:pointer;\\r\\n\\t display:flex;\\r\\n\\t justify-content: center;\\r\\n\\t align-items: center;\\r\\n }\\r\\n #mikaScreen span{\\r\\n   transition: all 0.5s;\\r\\n   // animation: textanimate 2s infinite;\\r\\n   // animation-delay: calc(var(--i) * 0.1s);\\r\\n   animation: animate 2s ease-in-out infinite;\\r\\n   animation-delay: calc(0.1s * var(--i)); \\r\\n   display: inline-block;\\r\\n   font-size: 48px;\\r\\n   font-family: 'Poppins', sans-serif; \\r\\n   color: rgb(251, 226, 240);\\r\\n } \\r\\n #mikaScreen.hide{\\r\\n\\t display:none;\\r\\n }\\r\\n \\r\\n .mikaRoot.inShow{\\r\\n \\t#mikaStage,#mikaRing,#mikaStageShell,#mikaLogo,#mikaScreen{\\r\\n \\t\\t-webkit-animation-duration: .5s;\\r\\n \\t\\tanimation-duration: .5s;\\r\\n \\t\\t-webkit-animation-name: bounceInTV;\\r\\n \\t\\tanimation-name: bounceInTV;\\r\\n \\t}\\r\\n }\\r\\n \\r\\n .mikaRoot.inHide{\\r\\n\\t#mikaStage,#mikaRing,#mikaStageShell,#mikaLogo,#mikaScreen{\\r\\n\\t\\t-webkit-animation-duration: .5s;\\r\\n\\t\\tanimation-duration: .5s;\\r\\n\\t\\t-webkit-animation-name: bounceOutTV;\\r\\n\\t\\tanimation-name: bounceOutTV;\\r\\n\\t}\\r\\n }\\r\\n.actionInfo{\\r\\n\\tposition: absolute;\\n    bottom: 20px;\\r\\n\\tright:0px;\\n    font-size: 20px;\\n    color: #fff;\\n    display: flex;\\n    align-items: center;\\n    justify-content: flex-start;\\r\\n\\tflex-direction: column;\\r\\n\\twidth: 600px;\\r\\n\\t-webkit-animation-duration: .5s;\\r\\n\\tanimation-duration: .5s;\\r\\n\\t-webkit-animation-name: bounceInTV;\\r\\n\\tanimation-name: bounceInTV;\\r\\n\\tdiv{\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\ttext-align: left;\\r\\n\\t\\tpadding: 5px 0px;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t}\\r\\n\\t.actionContent{\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tjustify-content: flex-start;\\r\\n\\t\\tdiv{\\r\\n\\t\\t\\theight: 32px!important;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\t.actionTitle{\\r\\n\\t\\tfont-size: 24px;\\r\\n\\t\\tfont-weight: 600;\\r\\n\\t\\tcolor: rgb(251, 226, 240);\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t}\\r\\n\\t.actionTopic{\\r\\n\\t\\tdisplay: inline-block;\\r\\n\\t\\tcolor: rgb(251, 226, 240);\\r\\n\\t\\twidth: 120px;\\r\\n\\t\\tline-height: 32px!important;\\r\\n\\t}\\n}\\r\\n\\t@keyframes shine {\\n\\t\\t100% {\\n\\t\\t\\tleft: 125%;\\n\\t\\t}\\n\\t}\\r\\n  @keyframes textanimate{\\r\\n    0%{\\r\\n      color: rgb(251, 226, 240);\\r\\n      transform: translateY(0px);\\r\\n      margin-left: 0;\\r\\n    }\\r\\n    25%{\\r\\n      color: #fff;\\r\\n      transform: translateY(-1em);\\r\\n      margin-left: 0.2em;\\r\\n      text-shadow: 0 30px 5px rgba(0, 0, 0, 1);\\r\\n    }\\r\\n    100%{\\r\\n      color: rgba(255, 255, 255, 0.1);\\r\\n      transform: translateY(0px);\\r\\n      margin-left: 0;\\r\\n    }\\r\\n  } \\r\\n  @keyframes rotater{\\r\\n    0%{\\r\\n      transform:rotate(0deg);\\r\\n    }\\r\\n\\t\\r\\n\\t100%{\\r\\n\\t transform:rotate(360deg);\\r\\n\\t}\\r\\n  } \\r\\n  @keyframes animate{\\r\\n    0%,40%,100%{\\r\\n      transform: translateY(0);\\r\\n    }\\r\\n    20%{\\r\\n      transform: translateY(-50px);\\r\\n    }\\r\\n  } \\r\\n  \\r\\n  @keyframes bounceInTV {\\r\\n\\t  0% {\\r\\n\\t      opacity: 0;\\r\\n\\t  }\\r\\n\\t  100%{\\r\\n\\t  \\t  opacity: 1;\\r\\n\\t  }\\r\\n  }\\r\\n  @keyframes bounceOutTV {\\r\\n  \\t  0% {\\r\\n  \\t      opacity: 1;\\r\\n  \\t  }\\r\\n  \\t  100%{\\r\\n  \\t  \\t  opacity: 0;\\r\\n  \\t  }\\r\\n  }\\r\\n\\r\\n@keyframes fadeOutBottomLeft {\\n    0% {\\n        opacity: 1;\\n        -webkit-transform: translateZ(0);\\n        transform: translateZ(0)\\n    }\\n\\n    to {\\n        opacity: 0;\\n        -webkit-transform: translate3d(-100%,100%,0);\\n        transform: translate3d(-100%,100%,0)\\n    }\\n}\\r\\n#rainroot canvas{\\r\\n\\tdisplay: block;\\r\\n\\twidth: 1080px!important;\\r\\n\\theight: 656px!important;\\r\\n\\ttop: 50%;\\r\\n\\tposition: absolute;\\r\\n\\tleft: 50%;\\r\\n\\ttransform: translate(-50%, -50%);\\r\\n\\tz-index: 123;\\r\\n}\\r\\n.mikaSwiss{\\r\\n\\tposition: absolute;\\r\\n\\twidth: 20px;\\r\\n\\theight: 20px;\\r\\n\\tleft: 50%;\\r\\n\\tbottom: 14px;\\r\\n\\tbackground: #fff0;\\r\\n\\tbackground-image: url(http://all.franxxdaryl.site/dist/swiss.png);\\r\\n\\tbackground-size: 42px 42px;\\r\\n\\tbackground-repeat: no-repeat;\\r\\n\\tbackground-position-x: -1px;\\r\\n\\tbackground-position-y: 0px;\\r\\n\\ttransform: translateX(74px);\\r\\n\\tfilter: blur(.7px);\\r\\n}\\r\\n.breakTitle{\\r\\n\\tfont-size: 24px;\\r\\n\\tcolor: #fff;\\r\\n}\\r\\n#breakScreen{\\r\\n\\twidth: 1080px;\\r\\n\\theight: 656px;\\r\\n\\tposition: absolute;\\r\\n\\tleft: 50%;\\r\\n\\ttop: 50%;\\r\\n\\tz-index: 144;\\r\\n\\ttransform: translate(-50%, -50%);\\r\\n\\ttransition: all 0.3s;\\r\\n\\tborder-radius: 25px;\\r\\n\\tcursor: pointer;\\r\\n\\tposition: absolute;\\r\\n\\tbackground: #565353ad;\\r\\n\\tdisplay: flex;\\r\\n\\talign-items: center;\\r\\n\\tflex-direction: column;\\r\\n\\tjustify-content: center;\\r\\n}\\r\\n.breakStep{\\r\\n\\tfont-size: 22px;\\r\\n\\tcolor: #fff;\\r\\n\\tmargin: 20px 0;\\r\\n}\\r\\n.breakContent{\\r\\n\\tdisplay: flex;\\r\\n\\tjustify-content: space-between;\\r\\n\\twidth: 160px;\\r\\n\\tcolor: #fff;\\r\\n\\tmargin-top: 20px;\\r\\n\\tdiv{\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\talign-items: flex-start;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t}\\r\\n\\timg{\\r\\n\\t\\twidth: 22px;\\r\\n\\t}\\r\\n\\tdiv:first-child{\\r\\n\\t\\timg{\\r\\n\\t\\t\\tpadding-top: 6px;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\tdiv:last-child{\\r\\n\\t\\timg{\\r\\n\\t\\t\\tpadding-left: 4px;\\r\\n\\t\\t\\ttransform: rotate(120deg);\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\tdiv:hover{\\r\\n\\t\\ttransition: all .3s;\\r\\n\\t\\ttransform: scale(1.2);\\r\\n\\t}\\r\\n\\t.breakItem{\\r\\n\\t\\theight: 60px;\\r\\n\\t}\\r\\n}\\r\\n.mikatootip{\\r\\n\\topacity: 1;\\r\\n\\tposition: absolute;\\r\\n\\tz-index: 231;\\r\\n\\tbackground: #fbe2f0;\\r\\n\\tpadding: 20px;\\r\\n\\tborder-radius: 20px;\\r\\n\\tfont-size: 18px;\\r\\n\\tcolor:#fff;\\r\\n\\twidth: 200px;\\r\\n\\tright: 108px;\\r\\n\\ttop: 4px;\\r\\n\\timg.arrow {\\r\\n\\t  position: absolute;\\r\\n\\t  right: -19px;\\r\\n\\t  top: 18px;\\r\\n\\t  animation: none!important;\\r\\n\\t  width: 30px!important;\\r\\n\\t  transform: none!important;\\r\\n\\t  border: 0px solid #fff0!important;\\r\\n\\t  opacity: 0.28;\\r\\n\\t}\\r\\n\\tanimation: heartShine 2s ease-in-out infinite; ;\\r\\n}\\r\\n.mikatootip:after{\\r\\n    position: absolute;\\n    top: 34px;\\n    right: -20px;\\n    content: \\\"\\\";\\n    width: 0;\\n    height: 0;\\n    border-right: 10px solid #fbe2f0;\\n    border-bottom: 10px solid transparent;\\n    border-left: 10px solid transparent;\\n    border-top: 10px solid transparent;\\n    transform: rotate(180deg);\\n}\\r\\n.mikatootip.hide{\\r\\n\\ttransition: all .3s;\\r\\n\\topacity: 0;\\r\\n}\\r\\n@keyframes heartShine{\\r\\n0%{\\r\\n  scale: .8;\\r\\n}\\r\\n50%{\\r\\n scale: 1;\\r\\n transform: translateX(14px);\\r\\n}\\r\\n100%{\\r\\n scale: .8;\\r\\n}\\r\\n} \\r\\n.topList{\\r\\n\\tposition: absolute;\\r\\n\\tdisplay: flex;\\r\\n\\tflex-direction: column;\\r\\n\\tjustify-content: flex-start;\\r\\n\\talign-content: center;\\r\\n\\tcolor: #fff;\\r\\n\\theight: 200px;\\r\\n\\tbackground: rgb(251, 226, 240);\\r\\n\\tborder-radius: 20px;\\r\\n\\tpadding: 10px;\\r\\n\\twidth: 600px;\\r\\n\\tbottom: 16px;\\r\\n\\tleft: 50%;\\r\\n\\ttransform: translate(-50%, 8px);\\r\\n\\t.topTitle{\\r\\n\\t\\ttext-align: center;\\r\\n\\t\\tmargin-bottom: 10px;\\r\\n\\t\\tfont-size: 24px;\\r\\n\\t\\tfont-weight: 600;\\r\\n\\t\\theight: 28px;\\r\\n\\t}\\r\\n\\tdiv{\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\tposition: relative;\\r\\n\\t}\\r\\n\\tspan{\\r\\n\\t\\ttransition: all .3s;\\r\\n\\t\\ttext-align: left;\\r\\n\\t\\tposition: absolute;\\r\\n\\t\\twidth:100%;\\r\\n\\t\\tleft: 0px;\\r\\n\\t\\ttop: 0px;\\r\\n\\t\\tfont-size: 18px;\\r\\n\\t\\twhite-space: nowrap;\\r\\n\\t\\ttext-overflow: ellipsis;\\r\\n\\t\\toverflow: hidden;\\r\\n\\t}\\r\\n\\tspan:hover{\\r\\n\\t\\ttransition: all .3s;\\r\\n\\t\\ttransform: scale(1.05);\\r\\n\\t}\\r\\n\\t.topContent{\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\tflex: 1;\\r\\n\\t\\toverflow-y: auto;\\r\\n\\t\\toverflow-x: hidden;\\r\\n\\t\\tpadding: 0 10px;\\r\\n\\t\\twidth: auto;\\r\\n\\t\\tdiv{\\r\\n\\t\\t\\theight: 34px;\\r\\n\\t\\t\\tdisplay: flex;\\r\\n\\t\\t\\talign-items: center;\\r\\n\\t\\t\\tjustify-content: center;\\r\\n\\t\\t\\tmargin: 8px 0;\\r\\n\\t\\t\\tpadding: 8px 0;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\t.topContent::-webkit-scrollbar {\\r\\n\\t  width: 0;\\r\\n\\t  height: 0;\\r\\n\\t}\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./mikaTV.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n  var p;\n  for (p in a) {\n    if (isNamedExport && p === \"default\") {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n  for (p in b) {\n    if (isNamedExport && p === \"default\") {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n    if (!a[p]) {\n      return false;\n    }\n  }\n  return true;\n};\n    var isNamedExport = !content.locals;\n    var oldLocals = isNamedExport ? namedExport : content.locals;\n\n    module.hot.accept(\n      \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./mikaTV.scss\",\n      function () {\n        if (!isEqualLocals(oldLocals, isNamedExport ? namedExport : content.locals, isNamedExport)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = isNamedExport ? namedExport : content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./mikaTV.scss\";\n       export default content && content.locals ? content.locals : undefined;\n"],"names":["_regeneratorRuntime","e","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","_typeof","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","catch","delegateYield","asyncGeneratorStep","gen","reject","_next","_throw","key","info","error","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_iterableToArrayLimit","minLen","_arrayLikeToArray","toString","from","test","_unsupportedIterableToArray","_nonIterableRest","len","arr2","props","currentMod","useRef","_useState2","useState","initMod","setInitMod","_useState4","isInHide","setIsInHide","_useState6","initDance","setInitDance","_useState8","initBreak","setInitBreak","afterDance","useCallback","useEffect","show","document","getElementById","setAttribute","gl","createElement","getContext","debugInfo","getExtension","displayInfo","brand","getParameter","UNMASKED_VENDOR_WEBGL","UNMASKED_RENDERER_WEBGL","axios","post","fn","_ref","_callee","res","_context","request","headers","url","Date","getTime","t0","console","self","args","arguments","apply","err","undefined","_x","window","_currentHotDance","setTimeout","current","MikaMMd","startDance","needReload","_animateNeedPause","destroy","closeTV","reloadAmmo","onClose","recommands","recommandList","React","className","concat","id","onClick","src","imgRestart","imgLoad","map","event","actor","style","worker","Worker","MMDLoader","_Loader","manager","_this","_classCallCheck","_callSuper","loader","FileLoader","parser","meshBuilder","MeshBuilder","animationBuilder","AnimationBuilder","_inherits","_createClass","animationPath","this","bufferObj","onLoad","resourcePath","_getParser","mmd","parsePmd","buffer","parsePmx","builder","setCrossOrigin","crossOrigin","path","LoaderUtils","extractUrlBase","build","onProgress","onError","modelExtension","_extractExtension","toLowerCase","data","result","object","loadVMD","vmd","isCamera","buildCameraAnimation","modelUrl","vmdUrl","scope","load","mesh","loadAnimation","animation","setMimeType","setPath","setResponseType","setRequestHeader","requestHeader","setWithCredentials","withCredentials","postMessage","command","scenceObj","urls","vmds","vmdNum","il","parseVmd","mergeVmds","isUnicode","text","parseVpd","index","lastIndexOf","MMDParser","Parser","Loader","DEFAULT_TOON_TEXTURES","NON_ALPHA_CHANNEL_FORMATS","RGB_S3TC_DXT1_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGB_ETC2_Format","geometryBuilder","GeometryBuilder","materialBuilder","MaterialBuilder","geometry","material","setResourcePath","SkinnedMesh","skeleton","Skeleton","bones","gbone","bone","Bone","position","fromArray","pos","quaternion","rotq","scl","scale","parent","add","updateMatrixWorld","initBones","bind","positions","uvs","normals","indices","groups","skinIndices","skinWeights","morphTargets","morphPositions","iks","grants","rigidBodies","constraints","offset","boneTypeTable","metadata","vertexCount","vertices","j","jl","normal","uv","faceCount","face","faces","materialCount","materials","count","rigidBodyCount","body","boneIndex","Math","max","boneCount","boneData","transformationClass","parentIndex","rigidBodyType","format","ikCount","ik","param","target","effector","iteration","maxAngle","links","link","enabled","indexOf","limitation","Vector3","angleLimitation","rotationMin","lowerLimitationAngle","rotationMax","upperLimitationAngle","tmp1","tmp2","grantEntryMap","grant","ratio","isLocal","affectRotation","affectPosition","children","visited","rootEntry","grantEntry","parentGrantEntry","traverse","entry","child","updateAttributes","attribute","morph","elementCount","element","elements","morphs","array","morphCount","params","Float32BufferAttribute","morph2","rigidBody","constraintCount","constraint","bodyA","rigidBodyIndex1","bodyB","rigidBodyIndex2","BufferGeometry","Uint16BufferAttribute","setIndex","addGroup","morphAttributes","morphTargetsRelative","userData","MMD","computeBoundingSphere","textureLoader","TextureLoader","tgaLoader","textures","_Color","_Color2","diffuse","Color","setRGB","SRGBColorSpace","opacity","specular","_toConsumableArray","shininess","emissive","ambient","transparent","fog","blending","CustomBlending","blendSrc","SrcAlphaFactor","blendDst","OneMinusSrcAlphaFactor","blendSrcAlpha","blendDstAlpha","DstAlphaFactor","flag","side","FrontSide","DoubleSide","fileName","fileNames","split","_loadTexture","extension","matcap","matcapCombine","MultiplyOperation","AddOperation","toonFileName","toonIndex","toonTextures","gradientMap","isToonTexture","isDefaultToonTexture","_isDefaultToonTexture","outlineParameters","thickness","edgeFlag","color","alpha","visible","textureIndex","mapFileName","envTextureIndex","envFlag","matcapFileName","isDefaultToon","toonFlag","edgeSize","edgeColor","_checkImageTransparency","multiplyScalar","MMDToonMaterial","checkAlphaMorph","TGALoader","filePath","fullPath","parseInt","match","warn","getHandler","_getTGALoader","texture","image","_getRotatedImage","magFilter","NearestFilter","minFilter","flipY","wrapS","RepeatWrapping","wrapT","colorSpace","readyCallbacks","canvas","context","width","height","clearRect","translate","rotate","PI","drawImage","getImageData","groupIndex","getAlphaByUv","x","round","isCompressedTexture","imageData","createImageData","group","centerUV","detectImageTransparency","attributes","start","includes","tracks","buildSkeletalAnimation","tracks2","buildMorphAnimation","AnimationClip","pushInterpolation","interpolation","motions","boneNameDictionary","motionCount","motion","boneName","sort","b","frameNum","times","rotations","pInterpolations","rInterpolations","basePosition","getBoneByName","toArray","time","rotation","targetName","_createTrack","VectorKeyframeTrack","QuaternionKeyframeTrack","morphTargetDictionary","morphName","weight","NumberKeyframeTrack","pushVector3","vec","z","cameras","q","centers","quaternions","fovs","cInterpolations","qInterpolations","fInterpolations","Quaternion","euler","Euler","center","rot","distance","fov","set","setFromEuler","applyQuaternion","w","node","typedKeyframeTrack","interpolations","stride","interpolateStride","aheadIndex","endIndex","track","createInterpolant","CubicBezierInterpolation","getValueSize","Float32Array","_Interpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","_this2","interpolationParams","i1","t1","valueSize","offset1","offset0","weight1","x1","x2","y1","y2","_calculate","slerpFlat","sst3","stt3","ttt","math","ft","abs","Interpolant","_ShaderMaterial","parameters","_this3","isMMDToonMaterial","_matcapCombine","emissiveIntensity","normalMapType","TangentSpaceNormalMap","combine","wireframeLinecap","wireframeLinejoin","flatShading","lights","vertexShader","MMDToonShader","fragmentShader","defines","assign","get","MATCAP_BLENDING_MULTIPLY","MATCAP_BLENDING_ADD","uniforms","UniformsUtils","clone","_loop","propertyName","_exposePropertyNames","_i22","_shininess","getOwnPropertyDescriptor","setValues","source","_get","_getPrototypeOf","ShaderMaterial","actionList","music","move","camera","moveLeft","moveRight","needRugular","pendingList","characterList","stageList","model","stage","needRain","posList","_defineProperties","descriptor","_toPropertyKey","toPrimitive","String","_toPrimitive","__createBinding","m","k","k2","desc","__esModule","__setModuleDefault","__importStar","mod","exports","Camera","THREE","require","Constructor","instance","protoProps","_camera","container","clientHeight","clientWidth","PerspectiveCamera","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","__importDefault","helper","MMDLoader_js_1","FBXLoader_js_1","MMDAnimationHelper_js_1","camera_1","filelists_1","update","mmdCDN","mmdActCDN","getOnlyArray","Set","random","xhr","lengthComputable","loaded","total","enable","meshes","_a","_b","_c","_d","dispose","remove","audio","currentAudio","performanceEnd","scene","FBXLoader","getScene","log","_e","_f","_g","_h","_j","_k","_l","_m","_o","isPending","asyncFileObj","MMDAnimationHelper","location","href","randomStudentIndex","getHours","randomActionIndex","_MMDneedReload","curRandomStudentIndex","curRandomActionIndex","audioFile","withoutMikaArray","pendingOnlyArray","pendingCharaArray","getOnlyChars","find","indx","findIndex","curPendingCharaArray","otherChar","filter","multCharms","str","curCamera","default","getCamera","char1","replace","char2","char3","innerHTML","join","mmdInfo","loadAction","motionUrl","rej","loadWithAnimation","_mmd$mesh$position","castShadow","receiveShadow","objects","mixer","addEventListener","_currentActionFinish","afterEndLoop","pmArr","curAudio","curMove","all","listener","AudioListener","AudioLoader","Audio","setBuffer","cameraAnimation","play","_currentAudio","frustumCulled","needMikus","specialList","randomIndex","moveSpecial","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","rejected","loader_1","renderer_1","sceneMain_1","OrbitControls_js_1","OutlineEffect_js_1","axios_1","ThreeProject","needPending","needRerender","resData","response","finally","clock","Clock","currentScene","Scene","init","pending","reRender","loadModels","initControls","initLight","callRenderer","Ammo","newspw","appendChild","removeChild","curDom","clearAudio","destroyScene","currentEffect","cancelAnimationFrame","frameId","refreshHelper","getElementsByClassName","asyncData","OutlineEffect","getRenderer","pendingStatus","requestAnimationFrame","getDelta","setSize","innerWidth","innerHeight","render","controls","OrbitControls","domElement","rainEffect","WebGPURenderer_js_1","StorageInstancedBufferAttribute_js_1","Nodes_1","BufferGeometryUtils","rainInstance","effect","renderer","rainroot","WebGPURendererCons","dirLight","_window","maxParticleCount","monkey","collisionPosRT","collisionPosMaterial","createBuffer","positionBuffer","velocityBuffer","ripplePositionBuffer","rippleTimeBuffer","timer","randUint","computeInit","computeUpdate","computeParticles","billboarding","rainMaterial","rainParticles","rippleTime","rippleEffect","rippleMaterial","surfaceRippleGeometry","xRippleGeometry","zRippleGeometry","rippleGeometry","rippleParticles","animate","delta","overrideMaterial","setRenderTarget","compute","antialias","DirectionalLight","shadow","near","far","right","left","top","bottom","mapSize","bias","AmbientLight","lookAt","RenderTarget","HalfFloatType","MeshBasicNodeMaterial","colorNode","positionWorld","storage","timerLocal","uint","tslFn","instanceIndex","velocity","randX","hash","randY","randZ","mul","getCoord","div","ripplePosition","addAssign","timerDelta","floorPosition","xz","If","lessThan","rippleFloorArea","greaterThan","particlePosition","toAttribute","worldMatrix","modelWorldMatrix","toVar","modelViewMatrix","cameraViewMatrix","cameraProjectionMatrix","positionGeometry","vec2","oneMinus","exp","vertexNode","forceSinglePass","depthWrite","depthTest","Mesh","PlaneGeometry","isInstancedMesh","sub","min","positionNode","opacityNode","rotateX","rotateY","mergeGeometries","setPixelRatio","devicePixelRatio","setAnimationLoop","clear","Renderer","WebGLRenderer","powerPreference","preserveDrawingBuffer","premultipliedAlpha","setClearColor","shadowMap","PCFSoftShadowMap","toneMappingExposure","outputEncoding","sRGBEncoding","_renderer","Sky_js_1","light_1","rainEffect_1","mmdExtLoader_js_1","mmdObj","asyncStages","getMMDWWMessage","workerMessage","sceneObj","num","parseBuffer","storedMmd","randomStageIndex","background","ambientLight","directionalLight","shadowMapHeight","shadowMapWidth","radius","effectController","sky","Sky","setScalar","sun","phi","MathUtils","degToRad","theta","setFromSphericalCoords","copy","getSkyLoad","filterStr","alphaToCoverage","matFloor","MeshPhongMaterial","geoFloor","mshFloor","stageName","curLightData","currentSpotLight","SpotLight","intensity","angle","penumbra","decay","focus","getHex","currentSpotLightHelper","SpotLightHelper","Layers","MeshBasicMaterial","stageLightFrame","clearInterval","stageLightTimeOut","stageScene","removeEventListener","___CSS_LOADER_EXPORT___","module","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","hot","invalidate","isNamedExport","oldLocals","accept","isEqualLocals"],"sourceRoot":""}